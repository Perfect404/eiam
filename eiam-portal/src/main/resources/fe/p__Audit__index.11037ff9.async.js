/*
 * eiam-portal - Employee Identity and Access Management Program
 * Copyright Â© 2020-2022 TopIAM (support@topiam.cn)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
"use strict";(self.webpackChunktopiam_portal=self.webpackChunktopiam_portal||[]).push([[956],{82665:function(ae,H,a){a.r(H),a.d(H,{default:function(){return xe}});var m=a(97983),j=a.n(m),w=a(40794),M=a.n(w),U=a(12741),D=a.n(U),d=a(39398),l=a(1413),f=a(67294),h={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},o=h,N=a(84089),x=function(T,C){return f.createElement(N.Z,(0,l.Z)((0,l.Z)({},T),{},{ref:C,icon:o}))};x.displayName="CaretRightOutlined";var W=f.forwardRef(x),u=a(19847),Z=a(65767),X=a(92652),de=a(2093),re=a(98033),ee=a(34041),le=a(76521),fe=a(26713),se=a(51904),ve=a(27484),ne=a.n(ve),me=a(17057),oe=a(95462),he=a(12812),i=a.n(he),t=a(38755);function v(S){var T=".".concat(S),C=(0,t.l)(function(){var y;return i()({},"".concat(T),(y={display:"flex","padding-left":"10px"},i()(y,"&-line-user",{flex:1,"margin-right":"24px"}),i()(y,"&-line-event",{flex:1,"margin-right":"24px"}),i()(y,"&-line-geo",{flex:1,"margin-right":"24px"}),i()(y,"&-label",{display:"block","min-width":"80px",color:"#878a95","font-size":"14px"}),i()(y,"&-content",{display:"block","flex-wrap":"wrap","overflow-x":"auto",color:"#293350","font-size":"14px"}),i()(y,"&-each-line",{display:"flex","margin-bottom":"14px"}),i()(y,"&-target",{flex:1}),y))});return{className:C}}var c=a(94184),n=a.n(c),B;(function(S){S.admin="admin",S.user="user"})(B||(B={}));var F;(function(S){S.success="success",S.fail="fail"})(F||(F={}));var e=a(85893),r="audit-expanded-card",A=me.Z.Text,I=function(T){var C,y,$,R,p,P,b,s=T.record,g=v(r),E=g.className,_=function(Y){return!Y||Y==="null"||Y==="-"||Y==="undefined"?"-":Y};return(0,e.jsx)("div",{className:E,children:(0,e.jsxs)("div",{className:n()("".concat(r)),children:[(0,e.jsxs)("div",{className:n()("".concat(r,"-line-user")),children:[(0,e.jsxs)("div",{className:n()("".concat(r,"-each-line")),children:[(0,e.jsx)("span",{className:n()("".concat(r,"-label")),children:"\u64CD\u4F5C\u8005 ID"}),(0,e.jsx)("span",{className:n()("".concat(r,"-content")),children:(0,e.jsx)(oe.Z,{style:{marginBottom:0},className:n()("".concat(r,"-content")),copyable:!0,children:_(s.userId)})})]}),(0,e.jsxs)("div",{className:n()("".concat(r,"-each-line")),children:[(0,e.jsx)("span",{className:n()("".concat(r,"-label")),children:"\u64CD\u4F5C\u8005\u540D\u79F0"}),(0,e.jsx)("span",{className:n()("".concat(r,"-content")),children:_(s.username)})]})]}),(0,e.jsxs)("div",{className:n()("".concat(r,"-line-geo")),children:[(0,e.jsxs)("div",{className:n()("".concat(r,"-each-line")),children:[(0,e.jsx)("span",{className:n()("".concat(r,"-label")),children:"\u8BBE\u5907\u7C7B\u578B"}),(0,e.jsx)("span",{className:n()("".concat(r,"-content")),children:s.userAgent&&((C=s.userAgent)===null||C===void 0?void 0:C.deviceType)||"-"})]}),(0,e.jsxs)("div",{className:n()("".concat(r,"-each-line")),children:[(0,e.jsx)("span",{className:n()("".concat(r,"-label")),children:"\u64CD\u4F5C\u7CFB\u7EDF"}),(0,e.jsx)("span",{className:n()("".concat(r,"-content")),children:s.userAgent&&((y=s.userAgent)===null||y===void 0?void 0:y.platform)||"-"})]}),(0,e.jsxs)("div",{className:n()("".concat(r,"-each-line")),children:[(0,e.jsx)("span",{className:n()("".concat(r,"-label")),children:"\u5BA2\u6237\u7AEFIP"}),(0,e.jsx)("span",{className:n()("".concat(r,"-content")),children:(($=s.geoLocation)===null||$===void 0?void 0:$.ip)||"-"})]}),(0,e.jsxs)("div",{className:n()("".concat(r,"-each-line")),children:[(0,e.jsx)("span",{className:n()("".concat(r,"-label")),children:"\u6D4F\u89C8\u5668"}),(0,e.jsx)("span",{className:n()("".concat(r,"-content")),children:s.userAgent&&((R=s.userAgent)===null||R===void 0?void 0:R.browser)||"-"})]}),(0,e.jsxs)("div",{className:n()("".concat(r,"-each-line")),children:[(0,e.jsx)("span",{className:n()("".concat(r,"-label")),children:"\u56FD\u5BB6"}),(0,e.jsx)("span",{className:n()("".concat(r,"-content")),children:s.geoLocation&&((p=s.geoLocation)===null||p===void 0?void 0:p.countryName)||"-"})]}),(0,e.jsxs)("div",{className:n()("".concat(r,"-each-line")),children:[(0,e.jsx)("span",{className:n()("".concat(r,"-label")),children:"\u7701\u4EFD"}),(0,e.jsx)("span",{className:n()("".concat(r,"-content")),children:s.geoLocation&&((P=s.geoLocation)===null||P===void 0?void 0:P.provinceName)||"-"})]}),(0,e.jsxs)("div",{className:n()("".concat(r,"-each-line")),children:[(0,e.jsx)("span",{className:n()("".concat(r,"-label")),children:"\u57CE\u5E02"}),(0,e.jsx)("span",{className:n()("".concat(r,"-content")),children:s.geoLocation&&((b=s.geoLocation)===null||b===void 0?void 0:b.cityName)||"-"})]})]}),(0,e.jsxs)("div",{className:n()("".concat(r,"-line-event")),children:[(0,e.jsxs)("div",{className:n()("".concat(r,"-each-line")),children:[(0,e.jsx)("span",{className:n()("".concat(r,"-label")),children:"\u4E8B\u4EF6\u65F6\u95F4"}),(0,e.jsx)("span",{className:n()("".concat(r,"-content")),children:(0,e.jsx)(A,{style:{maxWidth:"100%"},ellipsis:!0,children:ne()(s.eventTime).format("YYYY.MM.DD HH:mm:ss")})})]}),(0,e.jsxs)("div",{className:n()("".concat(r,"-each-line")),children:[(0,e.jsx)("span",{className:n()("".concat(r,"-label")),children:"\u4E8B\u4EF6\u7C7B\u578B"}),(0,e.jsx)("span",{className:n()("".concat(r,"-content")),children:s.eventType})]}),(0,e.jsxs)("div",{className:n()("".concat(r,"-each-line")),children:[(0,e.jsx)("span",{className:n()("".concat(r,"-label")),children:"\u4E8B\u4EF6\u72B6\u6001"}),(0,e.jsxs)("span",{className:n()("".concat(r,"-content")),children:[s.eventStatus===F.success&&(0,e.jsx)("span",{style:{color:"#87d068"},children:"\u6210\u529F"}),s.eventStatus===F.fail&&(0,e.jsx)("span",{style:{color:"#e54545"},children:"\u5931\u8D25"})]})]})]}),s.targets&&(0,e.jsx)("div",{className:n()("".concat(r,"-line-target")),children:(0,e.jsxs)("span",{className:n()("".concat(r,"-each-line")),children:[(0,e.jsx)("span",{className:n()("".concat(r,"-label")),children:"\u64CD\u4F5C\u5BF9\u8C61"}),(0,e.jsx)("span",{className:n()("".concat(r,"-content")),children:(0,e.jsx)("pre",{children:JSON.stringify(s.targets,null,3)},s.id)})]})})]})})},V=a(11281),O=a.n(V),Q=a(40367),L=a(98971);function K(S,T,C){return J.apply(this,arguments)}function J(){return J=M()(j()().mark(function S(T,C,y){return j()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,L.request)("/api/audit/list",{params:O()(O()(O()({},T),{},{userType:"user",startEventTime:T.eventTime&&T.eventTime[0],endEventTime:T.eventTime&&T.eventTime[1]},(0,Q.YE)(C)),(0,Q.oH)(y))}).then(function(p){var P,b,s,g,E={data:p!=null&&(P=p.result)!==null&&P!==void 0&&P.list?p==null||(b=p.result)===null||b===void 0?void 0:b.list:[],success:p==null?void 0:p.success,total:p!=null&&(s=p.result)!==null&&s!==void 0&&s.pagination?p==null||(g=p.result)===null||g===void 0?void 0:g.pagination.total:0};return Promise.resolve(E)}));case 1:case"end":return R.stop()}},S)})),J.apply(this,arguments)}function te(){return k.apply(this,arguments)}function k(){return k=M()(j()().mark(function S(){return j()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,L.request)("/api/audit/types/user"));case 1:case"end":return C.stop()}},S)})),k.apply(this,arguments)}var q=a(46986),ge=q.ZP.ConfigContext;function ce(S){var T=".".concat(S),C=(0,f.useContext)(ge),y=C.getPrefixCls,$=".".concat(y()),R=(0,t.l)(function(){return i()({},"".concat(T),i()({},"".concat($,"-table-expanded-row-fixed"),{width:"auto !important"}))});return{className:R}}var ie=re.Z.RangePicker,pe=ee.Z.OptGroup,ue=ee.Z.Option,z="audit-user",xe=function(){var S=(0,f.useRef)(),T=(0,X.Z)(),C=D()(T,2),y=C[0],$=C[1],R=ce(z),p=R.className;(0,de.Z)(M()(j()().mark(function b(){var s,g,E;return j()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,te();case 2:s=G.sent,g=s.result,E=s.success,E&&$(g);case 6:case"end":return G.stop()}},b)})),[]);var P=[{title:"\u4E8B\u4EF6\u7C7B\u578B",dataIndex:"eventType",fixed:"left",renderFormItem:function(){return(0,e.jsx)(ee.Z,{placeholder:"\u8BF7\u9009\u62E9\u4E8B\u4EF6\u7C7B\u578B",showSearch:!0,allowClear:!0,mode:"multiple",maxTagCount:"responsive",children:y&&y.map(function(s){return(0,e.jsx)(pe,{label:s.name,children:s.types&&s.types.map(function(g){return(0,e.jsx)(ue,{value:g.code,children:g.name},g.code)})},s.code)})},"select")}},{title:"\u64CD\u4F5C\u8005",ellipsis:!0,dataIndex:"username",fieldProps:{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}},{title:"\u5BA2\u6237\u7AEFIP",dataIndex:"geoLocation",ellipsis:!0,valueType:"text",hideInSearch:!0,render:function(s,g){var E=g.geoLocation;return E?(0,e.jsx)(le.Z,{status:"success",text:E.ip}):(0,e.jsx)(le.Z,{status:"error",text:"\u672A\u77E5"})}},{title:"\u64CD\u4F5C\u7CFB\u7EDF",ellipsis:!0,dataIndex:"platform",render:function(s,g){var E=g.userAgent;return E.platform}},{title:"\u6D4F\u89C8\u5668",ellipsis:!0,dataIndex:"browser",render:function(s,g){var E=g.userAgent;return E.browser}},{title:"\u4E8B\u4EF6\u65F6\u95F4",sorter:!0,defaultSortOrder:"descend",ellipsis:!0,align:"center",dataIndex:"eventTime",valueType:"dateTime",renderFormItem:function(){return(0,e.jsx)(ie,{showTime:{hideDisabledOptions:!0,defaultValue:[ne()("00:00:00","HH:mm:ss"),ne()("11:59:59","HH:mm:ss")]},placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],format:"YYYY-MM-DD HH:mm:ss"})}},{title:"\u4E8B\u4EF6\u72B6\u6001",dataIndex:"eventStatus",hideInSearch:!0,align:"center",fixed:"right",width:150,render:function(s){return(0,e.jsxs)(fe.Z,{children:[s===F.success&&(0,e.jsx)(se.Z,{color:"#87d068",children:"\u6210\u529F"}),s===F.fail&&(0,e.jsx)(se.Z,{color:"#e54545",children:"\u5931\u8D25"})]})}}];return(0,e.jsx)(u._z,{className:p,content:"\u5BA1\u8BA1\u65E5\u5FD7\u8BB0\u5F55\u4E86\u6240\u6709\u5E73\u53F0\u7528\u6237\u8FDB\u884C\u7684\u5173\u952E\u64CD\u4F5C\uFF0C\u65E0\u8BBA\u662F\u7BA1\u7406\u5458\u8FDB\u884C\u7684\u6279\u91CF\u64CD\u4F5C\u3001\u8FD8\u662F\u7528\u6237\u4FA7\u8FDB\u884C\u7684\u591A\u56E0\u7D20\u8BA4\u8BC1\uFF0C\u90FD\u53EF\u4EE5\u5728\u8FD9\u91CC\u627E\u5230\u5BF9\u5E94\u7684\u8BB0\u5F55\uFF0C\u4EE5\u5BF9\u67D0\u6B21\u6539\u53D8\u63D0\u4F9B\u5145\u5206\u7684\u6EAF\u6E90\u6570\u636E\u3002",children:(0,e.jsx)(Z.Z,{columns:P,scroll:{x:1200},pagination:{showQuickJumper:!0,defaultPageSize:10},search:{},expandable:{expandRowByClick:!0,expandedRowClassName:function(){return n()("".concat(z))},expandedRowRender:function(s,g){return(0,e.jsx)(I,{record:s,index:g})},expandIcon:function(s){var g=s.expanded,E=s.onExpand,_=s.record;return g?(0,e.jsx)(d.Z,{onClick:function(Y){return E(_,Y)}}):(0,e.jsx)(W,{onClick:function(Y){return E(_,Y)}})}},actionRef:S,params:{userType:B.user},request:K,rowKey:"id",dateFormatter:"string"})})}},2093:function(ae,H,a){var m=a(67294),j=a(92770),w=function(D,d,l,f){function h(o){return o instanceof l?o:new l(function(N){N(o)})}return new(l||(l=Promise))(function(o,N){function x(Z){try{u(f.next(Z))}catch(X){N(X)}}function W(Z){try{u(f.throw(Z))}catch(X){N(X)}}function u(Z){Z.done?o(Z.value):h(Z.value).then(x,W)}u((f=f.apply(D,d||[])).next())})},M=function(D,d){var l={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},f,h,o,N;return N={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function x(u){return function(Z){return W([u,Z])}}function W(u){if(f)throw new TypeError("Generator is already executing.");for(;l;)try{if(f=1,h&&(o=u[0]&2?h.return:u[0]?h.throw||((o=h.return)&&o.call(h),0):h.next)&&!(o=o.call(h,u[1])).done)return o;switch(h=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return l.label++,{value:u[1],done:!1};case 5:l.label++,h=u[1],u=[0];continue;case 7:u=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){l=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){l.label=u[1];break}if(u[0]===6&&l.label<o[1]){l.label=o[1],o=u;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(u);break}o[2]&&l.ops.pop(),l.trys.pop();continue}u=d.call(D,l)}catch(Z){u=[6,Z],h=0}finally{f=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function U(D,d){function l(f){return(0,j.mf)(f[Symbol.asyncIterator])}(0,m.useEffect)(function(){var f=D(),h=!1;function o(){return w(this,void 0,void 0,function(){var N;return M(this,function(x){switch(x.label){case 0:if(!l(f))return[3,4];x.label=1;case 1:return[4,f.next()];case 2:return N=x.sent(),N.done||h?[3,3]:[3,1];case 3:return[3,6];case 4:return[4,f];case 5:x.sent(),x.label=6;case 6:return[2]}})})}return o(),function(){h=!0}},d)}H.Z=U},92652:function(ae,H,a){a.d(H,{Z:function(){return D}});var m=a(67294),j=function(){var l=(0,m.useRef)(!1);return(0,m.useEffect)(function(){return l.current=!1,function(){l.current=!0}},[]),l},w=j,M=function(d,l){var f=typeof Symbol=="function"&&d[Symbol.iterator];if(!f)return d;var h=f.call(d),o,N=[],x;try{for(;(l===void 0||l-- >0)&&!(o=h.next()).done;)N.push(o.value)}catch(W){x={error:W}}finally{try{o&&!o.done&&(f=h.return)&&f.call(h)}finally{if(x)throw x.error}}return N};function U(d){var l=w(),f=M((0,m.useState)(d),2),h=f[0],o=f[1],N=(0,m.useCallback)(function(x){l.current||o(x)},[]);return[h,N]}var D=U},92770:function(ae,H,a){a.d(H,{mf:function(){return j}});var m=function(l){return l!==null&&typeof l=="object"},j=function(l){return typeof l=="function"},w=function(l){return typeof l=="string"},M=function(l){return typeof l=="boolean"},U=function(l){return typeof l=="number"},D=function(l){return typeof l=="undefined"}},51904:function(ae,H,a){a.d(H,{Z:function(){return he}});var m=a(4942),j=a(87462),w=a(97685),M=a(97937),U=a(94184),D=a.n(U),d=a(67294),l=a(53124),f=a(98787),h=a(28704),o=a(8796),N=a(67968),x=a(45503);function W(i){if(typeof i!="string")return i;var t=i.charAt(0).toUpperCase()+i.slice(1);return t}var u=a(14747),Z=function(t,v,c){var n=W(c);return(0,m.Z)({},t.componentCls+"-"+v,{color:t["color"+c],background:t["color"+n+"Bg"],borderColor:t["color"+n+"Border"]})},X=function(t){return o.i.reduce(function(v,c){var n,B=t[c+"-1"],F=t[c+"-3"],e=t[c+"-6"],r=t[c+"-7"];return(0,j.Z)((0,j.Z)({},v),(n={},(0,m.Z)(n,t.componentCls+"-"+c,{color:r,background:B,borderColor:F}),(0,m.Z)(n,t.componentCls+"-"+c+"-inverse",{color:t.colorTextLightSolid,background:e,borderColor:e}),n))},{})},de=function(t){var v,c=t.paddingXXS,n=t.lineWidth,B=t.tagPaddingHorizontal,F=B-n,e=c-n;return(0,m.Z)({},t.componentCls,(0,j.Z)((0,j.Z)({},(0,u.Wf)(t)),(v={display:"inline-block",height:"auto",marginInlineEnd:t.marginXS,paddingInline:F,fontSize:t.tagFontSize,lineHeight:t.tagLineHeight+"px",whiteSpace:"nowrap",background:t.tagDefaultBg,border:t.lineWidth+"px "+t.lineType+" "+t.colorBorder,borderRadius:t.borderRadiusSM,opacity:1,transition:"all "+t.motionDurationMid,textAlign:"start","&&-rtl":{direction:"rtl"},"&, a, a:hover":{color:t.tagDefaultColor}},(0,m.Z)(v,t.componentCls+"-close-icon",{marginInlineStart:e,color:t.colorTextDescription,fontSize:t.tagIconSize,cursor:"pointer",transition:"all "+t.motionDurationMid,"&:hover":{color:t.colorTextHeading}}),(0,m.Z)(v,"&&-has-color",(0,m.Z)({borderColor:"transparent"},"&, a, a:hover, "+t.iconCls+"-close, "+t.iconCls+"-close:hover",{color:t.colorTextLightSolid})),(0,m.Z)(v,"&-checkable",{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer","&:not(&-checked):hover":{color:t.colorPrimary,backgroundColor:t.colorFillSecondary},"&:active, &-checked":{color:t.colorTextLightSolid},"&-checked":{backgroundColor:t.colorPrimary,"&:hover":{backgroundColor:t.colorPrimaryHover}},"&:active":{backgroundColor:t.colorPrimaryActive}}),(0,m.Z)(v,"&-hidden",{display:"none"}),(0,m.Z)(v,"> "+t.iconCls+" + span, > span + "+t.iconCls,{marginInlineStart:F}),v)))},re=(0,N.Z)("Tag",function(i){var t=i.fontSize,v=i.lineHeight,c=i.lineWidth,n=i.fontSizeIcon,B=Math.round(t*v),F=i.fontSizeSM,e=B-c*2,r=i.colorFillAlter,A=i.colorText,I=(0,x.TS)(i,{tagFontSize:F,tagLineHeight:e,tagDefaultBg:r,tagDefaultColor:A,tagIconSize:n-2*c,tagPaddingHorizontal:8});return[de(I),X(I),Z(I,"success","Success"),Z(I,"processing","Info"),Z(I,"error","Error"),Z(I,"warning","Warning")]}),ee=function(i,t){var v={};for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&t.indexOf(c)<0&&(v[c]=i[c]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,c=Object.getOwnPropertySymbols(i);n<c.length;n++)t.indexOf(c[n])<0&&Object.prototype.propertyIsEnumerable.call(i,c[n])&&(v[c[n]]=i[c[n]]);return v},le=function(t){var v,c=t.prefixCls,n=t.className,B=t.checked,F=t.onChange,e=t.onClick,r=ee(t,["prefixCls","className","checked","onChange","onClick"]),A=d.useContext(l.E_),I=A.getPrefixCls,V=function(q){F==null||F(!B),e==null||e(q)},O=I("tag",c),Q=re(O),L=(0,w.Z)(Q,2),K=L[0],J=L[1],te=D()(O,(v={},(0,m.Z)(v,O+"-checkable",!0),(0,m.Z)(v,O+"-checkable-checked",B),v),n,J);return K(d.createElement("span",(0,j.Z)({},r,{className:te,onClick:V})))},fe=le,se=function(i,t){var v={};for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&t.indexOf(c)<0&&(v[c]=i[c]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,c=Object.getOwnPropertySymbols(i);n<c.length;n++)t.indexOf(c[n])<0&&Object.prototype.propertyIsEnumerable.call(i,c[n])&&(v[c[n]]=i[c[n]]);return v},ve=new RegExp("^("+f.Y.join("|")+")(-inverse)?$"),ne=new RegExp("^("+f.E.join("|")+")$"),me=function(t,v){var c,n=t.prefixCls,B=t.className,F=t.style,e=t.children,r=t.icon,A=t.color,I=t.onClose,V=t.closeIcon,O=t.closable,Q=O===void 0?!1:O,L=se(t,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),K=d.useContext(l.E_),J=K.getPrefixCls,te=K.direction,k=d.useState(!0),q=(0,w.Z)(k,2),ge=q[0],ce=q[1];d.useEffect(function(){"visible"in L&&ce(L.visible)},[L.visible]);var ie=function(){return A?ve.test(A)||ne.test(A):!1},pe=(0,j.Z)({backgroundColor:A&&!ie()?A:void 0},F),ue=ie(),z=J("tag",n),xe=re(z),S=(0,w.Z)(xe,2),T=S[0],C=S[1],y=D()(z,(c={},(0,m.Z)(c,z+"-"+A,ue),(0,m.Z)(c,z+"-has-color",A&&!ue),(0,m.Z)(c,z+"-hidden",!ge),(0,m.Z)(c,z+"-rtl",te==="rtl"),c),B,C),$=function(E){E.stopPropagation(),I==null||I(E),!E.defaultPrevented&&ce(!1)},R=function(){return Q?V?d.createElement("span",{className:z+"-close-icon",onClick:$},V):d.createElement(M.Z,{className:z+"-close-icon",onClick:$}):null},p="onClick"in L||e&&e.type==="a",P=r||null,b=P?d.createElement(d.Fragment,null,P,d.createElement("span",null,e)):e,s=d.createElement("span",(0,j.Z)({},L,{ref:v,className:y,style:pe}),b,R());return T(p?d.createElement(h.Z,null,s):s)},oe=d.forwardRef(me);oe.CheckableTag=fe;var he=oe}}]);
