"use strict";(self.webpackChunktopiam_console=self.webpackChunktopiam_console||[]).push([[2666],{28058:function(X,I,r){r.d(I,{Z:function(){return h}});var i=r(1413),t=r(67294),B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"},f=B,A=r(84089),l=function(u,m){return t.createElement(A.Z,(0,i.Z)((0,i.Z)({},u),{},{ref:m,icon:f}))};l.displayName="WarningOutlined";var h=t.forwardRef(l)},63434:function(X,I,r){var i=r(1413),t=r(91),B=r(85893),f=r(22270),A=r(32808),l=r(67294),h=r(90789),n=r(7772),u=["options","fieldProps","proFieldProps","valueEnum"],m=l.forwardRef(function(d,a){var E=d.options,F=d.fieldProps,P=d.proFieldProps,H=d.valueEnum,j=(0,t.Z)(d,u);return(0,B.jsx)(n.Z,(0,i.Z)({ref:a,valueType:"checkbox",valueEnum:(0,f.h)(H,void 0),fieldProps:(0,i.Z)({options:E},F),lightProps:(0,i.Z)({labelFormatter:function(){return(0,B.jsx)(n.Z,(0,i.Z)({ref:a,valueType:"checkbox",mode:"read",valueEnum:(0,f.h)(H,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,i.Z)({options:E},F),proFieldProps:P},j))}},j.lightProps),proFieldProps:P},j))}),s=l.forwardRef(function(d,a){var E=d.fieldProps,F=d.children;return(0,B.jsx)(A.Z,(0,i.Z)((0,i.Z)({ref:a},E),{},{children:F}))}),C=(0,h.G)(s,{valuePropName:"checked"}),o=C;o.Group=m,I.Z=o},86615:function(X,I,r){var i=r(1413),t=r(91),B=r(85893),f=r(22270),A=r(78045),l=r(67294),h=r(90789),n=r(7772),u=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],m=l.forwardRef(function(d,a){var E=d.fieldProps,F=d.options,P=d.radioType,H=d.layout,j=d.proFieldProps,e=d.valueEnum,J=(0,t.Z)(d,u);return(0,B.jsx)(n.Z,(0,i.Z)((0,i.Z)({valueType:P==="button"?"radioButton":"radio",ref:a,valueEnum:(0,f.h)(e,void 0)},J),{},{fieldProps:(0,i.Z)({options:F,layout:H},E),proFieldProps:j,filedConfig:{customLightMode:!0}}))}),s=l.forwardRef(function(d,a){var E=d.fieldProps,F=d.children;return(0,B.jsx)(A.ZP,(0,i.Z)((0,i.Z)({},E),{},{ref:a,children:F}))}),C=(0,h.G)(s,{valuePropName:"checked",ignoreWidth:!0}),o=C;o.Group=m,o.Button=A.ZP.Button,o.displayName="ProFormComponent",I.Z=o},64317:function(X,I,r){var i=r(1413),t=r(91),B=r(85893),f=r(22270),A=r(67294),l=r(66758),h=r(7772),n=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],m=A.forwardRef(function(a,E){var F=a.fieldProps,P=a.children,H=a.params,j=a.proFieldProps,e=a.mode,J=a.valueEnum,_=a.request,q=a.showSearch,ue=a.options,ee=(0,t.Z)(a,n),Q=(0,A.useContext)(l.Z);return(0,B.jsx)(h.Z,(0,i.Z)((0,i.Z)({valueEnum:(0,f.h)(J),request:_,params:H,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,i.Z)({options:ue,mode:e,showSearch:q,getPopupContainer:Q.getPopupContainer},F),ref:E,proFieldProps:j},ee),{},{children:P}))}),s=A.forwardRef(function(a,E){var F=a.fieldProps,P=a.children,H=a.params,j=a.proFieldProps,e=a.mode,J=a.valueEnum,_=a.request,q=a.options,ue=(0,t.Z)(a,u),ee=(0,i.Z)({options:q,mode:e||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},F),Q=(0,A.useContext)(l.Z);return(0,B.jsx)(h.Z,(0,i.Z)((0,i.Z)({valueEnum:(0,f.h)(J),request:_,params:H,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,i.Z)({getPopupContainer:Q.getPopupContainer},ee),ref:E,proFieldProps:j},ue),{},{children:P}))}),C=m,o=s,d=C;d.SearchSelect=o,d.displayName="ProFormComponent",I.Z=d},52688:function(X,I,r){var i=r(1413),t=r(91),B=r(85893),f=r(67294),A=r(7772),l=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],h=f.forwardRef(function(n,u){var m=n.fieldProps,s=n.unCheckedChildren,C=n.checkedChildren,o=n.proFieldProps,d=(0,t.Z)(n,l);return(0,B.jsx)(A.Z,(0,i.Z)({valueType:"switch",fieldProps:(0,i.Z)({unCheckedChildren:s,checkedChildren:C},m),ref:u,valuePropName:"checked",proFieldProps:o,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},d))});I.Z=h},5966:function(X,I,r){var i=r(1413),t=r(91),B=r(85893),f=r(7772),A=["fieldProps","proFieldProps"],l=["fieldProps","proFieldProps"],h="text",n=function(C){var o=C.fieldProps,d=C.proFieldProps,a=(0,t.Z)(C,A);return(0,B.jsx)(f.Z,(0,i.Z)({valueType:h,fieldProps:o,filedConfig:{valueType:h},proFieldProps:d},a))},u=function(C){var o=C.fieldProps,d=C.proFieldProps,a=(0,t.Z)(C,l);return(0,B.jsx)(f.Z,(0,i.Z)({valueType:"password",fieldProps:o,proFieldProps:d,filedConfig:{valueType:h}},a))},m=n;m.Password=u,m.displayName="ProFormComponent",I.Z=m},76593:function(X,I,r){r.d(I,{W:function(){return a}});var i=r(94184),t=r.n(i),B=r(11281),f=r.n(B),A=r(12812),l=r.n(A),h=r(14855),n=r(46986),u=r(67294),m=n.ZP.ConfigContext,s=function(F){var P=F.prefixCls;return l()({},"".concat(P),{margin:"0 auto"})};function C(E){var F=(0,u.useContext)(m),P=F.getPrefixCls,H=".".concat(P());return(0,h.Xj)("ContainerComponent",function(j){var e=f()(f()({},j),{},{prefixCls:".".concat(E),antCls:H});return[s(e)]})}var o=r(85893),d="topiam-container",a=function(F){var P=F.children,H=P===void 0?null:P,j=F.maxWidth,e=j===void 0?1e3:j,J=C(d),_=J.wrapSSR,q=J.hashId;return _((0,o.jsx)("div",{className:t()("".concat(d),q),style:{maxWidth:e},children:H}))}},11911:function(X,I,r){r.d(I,{Gh:function(){return l},SC:function(){return h},Zw:function(){return t},b$:function(){return A},n6:function(){return B},pR:function(){return f},rD:function(){return i}});var i;(function(n){n.EX900005="EX900005",n.EX000102="EX000102",n.EX000202="EX000202",n.SUCCESS="200"})(i||(i={}));var t;(function(n){n.ALIYUN="aliyun",n.QI_NIU="qiniu",n.TENCENT="tencent",n.NET_EASE="netease",n.MAXMIND="maxmind"})(t||(t={}));var B;(function(n){n.ALIYUN="aliyun",n.TENCENT="tencent",n.GEE_TEST="geetest",n.HCAPTCHA="hcaptcha",n.RECAPTCHA="recaptcha"})(B||(B={}));var f;(function(n){n.STANDARD="standard",n.CUSTOM_MADE="custom_made"})(f||(f={}));var A;(function(n){n.SAML2="saml2",n.OIDC="oidc",n.CAS="cas",n.JWT="jwt",n.FORM="form",n.OAUTH2="oauth2"})(A||(A={}));var l;(function(n){n.ALLOW="ALLOW",n.DENY="DENY"})(l||(l={}));var h;(function(n){n.ROLE="ROLE",n.RESOURCE="RESOURCE",n.USER="USER",n.ORGANIZATION="ORGANIZATION",n.USER_GROUP="USER_GROUP"})(h||(h={}))},4560:function(X,I,r){r.r(I),r.d(I,{default:function(){return sr}});var i=r(97983),t=r.n(i),B=r(40794),f=r.n(B),A=r(12741),l=r.n(A),h=r(14459),n=r(11281),u=r.n(n),m=r(76593),s=r(62387),C=r(38345),o=r(97269),d=r(2236),a=r(43825),E=r(2453),F=r(57953),P=r(43262),H=r(96074),j=r(67294),e=r(85893),J={labelCol:{span:6},wrapperCol:{span:18}},_=function(g){var O=a.Z.useForm(),Z=l()(O,1),c=Z[0],W=(0,j.useState)(!0),K=l()(W,2),$=K[0],S=K[1],R=(0,j.useState)(!1),k=l()(R,2),L=k[0],G=k[1];return(0,j.useEffect)(function(){g.visible&&(S(!0),(0,s.EA)().then(function(x){x.success&&(c.setFieldsValue(x.result),S(!1))}))},[c,g.visible]),(0,e.jsx)(C.Z,{title:"\u57FA\u7840\u8BBE\u7F6E",headerBordered:!0,children:(0,e.jsx)(m.W,{children:(0,e.jsx)(o.A,u()(u()({form:c,scrollToFirstError:!0},J),{},{layout:"horizontal",requiredMark:!1,labelAlign:"left",onFinish:function(){var x=f()(t()().mark(function M(y){var b,v,p;return t()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return b=y,S(!0),G(!0),Math.sign(y.sessionMaximum)===0&&(b=u()(u()({},b),{},{sessionMaximum:1}),c.setFieldValue("sessionMaximum",1)),T.next=6,(0,s.r3)(b).finally(function(){S(!1),G(!1)});case 6:v=T.sent,p=v.success,p&&E.ZP.success("\u64CD\u4F5C\u6210\u529F");case 9:case"end":return T.stop()}},M)}));return function(M){return x.apply(this,arguments)}}(),submitter:{render:function(M,y){return(0,e.jsx)(d.S,{children:y})},submitButtonProps:{loading:L},resetButtonProps:{style:{display:"none"}}},children:(0,e.jsxs)(F.Z,{spinning:$,children:[(0,e.jsx)(o.A.Item,{name:"sessionMaximum",extra:"\u540C\u4E00\u7528\u6237\u540C\u65F6\u5728\u7EBF\u6570\u91CF\uFF0C-1\u4E3A\u4E0D\u9650\u5236\u3002",label:"\u7528\u6237\u5E76\u53D1\u6570",children:(0,e.jsx)(P.Z,{min:-1,max:100})}),(0,e.jsx)(o.A.Item,{label:"\u4F1A\u8BDD\u6709\u6548\u65F6\u95F4",name:"sessionValidTime",addonAfter:"\u79D2\uFF08\u6682\u672A\u652F\u6301\uFF09",children:(0,e.jsx)(P.Z,{min:18e3,readOnly:!0})}),(0,e.jsx)(o.A.Item,{label:"\u8BB0\u4F4F\u6211\u6709\u6548\u65F6\u95F4",name:"rememberMeValidTime",addonAfter:"\u79D2",children:(0,e.jsx)(P.Z,{min:43200})}),(0,e.jsx)(o.A.Item,{label:"\u9A8C\u8BC1\u7801\u6709\u6548\u65F6\u95F4",name:"verifyCodeValidTime",extra:"\u9A8C\u8BC1\u573A\u666F\u4E0B\uFF0C\u9A8C\u8BC1\u7801\u9A8C\u8BC1\u6709\u6548\u65F6\u95F4\u3002",addonAfter:"\u5206",children:(0,e.jsx)(P.Z,{min:1,max:30})}),(0,e.jsx)(H.Z,{}),(0,e.jsx)(o.A.Item,{label:"\u8FDE\u7EED\u767B\u5F55\u5931\u8D25\u6301\u7EED\u65F6\u95F4",name:"loginFailureDuration",addonAfter:"\u5206\u949F",children:(0,e.jsx)(P.Z,{})}),(0,e.jsx)(o.A.Item,{label:"\u8FDE\u7EED\u767B\u5F55\u5931\u8D25\u6B21\u6570",name:"loginFailureCount",extra:'\u7BA1\u7406\u5458\u8BBE\u7F6E\u7528\u6237\u8FDE\u7EED\u767B\u5F55\u5931\u8D25\u6B21\u6570\uFF0C\u5728"\u5141\u8BB8\u6301\u7EED\u65F6\u95F4" \u8FBE\u5230\u8BBE\u7F6E\u503C\uFF0C\u5F53\u524D\u8D26\u6237\u88AB\u9501\u5B9A\u3002',addonAfter:"\u81EA\u52A8\u9501\u5B9A",children:(0,e.jsx)(P.Z,{})}),(0,e.jsx)(o.A.Item,{label:"\u81EA\u52A8\u89E3\u9501\u65F6\u95F4",name:"autoUnlockTime",extra:"\u7BA1\u7406\u5458\u8BBE\u7F6E\u81EA\u52A8\u89E3\u9501\u65F6\u95F4\uFF0C\u7528\u6237\u8FDE\u7EED\u767B\u5F55\u5931\u8D25\u88AB\u9501\u5B9A\u540E\uFF0C\u8FBE\u5230\u5BF9\u5E94\u65F6\u95F4\uFF0C\u5C06\u81EA\u52A8\u89E3\u9501\u3002",addonAfter:"\u5206\u949F",children:(0,e.jsx)(P.Z,{min:0})})]})}))})})},q=r(69677),ue=r(99138),ee=r(71230),Q=r(15746),re=r(83062),ve=r(72269),ne=r(25035),pe=r(86615),de=r(52688),ie=r(97462),te=r(2093),he=r(69400),Ce=r(51158),be=function(g){var O=g.visible,Z=g.onCancel,c=(0,j.useState)(),W=l()(c,2),K=W[0],$=W[1],S=(0,j.useState)(!0),R=l()(S,2),k=R[0],L=R[1];return(0,te.Z)(f()(t()().mark(function G(){var x,M,y,b;return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!O){p.next=9;break}return L(!0),p.next=4,(0,s.uE)();case 4:x=p.sent,M=x.success,y=x.result,M&&y&&(b=y==null?void 0:y.map(function(D){return D.value}),$(b)),L(!1);case 9:case"end":return p.stop()}},G)})),[O]),(0,e.jsx)(he.Z,{open:O,title:"\u5185\u7F6E\u5F31\u5BC6\u7801\u5E93",footer:!1,onCancel:Z,destroyOnClose:!0,children:(0,e.jsx)(F.Z,{spinning:k,children:(0,e.jsx)(Ce.ZP,{size:"small",bordered:!1,dataSource:K,pagination:{simple:!0},renderItem:function(x){return(0,e.jsx)(Ce.ZP.Item,{children:x})}})})})},De=r(94184),Ee=r.n(De),Se=r(12812),oe=r.n(Se),Te=r(14855),xe=r(46986),Ie=xe.ZP.ConfigContext,Oe=function(O){var Z=O.prefixCls,c=O.antCls;return oe()({},"".concat(Z),oe()({},".ant-pro-field-radio-vertical  ".concat(c,"-radio-wrapper"),{display:"block",height:"30px","margin-bottom":" 5px","line-height":"30px"}))};function Me(g){var O=(0,j.useContext)(Ie),Z=O.getPrefixCls,c=".".concat(Z());return(0,Te.Xj)("SettingPasswordPolicy",function(W){var K=u()(u()({},W),{},{prefixCls:".".concat(g),antCls:c});return[Oe(K)]})}var We=q.Z.TextArea,Fe="password-policy",Re={labelCol:{span:6},wrapperCol:{span:18}},Le=function(g){var O=a.Z.useForm(),Z=l()(O,1),c=Z[0],W=Me(Fe),K=W.wrapSSR,$=W.hashId,S=(0,j.useState)(!1),R=l()(S,2),k=R[0],L=R[1],G=(0,j.useState)(!0),x=l()(G,2),M=x[0],y=x[1];return(0,te.Z)(f()(t()().mark(function b(){var v;return t()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!g.visible){D.next=7;break}return y(!0),D.next=4,(0,s.Tz)();case 4:v=D.sent,v!=null&&v.success&&c.setFieldsValue(u()({},v==null?void 0:v.result)),y(!1);case 7:case"end":return D.stop()}},b)})),[c,g.visible]),K((0,e.jsxs)(C.Z,{title:"\u5BC6\u7801\u7B56\u7565",headerBordered:!0,className:Ee()("".concat(Fe),$),children:[(0,e.jsx)(ue.Z,{style:{backgroundColor:"#f1f1f2",border:"1px solid #f1f1f2"},message:"\u914D\u7F6E\u5BC6\u7801\u76F8\u5173\u7B56\u7565\u3002\u4FDD\u5B58\u540E\uFF0C\u6240\u6709\u5BC6\u7801\u65B0\u589E\u6216\u53D8\u66F4\u5747\u4F1A\u8FDB\u884C\u6821\u9A8C\u3002"}),(0,e.jsx)("br",{}),(0,e.jsxs)(m.W,{children:[(0,e.jsx)(o.A,u()(u()({form:c,scrollToFirstError:!0},Re),{},{layout:"horizontal",labelAlign:"left",onFinish:function(){var b=f()(t()().mark(function v(p){var D,T;return t()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return y(!0),Y.next=3,(0,s.RJ)(p).finally(function(){y(!1)});case 3:D=Y.sent,T=D.success,T&&E.ZP.success("\u4FDD\u5B58\u6210\u529F");case 6:case"end":return Y.stop()}},v)}));return function(v){return b.apply(this,arguments)}}(),submitter:{render:function(v,p){return(0,e.jsx)(d.S,{children:p})},resetButtonProps:{style:{display:"none"}}},children:(0,e.jsxs)(F.Z,{spinning:M,children:[(0,e.jsx)(a.Z.Item,{label:"\u5BC6\u7801\u957F\u5EA6\u9650\u5236",style:{marginBottom:0},children:(0,e.jsxs)(ee.Z,{gutter:[8,8],children:[(0,e.jsx)(Q.Z,{xs:10,sm:10,md:8,lg:8,xl:6,children:(0,e.jsx)(a.Z.Item,{label:"\u6700\u5C0F\u957F\u5EA6",name:"passwordLeastLength",children:(0,e.jsx)(P.Z,{min:8,max:10})})}),(0,e.jsx)(Q.Z,{xs:10,sm:10,md:8,lg:8,xl:6,children:(0,e.jsx)(a.Z.Item,{label:"\u6700\u5927\u957F\u5EA6",name:"passwordBiggestLength",style:{float:"right"},children:(0,e.jsx)(P.Z,{min:1,max:30})})})]})}),(0,e.jsx)(pe.Z.Group,{layout:"vertical",label:"\u5BC6\u7801\u590D\u6742\u5EA6",name:"passwordComplexity",options:[{value:"0",label:"\u4EFB\u610F\u5BC6\u7801"},{value:"1",label:"\u5FC5\u987B\u5305\u542B\u6570\u5B57\u548C\u5B57\u6BCD"},{value:"2",label:"\u5FC5\u987B\u5305\u542B\u6570\u5B57\u548C\u5927\u5199\u5B57\u6BCD"},{value:"3",label:"\u5FC5\u987B\u5305\u542B\u6570\u5B57\u3001\u5927\u5199\u5B57\u6BCD\u3001\u5C0F\u5199\u5B57\u6BCD\u3001\u548C\u7279\u6B8A\u5B57\u7B26"},{value:"4",label:"\u81F3\u5C11\u5305\u542B\u6570\u5B57\u3001\u5B57\u6BCD\u3001\u548C\u7279\u6B8A\u5B57\u7B26\u4E2D\u7684\u4E24\u79CD"},{value:"5",label:"\u81F3\u5C11\u5305\u542B\u6570\u5B57\u3001\u5927\u5199\u5B57\u6BCD\u3001\u5C0F\u5199\u5B57\u6BCD\u3001\u548C\u7279\u6B8A\u5B57\u7B26\u4E2D\u7684\u4E09\u79CD"}]}),(0,e.jsx)(a.Z.Item,{style:{marginBottom:0},label:(0,e.jsxs)("span",{children:["\u5BC6\u7801\u8FC7\u671F\u68C0\u67E5\xA0",(0,e.jsx)(re.Z,{title:"\u5F00\u542F\u540E\uFF0C\u7CFB\u7EDF\u4F1A\u8BA1\u7B97\u5BC6\u7801\u8BBE\u7F6E\u65F6\u95F4",children:(0,e.jsx)(ne.Z,{})})]}),children:(0,e.jsxs)(ee.Z,{gutter:[8,8],children:[(0,e.jsx)(Q.Z,{xs:10,sm:11,md:9,lg:8,xl:6,children:(0,e.jsxs)(a.Z.Item,{label:"\u6709\u6548\u671F",children:[(0,e.jsx)(a.Z.Item,{name:"passwordValidDays",noStyle:!0,children:(0,e.jsx)(P.Z,{min:7,max:365})}),(0,e.jsx)("span",{children:"\xA0\u5929"})]})}),(0,e.jsx)(Q.Z,{xs:12,sm:13,md:12,lg:9,xl:8,children:(0,e.jsxs)(a.Z.Item,{label:"\u8FC7\u671F\u524D",children:[(0,e.jsx)(a.Z.Item,{name:"passwordValidWarnBeforeDays",noStyle:!0,children:(0,e.jsx)(P.Z,{min:7,max:30})}),(0,e.jsx)("span",{children:"\xA0\u5929\u63D0\u9192"})]})})]})}),(0,e.jsx)(a.Z.Item,{name:"notSameChars",label:(0,e.jsxs)("span",{children:["\u5BC6\u7801\u76F8\u540C\u5B57\u7B26\xA0",(0,e.jsx)(re.Z,{title:"\u5BC6\u7801\u4E0D\u80FD\u8FDE\u7EED\u5B58\u5728\u76F8\u540C\u5B57\u7B26\u4E2A\u6570",children:(0,e.jsx)(ne.Z,{})})]}),children:(0,e.jsx)(P.Z,{min:1,max:10})}),(0,e.jsx)(de.Z,{name:"includeAccountCheck",valuePropName:"checked",label:(0,e.jsxs)("span",{children:["\u7528\u6237\u4FE1\u606F\u68C0\u67E5\xA0",(0,e.jsx)(re.Z,{title:"\u5F00\u542F\u540E\uFF0C\u5BC6\u7801\u4E2D\u5C06\u4E0D\u80FD\u5305\u542B\u7528\u6237\u540D\u3001\u624B\u673A\u53F7\u3001\u90AE\u7BB1\u524D\u7F00\u548C\u59D3\u540D\u62FC\u97F3",children:(0,e.jsx)(ne.Z,{})})]})}),(0,e.jsx)(de.Z,{name:"historyPasswordCheck",label:(0,e.jsxs)("span",{children:["\u5386\u53F2\u5BC6\u7801\u68C0\u67E5\xA0",(0,e.jsx)(re.Z,{title:"\u68C0\u67E5\u8BBE\u7F6E\u7684\u5BC6\u7801\u662F\u5426\u4E3A\u5386\u53F2\u5BC6\u7801\u3002",children:(0,e.jsx)(ne.Z,{})})]})}),(0,e.jsx)(ie.Z,{name:["historyPasswordCheck"],children:function(v){var p=v.historyPasswordCheck;return p?(0,e.jsx)(a.Z.Item,{label:(0,e.jsxs)("span",{children:["\u5386\u53F2\u5BC6\u7801\u6B21\u6570\u8303\u56F4\xA0",(0,e.jsx)(re.Z,{title:"\u68C0\u67E5\u5386\u53F2\u5BC6\u7801\u6B21\u6570\u8303\u56F4\uFF0C\u8BE5\u503C\u5FC5\u987B\u4ECB\u4E8E1\u523010\u6B21\u5BC6\u7801\u4E4B\u95F4\u3002",children:(0,e.jsx)(ne.Z,{})})]}),children:(0,e.jsx)(a.Z.Item,{name:"historyPasswordCheckCount",noStyle:!0,children:(0,e.jsx)(P.Z,{min:1,max:10})})}):(0,e.jsx)(e.Fragment,{})}}),(0,e.jsx)(a.Z.Item,{label:(0,e.jsxs)("span",{children:["\u975E\u6CD5\u5B57\u7B26\u5E8F\u5217\xA0",(0,e.jsx)(re.Z,{title:"\u9632\u6B62\u975E\u6CD5\u5B57\u7B26\u5E8F\u5217\uFF0C\u4F8B\u5982\u952E\u76D8\u3001\u5B57\u6BCD\u3001\u6570\u5B57\u3002",children:(0,e.jsx)(ne.Z,{})})]}),name:"illegalSequenceCheck",valuePropName:"checked",children:(0,e.jsx)(ve.Z,{})}),(0,e.jsxs)(a.Z.Item,{label:(0,e.jsxs)("span",{children:["\u5F31\u5BC6\u7801\u68C0\u67E5\xA0",(0,e.jsx)(re.Z,{title:"\u5F31\u5BC6\u7801\u901A\u5E38\u662F\u6307\u5BB9\u6613\u88AB\u522B\u4EBA\u731C\u6D4B\u5230\u6216\u88AB\u7834\u89E3\u5DE5\u5177\u7834\u89E3\u7684\u5BC6\u7801\u3002\u5728\u8BBE\u7F6E\u6216\u4FEE\u6539\u5BC6\u7801\u65F6\uFF0C\u5982\u679C\u5BC6\u7801\u662F\u5F31\u5BC6\u7801\u5B57\u5178\u4E2D\u7684\u5BC6\u7801\uFF0C\u5219\u7CFB\u7EDF\u4F1A\u5F3A\u5236\u7528\u6237\u91CD\u65B0\u8BBE\u7F6E\uFF0C\u4EE5\u63D0\u5347\u7528\u6237\u5BC6\u7801\u7684\u5B89\u5168\u6027\u3002",children:(0,e.jsx)(ne.Z,{})})]}),children:[(0,e.jsx)(a.Z.Item,{noStyle:!0,name:"weakPasswordCheck",valuePropName:"checked",children:(0,e.jsx)(ve.Z,{})}),(0,e.jsx)(ie.Z,{name:["weakPasswordCheck"],children:function(v){var p=v.weakPasswordCheck;return p&&(0,e.jsx)("span",{children:(0,e.jsx)("a",{onClick:function(){L(!0)},children:"\xA0\u5185\u7F6E\u5F31\u5BC6\u7801\u5E93"})})}})]}),(0,e.jsx)(ie.Z,{name:["weakPasswordCheck"],children:function(v){var p=v.weakPasswordCheck;return p&&(0,e.jsx)(a.Z.Item,{label:"\u5176\u4ED6\u5F31\u5BC6\u7801",extra:(0,e.jsx)("span",{children:"\u6BCF\u884C\u4EE3\u8868\u4E00\u6761\u5F31\u5BC6\u7801"}),children:(0,e.jsx)(ee.Z,{children:(0,e.jsx)(Q.Z,{span:10,children:(0,e.jsx)(a.Z.Item,{name:"customWeakPassword",style:{marginBottom:5},children:(0,e.jsx)(We,{rows:3})})})})})}})]})})),(0,e.jsx)(be,{visible:k,onCancel:function(){L(!1)}})]})]}))},Ue=Le,Pe=r(84865),z=r(11911),we=r(28058),je=r(64317),Be=r(26713),le=r(5966),Ne=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(le.Z,{name:["config","regionId"],label:"RegionId",rules:[{required:!0,message:" RegionId \u4E3A\u5FC5\u586B\u9879"}]}),(0,e.jsx)(le.Z,{name:["config","accessKeyId"],label:"accessKeyId",rules:[{required:!0,message:"AccessKeyId \u4E3A\u5FC5\u586B\u9879"}]}),(0,e.jsx)(le.Z,{name:["config","accessKeySecret"],label:"accessKeySecret",rules:[{required:!0,message:"AccessKeySecret \u4E3A\u5FC5\u586B\u9879"}]}),(0,e.jsx)(je.Z,{name:["config","mode"],label:"\u9A8C\u8BC1\u65B9\u5F0F",options:[{value:"slide",label:"\u6ED1\u52A8\u9A8C\u8BC1"},{value:"traceless",label:"\u65E0\u75D5\u9A8C\u8BC1"},{value:"smart",label:"\u667A\u80FD\u9A8C\u8BC1"}],rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9A8C\u8BC1\u65B9\u5F0F"}]})]})},Ke=Ne,$e=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(le.Z,{name:["config","captchaId"],label:"\u9A8C\u8BC1 ID",rules:[{required:!0,message:"\u9A8C\u8BC1 ID \u4E3A\u5FC5\u586B\u9879"}]}),(0,e.jsx)(le.Z.Password,{name:["config","captchaKey"],label:"\u9A8C\u8BC1 KEY",rules:[{required:!0,message:"\u9A8C\u8BC1 KEY \u4E3A\u5FC5\u586B\u9879"}]})]})},ce=$e,Ge=function(){return(0,e.jsx)(e.Fragment,{})},Ve=Ge,He=he.Z.confirm,Ye={labelCol:{xs:{span:24},sm:{span:7},md:{span:6}},wrapperCol:{xs:{span:24},sm:{span:13},md:{span:14}}},ze={wrapperCol:{xs:{span:24,offset:0},sm:{span:17,offset:7},md:{span:18,offset:6}}},fe=z.n6.GEE_TEST,ke=function(g){var O=a.Z.useForm(),Z=l()(O,1),c=Z[0],W=g.visible,K=(0,j.useState)(fe),$=l()(K,2),S=$[0],R=$[1],k=(0,j.useState)(!1),L=l()(k,2),G=L[0],x=L[1],M=(0,j.useState)(!1),y=l()(M,2),b=y[0],v=y[1];return(0,te.Z)(f()(t()().mark(function p(){var D,T,U;return t()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!W){V.next=11;break}return c.resetFields(),x(!0),V.next=5,(0,s.mg)();case 5:return D=V.sent,T=D.success,U=D.result,T&&U&&U.enabled?(v(U.enabled),R(U.provider),c.setFieldsValue(u()({},U))):c.setFieldsValue({provider:S}),x(!1),V.abrupt("return");case 11:v(!1);case 12:case"end":return V.stop()}},p)})),[W]),(0,e.jsx)(F.Z,{spinning:G,children:(0,e.jsx)(C.Z,{title:"\u884C\u4E3A\u9A8C\u8BC1\u7801",headerBordered:!0,bordered:!1,collapsed:!b,style:{marginBottom:"24px"},extra:(0,e.jsx)(de.Z,{noStyle:!0,fieldProps:{checked:b,onChange:function(){var p=f()(t()().mark(function T(U){return t()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:U?v(U):He({title:"\u8B66\u544A",icon:(0,e.jsx)(we.Z,{}),content:"\u5173\u95ED\u6B64\u529F\u80FD\u5C06\u65E0\u6CD5\u4F7F\u7528\u884C\u4E3A\u9A8C\u8BC1\u7801\u9A8C\u8BC1\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5173\u95ED\u3002",okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",centered:!0,onOk:function(){var w=f()(t()().mark(function ae(){var Ze,ye;return t()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return x(!0),se.next=3,(0,s.$g)().finally(function(){x(!1)});case 3:if(Ze=se.sent,ye=Ze.success,!ye){se.next=12;break}return v(U),E.ZP.success("\u64CD\u4F5C\u6210\u529F"),R(fe),c.resetFields(),c.setFieldsValue({provider:fe}),se.abrupt("return");case 12:case"end":return se.stop()}},ae)}));function Ae(){return w.apply(this,arguments)}return Ae}(),onCancel:function(){}});case 1:case"end":return V.stop()}},T)}));function D(T){return p.apply(this,arguments)}return D}()}}),children:(0,e.jsx)(m.W,{children:(0,e.jsxs)(o.A,u()(u()({form:c,scrollToFirstError:!0,layout:"horizontal",initialValues:{provider:"aliyun"}},Ye),{},{labelAlign:"right",onReset:function(){c.resetFields(),c.setFieldsValue({provider:S})},submitter:{render:function(D,T){return(0,e.jsx)(a.Z.Item,u()(u()({},ze),{},{children:(0,e.jsx)(Be.Z,{children:T})}))},submitButtonProps:{style:{display:b?"":"none"}},resetButtonProps:{style:{display:b?"":"none"}}},onFinish:function(){var p=f()(t()().mark(function D(T){var U,Y;return t()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,s.oE)({provider:T.provider,config:u()(u()({},T.config),{},{provider:T.provider})});case 2:if(U=w.sent,Y=U.success,!Y){w.next=7;break}return E.ZP.success("\u4FDD\u5B58\u6210\u529F"),w.abrupt("return",Promise.resolve(!0));case 7:return w.abrupt("return",Promise.reject());case 8:case"end":return w.stop()}},D)}));return function(D){return p.apply(this,arguments)}}(),children:[(0,e.jsx)(je.Z,{name:"provider",label:"\u670D\u52A1\u63D0\u4F9B\u5546",rules:[{required:!0}],fieldProps:{onChange:function(){var p=f()(t()().mark(function T(U){var Y,V,w;return t()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return x(!0),R(U),c.resetFields(),c.setFieldsValue({provider:U}),ae.next=6,(0,s.mg)();case 6:Y=ae.sent,V=Y.success,w=Y.result,V&&w&&w.enabled&&U===w.provider&&(v(w.enabled),c.setFieldsValue(u()({},w))),x(!1);case 11:case"end":return ae.stop()}},T)}));function D(T){return p.apply(this,arguments)}return D}()},options:[{value:z.n6.GEE_TEST,label:"\u6781\u9A8C\uFF08\u6682\u672A\u5B9E\u73B0\uFF0C\u6B22\u8FCEPR\uFF09",disabled:!0},{value:z.n6.ALIYUN,label:"\u963F\u91CC\u4E91\uFF08\u6682\u672A\u5B9E\u73B0\uFF0C\u6B22\u8FCEPR\uFF09",disabled:!0},{value:z.n6.TENCENT,label:"\u817E\u8BAF\u4E91\uFF08\u6682\u672A\u5B9E\u73B0\uFF0C\u6B22\u8FCEPR\uFF09",disabled:!0},{value:z.n6.RECAPTCHA,label:"reCaptcha\uFF08\u6682\u672A\u5B9E\u73B0\uFF0C\u6B22\u8FCEPR\uFF09",disabled:!0},{value:z.n6.HCAPTCHA,label:"hCaptcha\uFF08\u6682\u672A\u5B9E\u73B0\uFF0C\u6B22\u8FCEPR\uFF09",disabled:!0}]}),S===z.n6.ALIYUN&&(0,e.jsx)(Ke,{}),S===z.n6.TENCENT&&(0,e.jsx)(Ve,{}),S===z.n6.GEE_TEST&&(0,e.jsx)(ce,{}),S===z.n6.RECAPTCHA&&(0,e.jsx)(ce,{}),S===z.n6.HCAPTCHA&&(0,e.jsx)(ce,{})]}))})})})},Xe=r(63434),Je=r(38755),Qe=xe.ZP.ConfigContext;function _e(g){var O=(0,j.useContext)(Qe),Z=O.getPrefixCls,c=".".concat(Z()),W=(0,Je.l)(function(){return oe()({},".".concat(g),oe()({marginBottom:"24px"},".ant-pro-field-checkbox-vertical ".concat(c,"-checkbox-group-item"),{height:"30px"}))});return{className:W}}var ge="setting-mfa",qe={labelCol:{xs:{span:24},sm:{span:7},md:{span:6}},wrapperCol:{xs:{span:24},sm:{span:13},md:{span:14}}},er={wrapperCol:{xs:{span:24,offset:0},sm:{span:17,offset:7},md:{span:18,offset:6}}},rr=function(g){var O=a.Z.useForm(),Z=l()(O,1),c=Z[0],W=(0,j.useState)(!1),K=l()(W,2),$=K[0],S=K[1],R=g.visible,k=_e(ge),L=k.className;return(0,te.Z)(f()(t()().mark(function G(){var x,M,y;return t()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!R){v.next=11;break}return c.resetFields(),S(!0),v.next=5,(0,s.Vr)();case 5:return x=v.sent,M=x.success,y=x.result,M&&y&&c.setFieldsValue(u()({},y)),S(!1),v.abrupt("return");case 11:case"end":return v.stop()}},G)})),[R]),(0,e.jsx)("div",{className:L,children:(0,e.jsxs)(C.Z,{title:"\u591A\u56E0\u7D20\u8BA4\u8BC1",headerBordered:!0,bordered:!1,className:Ee()("".concat(ge)),children:[(0,e.jsx)(ue.Z,{style:{backgroundColor:"#f1f1f2",border:"1px solid #f1f1f2"},message:"\u652F\u6301\u5728\u8D26\u5BC6\u767B\u5F55\u540E\uFF0C\u5F00\u542F\u4E8C\u6B21\u8BA4\u8BC1\u3002"}),(0,e.jsx)("br",{}),(0,e.jsx)(m.W,{children:(0,e.jsx)(o.A,u()(u()({form:c,scrollToFirstError:!0,layout:"horizontal",labelAlign:"right"},qe),{},{onReset:function(){c.resetFields()},submitter:{render:function(x,M){return(0,e.jsx)(a.Z.Item,u()(u()({},er),{},{children:(0,e.jsx)(Be.Z,{children:M})}))},resetButtonProps:{style:{display:"none"}}},onFinish:function(){var G=f()(t()().mark(function x(M){var y,b;return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return S(!0),p.next=3,(0,s.nW)(u()({},M)).finally(function(){S(!1)});case 3:y=p.sent,b=y.success,b&&(E.ZP.success("\u4FDD\u5B58\u6210\u529F"),M.mode==="none"&&c.resetFields(["manner"]));case 6:case"end":return p.stop()}},x)}));return function(x){return G.apply(this,arguments)}}(),children:(0,e.jsx)(F.Z,{spinning:$,children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(pe.Z.Group,{label:"MFA\u6A21\u5F0F",name:"mode",initialValue:"none",options:[{label:"\u5173\u95ED",value:"none"},{label:"\u5E38\u5F00\u6A21\u5F0F",value:"always"},{label:"\u667A\u80FD\u6A21\u5F0F\uFF08\u6682\u4E0D\u652F\u6301\uFF09",value:"smart",disabled:!0}],extra:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{children:"\u5E38\u5F00\u6A21\u5F0F\u4E0B\u6BCF\u6B21\u767B\u5F55\u90FD\u9700\u8981\u4E8C\u6B21\u8BA4\u8BC1\u3002"}),(0,e.jsx)("br",{}),(0,e.jsx)("span",{children:"\u667A\u80FD\u6A21\u5F0F\u4E0B\u4E0D\u5FC5\u6BCF\u6B21\u767B\u5F55\u90FD\u4E8C\u6B21\u8BA4\u8BC1\uFF0C\u7CFB\u7EDF\u4F1A\u7075\u6D3B\u8FDB\u884C\u5224\u65AD\u3002"})]})}),(0,e.jsx)(ie.Z,{name:["mode"],children:function(x){var M=x.mode;return M&&M!=="none"&&(0,e.jsx)(Xe.Z.Group,{label:"\u4E8C\u6B21\u8BA4\u8BC1\u65B9\u5F0F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4E8C\u6B21\u8BA4\u8BC1\u65B9\u5F0F"}],name:"factors",layout:"vertical",options:[{label:"\u77ED\u4FE1\u9A8C\u8BC1\u7801",value:"sms_otp"},{label:"\u90AE\u4EF6\u9A8C\u8BC1\u7801",value:"email_otp"},{label:"\u8F6F\u4EF6\u52A8\u6001\u7801",value:"app_totp"}]})}})]})})}))})]})})},nr=rr,N;(function(g){g.BASIC_SETTING="basic_setting",g.PASSWORD_POLICY="password_policy",g.MFA="mfa",g.CAPTCHA="captcha"})(N||(N={}));var me=r(67038),ar=r(98971),sr=function(){var g=(0,j.useState)(),O=l()(g,2),Z=O[0],c=O[1],W=(0,ar.useLocation)();return(0,te.Z)(f()(t()().mark(function K(){var $,S,R;return t()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if($=(0,me.parse)(W.search),S=$,R=S.tab,!(!R||!(R.toUpperCase()in N))){L.next=6;break}return c(N.BASIC_SETTING),Pe.m.replace({pathname:W.pathname,search:(0,me.stringify)({tab:N.BASIC_SETTING})}),L.abrupt("return");case 6:c(R);case 7:case"end":return L.stop()}},K)})),[Z]),(0,e.jsxs)(h._z,{content:"\u7CFB\u7EDF\u5168\u5C40\u5B89\u5168\u914D\u7F6E\u3001\u5982\u5BC6\u7801\u7B56\u7565\u3001\u4F1A\u8BDD\u7B56\u7565\u3002 \u5728\u5BC6\u7801\u7B56\u7565\u4E2D\u53EF\u4EE5\u8BBE\u7F6E\u76F8\u5E94\u7684\u5BC6\u7801\u590D\u6742\u5EA6\u3001\u76F8\u5E94\u7684\u9501\u5B9A\u89E3\u9501\u7B56\u7565\uFF0C\u8FD8\u53EF\u4EE5\u8BBE\u7F6E\u662F\u5426\u5141\u8BB8\u4E0E\u5386\u53F2\u5BC6\u7801\u91CD\u590D\u7B49\u9AD8\u7EA7\u7B56\u7565\u3002\u540C\u65F6\uFF0C\u53EF\u4EE5\u901A\u8FC7\u201C\u5F00\u542F\u5F31\u5BC6\u7801\u5B57\u5178\u5E93\u201D\u6765\u68C0\u67E5\u5BC6\u7801\u7684\u5B89\u5168\u5F3A\u5EA6\u3002",tabActiveKey:Z,onTabChange:function($){c($),Pe.m.replace({pathname:W.pathname,search:(0,me.stringify)({tab:$})})},tabList:[{tab:"\u57FA\u7840\u8BBE\u7F6E",key:N.BASIC_SETTING},{tab:"\u591A\u56E0\u7D20\u8BA4\u8BC1",key:N.MFA},{tab:"\u884C\u4E3A\u9A8C\u8BC1\u7801",key:N.CAPTCHA},{tab:"\u5BC6\u7801\u7B56\u7565",key:N.PASSWORD_POLICY}],children:[Z===N.BASIC_SETTING&&(0,e.jsx)(_,{visible:Z===N.BASIC_SETTING}),Z===N.PASSWORD_POLICY&&(0,e.jsx)(Ue,{visible:Z===N.PASSWORD_POLICY}),Z===N.CAPTCHA&&(0,e.jsx)(ke,{visible:Z===N.CAPTCHA}),Z===N.MFA&&(0,e.jsx)(nr,{visible:Z===N.MFA})]})}},2093:function(X,I,r){var i=r(67294),t=r(92770),B=function(l,h,n,u){function m(s){return s instanceof n?s:new n(function(C){C(s)})}return new(n||(n=Promise))(function(s,C){function o(E){try{a(u.next(E))}catch(F){C(F)}}function d(E){try{a(u.throw(E))}catch(F){C(F)}}function a(E){E.done?s(E.value):m(E.value).then(o,d)}a((u=u.apply(l,h||[])).next())})},f=function(l,h){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},u,m,s,C;return C={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function o(a){return function(E){return d([a,E])}}function d(a){if(u)throw new TypeError("Generator is already executing.");for(;n;)try{if(u=1,m&&(s=a[0]&2?m.return:a[0]?m.throw||((s=m.return)&&s.call(m),0):m.next)&&!(s=s.call(m,a[1])).done)return s;switch(m=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,m=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){n.label=a[1];break}if(a[0]===6&&n.label<s[1]){n.label=s[1],s=a;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(a);break}s[2]&&n.ops.pop(),n.trys.pop();continue}a=h.call(l,n)}catch(E){a=[6,E],m=0}finally{u=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};function A(l,h){function n(u){return(0,t.mf)(u[Symbol.asyncIterator])}(0,i.useEffect)(function(){var u=l(),m=!1;function s(){return B(this,void 0,void 0,function(){var C;return f(this,function(o){switch(o.label){case 0:if(!n(u))return[3,4];o.label=1;case 1:return[4,u.next()];case 2:return C=o.sent(),C.done||m?[3,3]:[3,1];case 3:return[3,6];case 4:return[4,u];case 5:o.sent(),o.label=6;case 6:return[2]}})})}return s(),function(){m=!0}},h)}I.Z=A},92770:function(X,I,r){r.d(I,{mf:function(){return t}});var i=function(n){return n!==null&&typeof n=="object"},t=function(n){return typeof n=="function"},B=function(n){return typeof n=="string"},f=function(n){return typeof n=="boolean"},A=function(n){return typeof n=="number"},l=function(n){return typeof n=="undefined"}}}]);
