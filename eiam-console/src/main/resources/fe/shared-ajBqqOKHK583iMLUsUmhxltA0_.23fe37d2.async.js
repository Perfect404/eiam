/*
 * eiam-console - Employee Identity and Access Management Program
 * Copyright Â© 2020-2023 TopIAM (support@topiam.cn)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
"use strict";(self.webpackChunktopiam_console=self.webpackChunktopiam_console||[]).push([[242],{98597:function($,Z,n){var u=n(86855),O=n(5375),D=n(79685),P=n(4847),M=n(63342),t=["fieldProps","min","proFieldProps","max"],R=function(g,L){var A=g.fieldProps,T=g.min,v=g.proFieldProps,l=g.max,p=(0,O.Z)(g,t);return(0,M.jsx)(P.Z,(0,u.Z)({valueType:"digit",fieldProps:(0,u.Z)({min:T,max:l},A),ref:L,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:v},p))},f=D.forwardRef(R);Z.Z=f},41326:function($,Z,n){var u=n(86855),O=n(5375),D=n(41572),P=n(69889),M=n(79685),t=n(26275),R=n(4847),f=n(63342),r=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],g=M.forwardRef(function(v,l){var p=v.fieldProps,I=v.options,K=v.radioType,W=v.layout,h=v.proFieldProps,F=v.valueEnum,_=(0,O.Z)(v,r);return(0,f.jsx)(R.Z,(0,u.Z)((0,u.Z)({valueType:K==="button"?"radioButton":"radio",ref:l,valueEnum:(0,D.h)(F,void 0)},_),{},{fieldProps:(0,u.Z)({options:I,layout:W},p),proFieldProps:h,filedConfig:{customLightMode:!0}}))}),L=M.forwardRef(function(v,l){var p=v.fieldProps,I=v.children;return(0,f.jsx)(P.ZP,(0,u.Z)((0,u.Z)({},p),{},{ref:l,children:I}))}),A=(0,t.G)(L,{valuePropName:"checked",ignoreWidth:!0}),T=A;T.Group=g,T.Button=P.ZP.Button,T.displayName="ProFormComponent",Z.Z=T},53804:function($,Z,n){var u=n(86855),O=n(5375),D=n(41572),P=n(79685),M=n(9366),t=n(4847),R=n(63342),f=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],r=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],g=P.forwardRef(function(l,p){var I=l.fieldProps,K=l.children,W=l.params,h=l.proFieldProps,F=l.mode,_=l.valueEnum,G=l.request,X=l.showSearch,N=l.options,V=(0,O.Z)(l,f),w=(0,P.useContext)(M.Z);return(0,R.jsx)(t.Z,(0,u.Z)((0,u.Z)({valueEnum:(0,D.h)(_),request:G,params:W,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,u.Z)({options:N,mode:F,showSearch:X,getPopupContainer:w.getPopupContainer},I),ref:p,proFieldProps:h},V),{},{children:K}))}),L=P.forwardRef(function(l,p){var I=l.fieldProps,K=l.children,W=l.params,h=l.proFieldProps,F=l.mode,_=l.valueEnum,G=l.request,X=l.options,N=(0,O.Z)(l,r),V=(0,u.Z)({options:X,mode:F||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},I),w=(0,P.useContext)(M.Z);return(0,R.jsx)(t.Z,(0,u.Z)((0,u.Z)({valueEnum:(0,D.h)(_),request:G,params:W,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,u.Z)({getPopupContainer:w.getPopupContainer},V),ref:p,proFieldProps:h},N),{},{children:K}))}),A=g,T=L,v=A;v.SearchSelect=T,v.displayName="ProFormComponent",Z.Z=v},25051:function($,Z,n){var u=n(86855),O=n(5375),D=n(79685),P=n(4847),M=n(63342),t=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],R=D.forwardRef(function(f,r){var g=f.fieldProps,L=f.unCheckedChildren,A=f.checkedChildren,T=f.proFieldProps,v=(0,O.Z)(f,t);return(0,M.jsx)(P.Z,(0,u.Z)({valueType:"switch",fieldProps:(0,u.Z)({unCheckedChildren:L,checkedChildren:A},g),ref:r,valuePropName:"checked",proFieldProps:T,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},v))});Z.Z=R},93179:function($,Z,n){var u=n(4203),O=n(98529),D=n(5375),P=n(88297),M=n(65517),t=n(86855),R=n(41752),f=n(67457),r=n(66697),g=n(13648),L=n(92242),A=n(41572),T=n(58648),v=n(36596),l=n(87101),p=n(4485),I=n(15129),K=n(47304),W=n(88473),h=n(79685),F=n(19904),_=n(63342),G=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],X=["record","position","creatorButtonText","newRecordType","parentKey","style"],N=h.createContext(void 0);function V(e){var B=e.children,H=e.record,ne=e.position,re=e.newRecordType,Y=e.parentKey,z=(0,h.useContext)(N);return h.cloneElement(B,(0,t.Z)((0,t.Z)({},B.props),{},{onClick:function(){var J=(0,M.Z)((0,P.Z)().mark(function te(oe){var k,q,b,y;return(0,P.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(k=(q=B.props).onClick)===null||k===void 0?void 0:k.call(q,oe);case 2:if(y=C.sent,y!==!1){C.next=5;break}return C.abrupt("return");case 5:z==null||(b=z.current)===null||b===void 0||b.addEditRecord(H,{position:ne,newRecordType:re,parentKey:Y});case 6:case"end":return C.stop()}},te)}));function x(te){return J.apply(this,arguments)}return x}()}))}function w(e){var B,H,ne=(0,g.YB)(),re=e.onTableChange,Y=e.maxLength,z=e.formItemProps,J=e.recordCreatorProps,x=e.rowKey,te=e.controlled,oe=e.defaultValue,k=e.onChange,q=e.editableFormRef,b=(0,D.Z)(e,G),y=(0,L.D)(e.value),ee=(0,h.useRef)(),C=(0,h.useRef)();(0,h.useImperativeHandle)(b.actionRef,function(){return ee.current});var ce=(0,I.Z)(function(){return e.value||oe||[]},{value:e.value,onChange:e.onChange}),_e=(0,O.Z)(ce,2),s=_e[0],Ee=_e[1],S=h.useMemo(function(){return typeof x=="function"?x:function(E,o){return E[x]||o}},[x]),se=function(o){if(typeof o=="number"&&!e.name){if(o>=s.length)return o;var a=s&&s[o];return S==null?void 0:S(a,o)}if((typeof o=="string"||o>=s.length)&&e.name){var i=s.findIndex(function(d,c){var m;return(S==null||(m=S(d,c))===null||m===void 0?void 0:m.toString())===(o==null?void 0:o.toString())});return i}return o};(0,h.useImperativeHandle)(q,function(){var E=function(i){var d,c;if(i==null)throw new Error("rowIndex is required");var m=se(i),U=[e.name,(d=m==null?void 0:m.toString())!==null&&d!==void 0?d:""].flat(1).filter(Boolean);return(c=C.current)===null||c===void 0?void 0:c.getFieldValue(U)},o=function(){var i,d=[e.name].flat(1).filter(Boolean);if(Array.isArray(d)&&d.length===0){var c,m=(c=C.current)===null||c===void 0?void 0:c.getFieldsValue();return Array.isArray(m)?m:Object.keys(m).map(function(U){return m[U]})}return(i=C.current)===null||i===void 0?void 0:i.getFieldValue(d)};return(0,t.Z)((0,t.Z)({},C.current),{},{getRowData:E,getRowsData:o,setRowData:function(i,d){var c,m,U,ie;if(i==null)throw new Error("rowIndex is required");var de=se(i),Re=[e.name,(c=de==null?void 0:de.toString())!==null&&c!==void 0?c:""].flat(1).filter(Boolean),ge=((m=C.current)===null||m===void 0||(U=m.getFieldsValue)===null||U===void 0?void 0:U.call(m))||{},Te=(0,W.Z)(ge,Re,(0,t.Z)((0,t.Z)({},E(i)),d||{}));return(ie=C.current)===null||ie===void 0||ie.setFieldsValue(Te),!0}})}),(0,h.useEffect)(function(){e.controlled&&s.forEach(function(E,o){var a;(a=C.current)===null||a===void 0||a.setFieldsValue((0,u.Z)({},S(E,o),E))},{})},[s,e.controlled]),(0,h.useEffect)(function(){if(e.name){var E;C.current=e==null||(E=e.editable)===null||E===void 0?void 0:E.form}},[(B=e.editable)===null||B===void 0?void 0:B.form,e.name]);var j=J||{},me=j.record,ae=j.position,Pe=j.creatorButtonText,fe=j.newRecordType,he=j.parentKey,Ce=j.style,De=(0,D.Z)(j,X),ve=ae==="top",Q=(0,h.useMemo)(function(){return Y&&Y<=(s==null?void 0:s.length)?!1:J!==!1&&(0,_.jsx)(V,{record:(0,A.h)(me,s==null?void 0:s.length,s)||{},position:ae,parentKey:(0,A.h)(he,s==null?void 0:s.length,s),newRecordType:fe,children:(0,_.jsx)(l.ZP,(0,t.Z)((0,t.Z)({type:"dashed",style:(0,t.Z)({display:"block",margin:"10px 0",width:"100%"},Ce),icon:(0,_.jsx)(R.Z,{})},De),{},{children:Pe||ne.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[J,Y,s==null?void 0:s.length]),Me=(0,h.useMemo)(function(){return Q?ve?{components:{header:{wrapper:function(o){var a,i=o.className,d=o.children;return(0,_.jsxs)("thead",{className:i,children:[d,(0,_.jsxs)("tr",{style:{position:"relative"},children:[(0,_.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:Q}),(0,_.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(a=b.columns)===null||a===void 0?void 0:a.length,children:Q})]})]})}}}}:{tableViewRender:function(o,a){var i,d;return(0,_.jsxs)(_.Fragment,{children:[(i=(d=e.tableViewRender)===null||d===void 0?void 0:d.call(e,o,a))!==null&&i!==void 0?i:a,Q]})}}:{}},[ve,Q]),le=(0,t.Z)({},e.editable),Oe=(0,T.J)(function(E,o){var a,i,d;if((a=e.editable)===null||a===void 0||(i=a.onValuesChange)===null||i===void 0||i.call(a,E,o),(d=e.onValuesChange)===null||d===void 0||d.call(e,o,E),e.controlled){var c;e==null||(c=e.onChange)===null||c===void 0||c.call(e,o)}});return(e!=null&&e.onValuesChange||(H=e.editable)!==null&&H!==void 0&&H.onValuesChange||e.controlled&&e!==null&&e!==void 0&&e.onChange)&&(le.onValuesChange=Oe),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(N.Provider,{value:ee,children:(0,_.jsx)(F.Z,(0,t.Z)((0,t.Z)((0,t.Z)({search:!1,options:!1,pagination:!1,rowKey:x,revalidateOnFocus:!1},b),Me),{},{tableLayout:"fixed",actionRef:ee,onChange:re,editable:(0,t.Z)((0,t.Z)({},le),{},{formProps:(0,t.Z)({formRef:C},le.formProps)}),dataSource:s,onDataSourceChange:function(o){if(Ee(o),e.name&&ae==="top"){var a,i=(0,W.Z)({},[e.name].flat(1).filter(Boolean),o);(a=C.current)===null||a===void 0||a.setFieldsValue(i)}}}))}),e.name?(0,_.jsx)(f.Z,{name:[e.name],children:function(o){var a,i,d=(0,K.Z)(o,[e.name].flat(1)),c=d==null?void 0:d.find(function(m,U){return!(0,v.A)(m,y==null?void 0:y[U])});return c&&y&&(e==null||(a=e.editable)===null||a===void 0||(i=a.onValuesChange)===null||i===void 0||i.call(a,c,d)),null}}):null]})}function ue(e){var B=r.ZP.useFormInstance();return e.name?(0,_.jsx)(p.Z.Item,(0,t.Z)((0,t.Z)({style:{maxWidth:"100%"}},e==null?void 0:e.formItemProps),{},{name:e.name,children:(0,_.jsx)(w,(0,t.Z)((0,t.Z)({},e),{},{editable:(0,t.Z)((0,t.Z)({},e.editable),{},{form:B})}))})):(0,_.jsx)(w,(0,t.Z)({},e))}ue.RecordCreator=V,Z.Z=ue},50102:function($,Z,n){n.d(Z,{Gh:function(){return t},SC:function(){return R},Zw:function(){return O},gD:function(){return M},n6:function(){return D},o:function(){return f},pR:function(){return P},rD:function(){return u}});var u;(function(r){r.EX900005="EX900005",r.EX000102="EX000102",r.EX000202="EX000202",r.SUCCESS="200"})(u||(u={}));var O;(function(r){r.ALIYUN="aliyun",r.QI_NIU="qiniu",r.TENCENT="tencent",r.NET_EASE="netease",r.MAXMIND="maxmind"})(O||(O={}));var D;(function(r){r.ALIYUN="aliyun",r.TENCENT="tencent",r.GEE_TEST="geetest",r.HCAPTCHA="hcaptcha",r.RECAPTCHA="recaptcha"})(D||(D={}));var P;(function(r){r.STANDARD="standard",r.CUSTOM_MADE="custom_made"})(P||(P={}));var M;(function(r){r.SAML2="saml2",r.OIDC="oidc",r.CAS="cas",r.JWT="jwt",r.FORM="form",r.OAUTH2="oauth2"})(M||(M={}));var t;(function(r){r.ALLOW="ALLOW",r.DENY="DENY"})(t||(t={}));var R;(function(r){r.ROLE="ROLE",r.RESOURCE="RESOURCE",r.USER="USER",r.ORGANIZATION="ORGANIZATION",r.USER_GROUP="USER_GROUP"})(R||(R={}));var f;(function(r){r.PHONE="PHONE",r.USERNAME="USERNAME",r.EMAIL="EMAIL"})(f||(f={}))}}]);
