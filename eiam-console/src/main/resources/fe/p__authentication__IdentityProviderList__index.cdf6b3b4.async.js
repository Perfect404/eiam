/*
 * eiam-console - Employee Identity and Access Management Program
 * Copyright Â© 2020-2023 TopIAM (support@topiam.cn)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
"use strict";(self.webpackChunktopiam_console=self.webpackChunktopiam_console||[]).push([[462],{25051:function(de,q,s){var z=s(86855),S=s(5375),J=s(79685),p=s(4847),Q=s(63342),B=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],O=J.forwardRef(function(P,se){var oe=P.fieldProps,_=P.unCheckedChildren,he=P.checkedChildren,le=P.proFieldProps,ce=(0,S.Z)(P,B);return(0,Q.jsx)(p.Z,(0,z.Z)({valueType:"switch",fieldProps:(0,z.Z)({unCheckedChildren:_,checkedChildren:he},oe),ref:se,valuePropName:"checked",proFieldProps:le,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},ce))});q.Z=O},56720:function(de,q,s){s.r(q),s.d(q,{default:function(){return ht}});var z=s(76091),S=s.n(z),J=s(84019),p=s.n(J),Q=s(32061),B=s.n(Q),O=s(7863),P=s.n(O),se=s(11479),oe=s(74958),_=s(96104);function he(c,d,h){return le.apply(this,arguments)}function le(){return le=B()(p()().mark(function c(d,h,l){return p()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",(0,_.request)("/api/authentication/idp/list",{params:S()(S()(S()({},d),(0,oe.YE)(h)),(0,oe.oH)(l))}).then(function(E){var v,R,w,M,H={data:E!=null&&(v=E.result)!==null&&v!==void 0&&v.list?E==null||(R=E.result)===null||R===void 0?void 0:R.list:[],success:E==null?void 0:E.success,total:E!=null&&(w=E.result)!==null&&w!==void 0&&w.pagination?E==null||(M=E.result)===null||M===void 0?void 0:M.pagination.total:0};return Promise.resolve(H)}));case 1:case"end":return $.stop()}},c)})),le.apply(this,arguments)}function ce(c){return ge.apply(this,arguments)}function ge(){return ge=B()(p()().mark(function c(d){return p()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,_.request)("/api/authentication/idp/get/".concat(d)));case 1:case"end":return l.stop()}},c)})),ge.apply(this,arguments)}function ve(c){return fe.apply(this,arguments)}function fe(){return fe=B()(p()().mark(function c(d){return p()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,_.request)("/api/authentication/idp/update",{data:d,method:"PUT",requestType:"json"}));case 1:case"end":return l.stop()}},c)})),fe.apply(this,arguments)}function Be(c){return me.apply(this,arguments)}function me(){return me=B()(p()().mark(function c(d){return p()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,_.request)("/api/authentication/idp/create",{data:d,method:"POST",requestType:"json"}));case 1:case"end":return l.stop()}},c)})),me.apply(this,arguments)}function xe(c){return ue.apply(this,arguments)}function ue(){return ue=B()(p()().mark(function c(d){return p()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,_.request)("/api/authentication/idp/enable/".concat(d),{method:"PUT"}));case 1:case"end":return l.stop()}},c)})),ue.apply(this,arguments)}function Pe(c){return Ee.apply(this,arguments)}function Ee(){return Ee=B()(p()().mark(function c(d){return p()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,_.request)("/api/authentication/idp/disable/".concat(d),{method:"PUT"}));case 1:case"end":return l.stop()}},c)})),Ee.apply(this,arguments)}function De(c){return Ce.apply(this,arguments)}function Ce(){return Ce=B()(p()().mark(function c(d){return p()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,_.request)("/api/authentication/idp/delete/".concat(d),{method:"DELETE"}));case 1:case"end":return l.stop()}},c)})),Ce.apply(this,arguments)}var be=s(59251),Se=s(43637),Ae=s(80591),Oe=s(91498),Ze=s(90649),Ie=s(78035),e=s(70453),t=s(27101),r=s(92479),u=s(12715),i=s(87101),a=s(50673),f=s(75098),m=s(79685),N=s(55178),o=s(61872),x=s(53804),Z=s(67457),D=s(63820),Y=s(15457),ee=s(81262),te=s(60703),b;(function(c){c.social="social",c.enterprise="enterprise"})(b||(b={}));var g;(function(c){c.wechatwork_qr="wechatwork_qr",c.dingtalk_qr="dingtalk_qr",c.feishu_oauth="feishu_oauth",c.dingtalk_oauth="dingtalk_oauth",c.ldap="ldap",c.qq="qq_oauth",c.wechat_qr="wechat_qr"})(g||(g={}));var $e=[g.wechatwork_qr,g.dingtalk_qr,g.dingtalk_oauth,g.wechat_qr,g.qq,g.feishu_oauth,g.feishu_oauth],Te={labelCol:{span:4},wrapperCol:{span:19}},ke=s(25051),n=s(63342),Ue=e.Z.Paragraph,pe=function(){return(0,n.jsx)(o.Z,{label:"\u56DE\u8C03\u5730\u5740",name:"redirectUri",proFieldProps:{render:function(d){return d&&(0,n.jsx)(Ue,{copyable:{text:d},style:{marginBottom:"0"},children:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:"<span>".concat(d,"</span>")}})})}},readonly:!0,fieldProps:{autoComplete:"off"}})},We=function(d){var h=d.isCreate;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{name:["config","appKey"],label:"AppId",rules:[{required:!0}],extra:"\u5728\u9489\u9489\u5F00\u653E\u5E73\u53F0\uFF0C\u5E94\u7528\u5F00\u53D1 -> \u4F01\u4E1A\u5185\u90E8\u5F00\u53D1\uFF0C\u6DFB\u52A0\u5C0F\u7A0B\u5E8F\u6216H5\u5FAE\u5E94\u7528\u540E\u83B7\u53D6",fieldProps:{autoComplete:"off"},placeholder:"\u8BF7\u586B\u5199AppId"}),(0,n.jsx)(o.Z.Password,{rules:[{required:!0}],name:["config","appSecret"],label:"AppSecret",extra:"\u5728\u9489\u9489\u5F00\u653E\u5E73\u53F0\uFF0C\u5E94\u7528\u5F00\u53D1 -> \u4F01\u4E1A\u5185\u90E8\u5F00\u53D1\uFF0C\u6DFB\u52A0\u5C0F\u7A0B\u5E8F\u6216H5\u5FAE\u5E94\u7528\u540E\u83B7\u53D6",placeholder:"\u8BF7\u586B\u5199AppSecret",fieldProps:{autoComplete:"off"}}),!h&&(0,n.jsx)(pe,{})]})},Ke=We,Ne=function(d){var h=d.isCreate;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{name:["config","appKey"],label:"AppId",rules:[{required:!0}],extra:"\u5728\u9489\u9489\u5F00\u653E\u5E73\u53F0\uFF0C\u5E94\u7528\u5F00\u53D1 -> \u4F01\u4E1A\u5185\u90E8\u5F00\u53D1\uFF0C\u6DFB\u52A0\u5C0F\u7A0B\u5E8F\u6216H5\u5FAE\u5E94\u7528\u540E\u83B7\u53D6",fieldProps:{autoComplete:"off"},placeholder:"\u8BF7\u586B\u5199AppId"}),(0,n.jsx)(o.Z.Password,{rules:[{required:!0}],name:["config","appSecret"],label:"AppSecret",extra:"\u5728\u9489\u9489\u5F00\u653E\u5E73\u53F0\uFF0C\u5E94\u7528\u5F00\u53D1 -> \u4F01\u4E1A\u5185\u90E8\u5F00\u53D1\uFF0C\u6DFB\u52A0\u5C0F\u7A0B\u5E8F\u6216H5\u5FAE\u5E94\u7528\u540E\u83B7\u53D6",placeholder:"\u8BF7\u586B\u5199AppSecret",fieldProps:{autoComplete:"off"}}),!h&&(0,n.jsx)(pe,{})]})},Ve=Ne,Ge=function(d){var h=d.isCreate;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{name:["config","appId"],label:"AppId",rules:[{required:!0}],extra:"\u5728\u98DE\u4E66\u5F00\u653E\u5E73\u53F0\uFF0C\u5F00\u53D1\u8005\u540E\u53F0 -> \u4F01\u4E1A\u81EA\u5EFA\u5E94\u7528\uFF0C\u521B\u5EFA\u4F01\u4E1A\u81EA\u5EFA\u5E94\u7528",fieldProps:{autoComplete:"off"},placeholder:"\u8BF7\u586B\u5199AppId"}),(0,n.jsx)(o.Z.Password,{rules:[{required:!0}],name:["config","appSecret"],label:"AppSecret",extra:"\u5728\u98DE\u4E66\u5F00\u653E\u5E73\u53F0\uFF0C\u5F00\u53D1\u8005\u540E\u53F0 -> \u4F01\u4E1A\u81EA\u5EFA\u5E94\u7528\uFF0C\u521B\u5EFA\u4F01\u4E1A\u81EA\u5EFA\u5E94\u7528",placeholder:"\u8BF7\u586B\u5199AppSecret",fieldProps:{autoComplete:"off"}}),!h&&(0,n.jsx)(pe,{})]})},qe=Ge,He=function(d){var h=d.isCreate;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{name:["config","appId"],label:"AppId",rules:[{required:!0}],fieldProps:{autoComplete:"off"},placeholder:"\u8BF7\u586B\u5199appId"}),(0,n.jsx)(o.Z.Password,{rules:[{required:!0}],name:["config","appKey"],label:"AppSecret",placeholder:"\u8BF7\u586B\u5199appKey",fieldProps:{autoComplete:"off"}}),!h&&(0,n.jsx)(pe,{})]})},ze=He,Qe=function(d){var h=d.isCreate;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{name:["config","appId"],label:"AppId",rules:[{required:!0}],extra:"\u5FAE\u4FE1\u626B\u7801\u767B\u5F55\u5F00\u53D1\u7533\u8BF7\u83B7\u53D6\u7684AppId",placeholder:"\u8BF7\u586B\u5199\u83B7\u53D6\u7684AppId",fieldProps:{autoComplete:"off"}}),(0,n.jsx)(o.Z.Password,{name:["config","appSecret"],label:"AppSecret",rules:[{required:!0}],extra:"\u5FAE\u4FE1\u626B\u7801\u767B\u5F55\u5F00\u53D1\u7533\u8BF7\u83B7\u53D6\u7684AppSecret",placeholder:"\u8BF7\u8F93\u5165\u83B7\u53D6\u7684AppSecret",fieldProps:{autoComplete:"new-password"}}),!h&&(0,n.jsx)(pe,{})]})},Ye=Qe,Re=s(26602),Xe=function(d){var h=d.isCreate;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{name:["config","corpId"],label:"\u4F01\u4E1AID",rules:[{required:!0}],extra:"\u4F01\u4E1A\u5FAE\u4FE1\u7BA1\u7406\u540E\u53F0->\u6211\u7684\u4F01\u4E1A->\u4F01\u4E1A\u4FE1\u606F->\u4F01\u4E1AID",children:(0,n.jsx)(Re.Z,{autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165\u83B7\u53D6\u7684CorpID"})}),(0,n.jsx)(o.Z,{name:["config","agentId"],label:"AgentId",rules:[{required:!0}],extra:"\u4F01\u4E1A\u5FAE\u4FE1\u7BA1\u7406\u540E\u53F0->\u5E94\u7528\u7BA1\u7406->\u81EA\u5EFA\u5E94\u7528->\u9009\u62E9\u5E94\u7528->AgentId",children:(0,n.jsx)(Re.Z,{autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165AgentId"})}),(0,n.jsx)(o.Z.Password,{name:["config","appSecret"],label:"Secret",rules:[{required:!0}],extra:"\u4F01\u4E1A\u5FAE\u4FE1\u7BA1\u7406\u540E\u53F0->\u5E94\u7528\u7BA1\u7406->\u81EA\u5EFA\u5E94\u7528->\u9009\u62E9\u5E94\u7528->Secret",fieldProps:{autoComplete:"new-password"},placeholder:"\u8BF7\u8F93\u5165\u83B7\u53D6\u7684Secret"}),!h&&(0,n.jsx)(pe,{})]})},Je=Xe,_e=function(d){var h=d.type,l=d.isCreate,A=l===void 0?!1:l;return(0,n.jsxs)(n.Fragment,{children:[h===g.wechat_qr&&(0,n.jsx)(Ye,{isCreate:A}),h===g.wechatwork_qr&&(0,n.jsx)(Je,{isCreate:A}),h===g.dingtalk_qr&&(0,n.jsx)(Ve,{isCreate:A}),h===g.dingtalk_oauth&&(0,n.jsx)(Ke,{isCreate:A}),h===g.qq&&(0,n.jsx)(ze,{isCreate:A}),h===g.feishu_oauth&&(0,n.jsx)(qe,{isCreate:A}),(0,n.jsx)(ke.Z,{name:["displayed"],extra:"\u5728\u767B\u5F55\u9875\u5C55\u793A\u8BA4\u8BC1\u6E90\u56FE\u6807 ",label:"\u662F\u5426\u663E\u793A"})]})},Me=_e,et=function(c){var d=c.visible,h=c.category,l=c.onCancel,A=c.onFinish,$=(0,te.Z)(),E=P()($,1),v=E[0],R=(0,m.useState)(!1),w=P()(R,2),M=w[0],H=w[1];return(0,Y.Z)(B()(p()().mark(function X(){return p()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:d&&(h===b.enterprise&&(v==null||v.setFieldsValue({displayed:!0,type:g.dingtalk_qr})),h===b.social&&(v==null||v.setFieldsValue({displayed:!0,type:g.wechat_qr})));case 1:case"end":return re.stop()}},X)})),[d,h]),(0,n.jsx)(N.Y,S()(S()({title:"\u521B\u5EFA\u8BA4\u8BC1\u6E90",width:600,modalProps:{forceRender:!0,onCancel:function(){l(),v==null||v.resetFields()},destroyOnClose:!0},open:d,form:v,scrollToFirstError:!0,layout:"horizontal"},Te),{},{onFinish:function(){var X=B()(p()().mark(function k(re){var ne;return p()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return H(!0),U.next=3,A(re);case 3:return ne=U.sent,H(!1),U.abrupt("return",!!ne);case 6:case"end":return U.stop()}},k)}));return function(k){return X.apply(this,arguments)}}(),children:(0,n.jsxs)(ee.Z,{spinning:M,children:[h===b.social&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{hidden:!0,name:"category",initialValue:b.social}),(0,n.jsx)(x.Z,{label:"\u8BA4\u8BC1\u63D0\u4F9B\u5546",name:"type",placeholder:"\u8BF7\u9009\u62E9\u8BA4\u8BC1\u63D0\u4F9B\u5546",rules:[{message:"\u8BF7\u9009\u62E9\u8BA4\u8BC1\u63D0\u4F9B\u5546",required:!0}],options:[{value:g.wechat_qr,label:"\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\u626B\u7801\u8BA4\u8BC1"},{value:g.qq,label:"QQ\u8BA4\u8BC1"}]})]}),h===b.enterprise&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{hidden:!0,name:"category",initialValue:b.enterprise}),(0,n.jsx)(x.Z,{label:"\u8BA4\u8BC1\u63D0\u4F9B\u5546",name:"type",placeholder:"\u8BF7\u9009\u62E9\u8BA4\u8BC1\u63D0\u4F9B\u5546",rules:[{message:"\u8BF7\u9009\u62E9\u8BA4\u8BC1\u63D0\u4F9B\u5546",required:!0}],options:[{value:g.dingtalk_oauth,label:"\u9489\u9489\u8BA4\u8BC1"},{value:g.dingtalk_qr,label:"\u9489\u9489\u626B\u7801\u8BA4\u8BC1"},{value:g.feishu_oauth,label:"\u98DE\u4E66\u8BA4\u8BC1"},{value:g.wechatwork_qr,label:"\u4F01\u4E1A\u5FAE\u4FE1\u626B\u7801\u8BA4\u8BC1"}]})]}),(0,n.jsx)(o.Z,{label:"\u8BA4\u8BC1\u6E90\u540D\u79F0",name:"name",placeholder:"\u8BF7\u8F93\u5165\u8BA4\u8BC1\u6E90\u540D\u79F0",rules:[{message:"\u8BA4\u8BC1\u6E90\u540D\u79F0\u4E3A\u5FC5\u586B\u9879",required:!0}],fieldProps:{autoComplete:"off"}}),(0,n.jsx)(Z.Z,{name:["type"],children:function(k){var re=k.type;return(0,n.jsx)(Me,{type:re,isCreate:!0})}}),(0,n.jsx)(D.Z,{name:"remark",fieldProps:{rows:2,maxLength:20,showCount:!1},placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",label:"\u5907\u6CE8"})]})}))},tt=et,rt=s(96845),nt=function(c){var d=c.visible,h=c.id,l=c.onCancel,A=c.onFinish,$=(0,te.Z)(),E=P()($,1),v=E[0],R=(0,m.useState)(!1),w=P()(R,2),M=w[0],H=w[1],X=(0,m.useState)(!1),k=P()(X,2),re=k[0],ne=k[1];return(0,Y.Z)(B()(p()().mark(function ae(){var U,ie,I;return p()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!d){F.next=8;break}return H(!0),F.next=4,ce(h);case 4:U=F.sent,ie=U.success,I=U.result,ie&&I&&(v==null||v.setFieldsValue(S()({},I)),H(!1));case 8:case"end":return F.stop()}},ae)})),[d,h]),(0,n.jsx)(N.Y,S()(S()({title:"\u4FEE\u6539\u8BA4\u8BC1\u6E90",width:600,layout:"horizontal"},Te),{},{modalProps:{forceRender:!0,onCancel:function(){l(),v==null||v.resetFields()},destroyOnClose:!0},form:v,scrollToFirstError:!0,onFinish:function(){var ae=B()(p()().mark(function U(ie){var I;return p()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return ne(!0),F.next=3,A(ie);case 3:return I=F.sent,ne(!1),F.abrupt("return",!!I);case 6:case"end":return F.stop()}},U)}));return function(U){return ae.apply(this,arguments)}}(),open:d,children:(0,n.jsx)(rt.Z,{loading:M,active:!0,children:(0,n.jsxs)(ee.Z,{spinning:re,children:[(0,n.jsx)(o.Z,{name:"id",hidden:!0}),(0,n.jsx)(o.Z,{name:"type",hidden:!0}),(0,n.jsx)(o.Z,{label:"\u8BA4\u8BC1\u6E90\u540D\u79F0",name:"name",placeholder:"\u8BF7\u8F93\u5165\u8BA4\u8BC1\u6E90\u540D\u79F0",rules:[{message:"\u8BA4\u8BC1\u6E90\u540D\u79F0\u4E3A\u5FC5\u586B\u9879",required:!0}],fieldProps:{autoComplete:"off"}}),(0,n.jsx)(Z.Z,{name:["type"],children:function(U){var ie=U.type;return(0,n.jsx)(Me,{type:ie,isCreate:!1})}}),(0,n.jsx)(D.Z,{name:"remark",fieldProps:{rows:2,maxLength:20,showCount:!1},placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",label:"\u5907\u6CE8"})]})})}))},ut=nt,at=s(39620),y=s.n(at),it=s(76505),st=s(18639),ot=it.ZP.ConfigContext;function lt(c){var d=(0,m.useContext)(ot),h=d.getPrefixCls,l=".".concat(h()),A=".".concat(c),$=(0,st.l)(function(E){var v,R,w,M=E.token;return w={},y()(w,"".concat(A),(v={},y()(v,"&-content",{marginInlineStart:"15px","& > div":{marginInlineStart:"0"}}),y()(v,"&-item-content",{display:"block",flex:"none",width:"100%"}),y()(v,"".concat(l,"-avatar > img"),{objectFit:"fill"}),y()(v,"".concat(l,"-card-head"),{borderBottom:"none"}),y()(v,"".concat(l,"-card-head-title"),{padding:"24px 0",lineHeight:"32px"}),y()(v,"".concat(l,"-card-extra"),{padding:"24px 0"}),y()(v,"".concat(l,"-list-pagination"),{marginTop:"24px"}),y()(v,"".concat(l,"-avatar-lg"),{width:"48px",height:"48px",lineHeight:"48px"}),y()(v,"".concat(l,"-list-item-action"),{marginInlineStart:"15px"}),y()(v,"".concat(l,"-pro-list ").concat(l,"-pro-list-row-content"),{flex:0,margin:"0"}),y()(v,"".concat(l,"-pro-list ").concat(l,"-pro-list-row"),{paddingLeft:"10px",paddingRight:"10px"}),v)),y()(w,"@media  (max-width: ".concat(M.screenXS,"px)"),y()({},"".concat(A),(R={},y()(R,"&-content",{marginInlineStart:"0","& > div":{marginInlineStart:"0"}}),y()(R,"&-item-content",{display:"block",flex:"none",width:"100%"}),R))),y()(w,"@media  (max-width: ".concat(M.screenSM,"px)"),y()({},"".concat(A),{})),y()(w,"@media  (max-width: ".concat(M.screenMD,"px)"),y()({},"".concat(A),y()({},"&-content",{"& > div":{display:"block","&:last-child":{top:"0",width:"100%"}}}))),y()(w,"@media  (max-width: ".concat(M.screenLG,"px) and @media (min-width: ").concat(M.screenMD,"px)"),y()({},"".concat(A),y()({},"&-content",{"& > div":{display:"block","&:last-child":{top:"0",width:"100%"}}}))),y()(w,"@media  (max-width: ".concat(M.screenXL,"px)"),y()({},"".concat(A),y()({},"&-content",{"& > div":{marginInlineStart:"24px","&:last-child":{top:"0"}}}))),y()(w,"@media  (max-width: 1400px)",y()({},"".concat(A),y()({},"&-content",{"& > div":{"&:last-child":{top:"0"}}}))),w});return{className:$}}var ct=s(68591),je=s.n(ct),we=s(18541),Fe="identity-source-list",dt=e.Z.Paragraph,Le=function(d){var h=d.category,l=(0,m.useRef)(),A=(0,m.useState)(),$=P()(A,2),E=$[0],v=$[1],R=(0,m.useState)(!1),w=P()(R,2),M=w[0],H=w[1],X=(0,m.useState)(!1),k=P()(X,2),re=k[0],ne=k[1],ae=function(){var I=B()(p()().mark(function V(F){var T,L,G,C,W,ye;return p()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.prev=0,K.next=3,Be(F);case 3:if(T=K.sent,L=T.success,G=T.result,!(G&&L)){K.next=18;break}if(!(G.id&&$e.includes(G.type))){K.next=14;break}return K.next=10,ce(G.id);case 10:W=K.sent,W.success&&W.result&&(ye=t.Z.success({title:"\u6DFB\u52A0\u6210\u529F",content:(0,n.jsxs)(n.Fragment,{children:["\u8BF7\u524D\u5F80\u63D0\u4F9B\u5546\u5F00\u53D1\u540E\u53F0\u914D\u7F6E\u56DE\u8C03\u5730\u5740\uFF1A",(0,n.jsx)(dt,{copyable:{text:W.result.redirectUri},children:(0,n.jsx)("a",{href:"javascript:void(0);",children:W.result.redirectUri})})]}),okText:"\u786E\u8BA4",onOk:function(){ye.destroy()}})),K.next=15;break;case 14:r.ZP.success("\u6DFB\u52A0\u6210\u529F");case 15:return H(!1),(C=l.current)===null||C===void 0||C.reload(),K.abrupt("return",!0);case 18:return K.abrupt("return",!1);case 21:return K.prev=21,K.t0=K.catch(0),K.abrupt("return",!1);case 24:case"end":return K.stop()}},V,null,[[0,21]])}));return function(F){return I.apply(this,arguments)}}(),U=function(){var I=B()(p()().mark(function V(F){var T,L;return p()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.prev=0,C.next=3,ve(S()({},F));case 3:if(T=C.sent,!(T!=null&&T.result&&T!==null&&T!==void 0&&T.success)){C.next=9;break}return r.ZP.success("\u64CD\u4F5C\u6210\u529F").then(),ne(!1),(L=l.current)===null||L===void 0||L.reload(),C.abrupt("return",!0);case 9:return C.abrupt("return",!1);case 12:return C.prev=12,C.t0=C.catch(0),C.abrupt("return",!1);case 15:case"end":return C.stop()}},V,null,[[0,12]])}));return function(F){return I.apply(this,arguments)}}(),ie=function(V){return(0,n.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)("div",{className:je()("".concat(Fe,"-content")),children:(0,n.jsx)("div",{className:je()("".concat(Fe,"-item-content")),children:V.enabled?(0,n.jsx)(u.Z,{color:"#5BD8A6",children:"\u5DF2\u5F00\u542F"}):(0,n.jsx)(u.Z,{color:"#e54545",children:"\u672A\u542F\u7528"})})})})};return(0,n.jsxs)("div",{className:je()("".concat(Fe)),children:[(0,n.jsx)(Oe.Rs,{actionRef:l,rowKey:"id",split:!0,pagination:{showQuickJumper:!1,defaultPageSize:5,size:"small"},showActions:"always",headerTitle:"\u63D0\u4F9B\u5546\u5217\u8868",toolBarRender:function(){return[(0,n.jsx)(i.ZP,{icon:(0,n.jsx)(Se.Z,{}),type:"primary",onClick:function(){H(!0)},children:"\u6DFB\u52A0\u8BA4\u8BC1\u6E90"},"add")]},request:he,params:{category:h},search:{},metas:{title:{dataIndex:"name",title:"\u8BA4\u8BC1\u6E90\u540D\u79F0",render:function(V,F){return(0,n.jsx)("span",{onClick:function(){ne(!0),v(F.id)},children:F.name})}},avatar:{search:!1,render:function(V,F){return(0,n.jsx)(a.C,{shape:"square",size:50,src:se.Y[F.type]},F.id)}},description:{search:!1,render:function(V,F){return F.remark?(0,n.jsx)("span",{children:F.remark}):(0,n.jsx)("span",{children:F.desc})}},content:{search:!1,render:function(V,F){return[(0,n.jsx)(ie,S()({},F),"context")]}},actions:{render:function(V,F){return[F.enabled?(0,n.jsx)(f.Z,{title:"\u60A8\u662F\u5426\u8981\u7981\u7528\u8BA4\u8BC1\u6E90\u5417\uFF1F",placement:"bottomRight",icon:(0,n.jsx)(Ae.Z,{style:{color:"red"}}),onConfirm:B()(p()().mark(function T(){var L,G,C,W;return p()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,Pe(F.id);case 2:if(L=j.sent,G=L.success,C=L.result,!(G&&C)){j.next=9;break}return r.ZP.success("\u64CD\u4F5C\u6210\u529F"),(W=l.current)===null||W===void 0||W.reload(),j.abrupt("return");case 9:case"end":return j.stop()}},T)})),okText:"\u662F",cancelText:"\u5426",children:(0,n.jsx)("a",{children:"\u7981\u7528"},"disabled")},"disabled"):(0,n.jsx)(f.Z,{title:"\u60A8\u662F\u5426\u8981\u542F\u7528\u8EAB\u4EFD\u6E90\u5417\uFF1F",placement:"bottomRight",icon:(0,n.jsx)(Ae.Z,{}),onConfirm:B()(p()().mark(function T(){var L,G,C,W;return p()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,xe(F.id);case 2:if(L=j.sent,G=L.success,C=L.result,!(G&&C)){j.next=9;break}return r.ZP.success("\u64CD\u4F5C\u6210\u529F"),(W=l.current)===null||W===void 0||W.reload(),j.abrupt("return");case 9:case"end":return j.stop()}},T)})),okText:"\u662F",cancelText:"\u5426",children:(0,n.jsx)("a",{children:"\u542F\u7528"},"enabled")},"disabled"),(0,n.jsx)("a",{onClick:function(){v(F.id),ne(!0)},children:"\u914D\u7F6E"},"config"),(0,n.jsx)(f.Z,{title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BA4\u8BC1\u6E90\u5417\uFF1F",placement:"bottomRight",icon:(0,n.jsx)(Ae.Z,{style:{color:"red"}}),onConfirm:B()(p()().mark(function T(){var L,G,C,W;return p()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,De(F.id);case 2:if(L=j.sent,G=L.success,C=L.result,!(G&&C)){j.next=10;break}return r.ZP.success("\u64CD\u4F5C\u6210\u529F"),j.next=9,(W=l.current)===null||W===void 0?void 0:W.reload();case 9:return j.abrupt("return");case 10:case"end":return j.stop()}},T)})),okText:"\u662F",cancelText:"\u5426",children:(0,n.jsx)("a",{target:"_blank",style:{color:"red"},children:"\u5220\u9664"},"remove")},"delete")]}}}}),(0,n.jsx)(tt,{category:h,visible:M,onCancel:function(){H(!1)},onFinish:ae}),E&&(0,n.jsx)(ut,{visible:re,id:E,onFinish:U,onCancel:function(){ne(!1)}})]})},ft=function(){var d=(0,_.useLocation)(),h=(0,m.useState)(),l=P()(h,2),A=l[0],$=l[1],E=we.Z.parse(d.search),v=E,R=v.tab,w=lt(Fe),M=w.className;return(0,Ie.Z)(B()(p()().mark(function H(){return p()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(!(!R||!(R.toUpperCase()in b))){k.next=4;break}return $(b.social),be.m.push({pathname:d.pathname,search:we.Z.stringify({tab:b.social})}),k.abrupt("return");case 4:$(R);case 5:case"end":return k.stop()}},H)}))),(0,n.jsx)("div",{className:M,children:(0,n.jsxs)(Ze._z,{content:"\u652F\u6301\u8BBE\u7F6E\u591A\u79CD\u8BA4\u8BC1\u6E90\uFF0C\u4F01\u4E1A\u7528\u6237\u5373\u53EF\u901A\u8FC7\u4E0D\u540C\u65B9\u5F0F\u767B\u5F55\u95E8\u6237\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u7684\u8BA4\u8BC1\u6E90\u4E3A\u7528\u6237\u5BC6\u7801\u548C\u77ED\u4FE1\u5FEB\u6377\u8BA4\u8BC1\uFF0C\u60A8\u8FD8\u53EF\u6DFB\u52A0\u9489\u9489\u626B\u7801\u3001\u5FAE\u4FE1\u626B\u7801\u3001\u4F01\u4E1A\u5FAE\u4FE1\u3001LDAP\u548CCAS\u534F\u8BAE\u8BA4\u8BC1\u6E90\u4F5C\u4E3A\u8BA4\u8BC1\u6E90\u3002",tabActiveKey:A,onTabChange:function(X){$(X),be.m.replace({pathname:d.pathname,search:we.Z.stringify({tab:X})})},tabProps:{size:"small"},className:je()("".concat(Fe)),tabList:[{tab:"\u793E\u4EA4\u8BA4\u8BC1\u6E90",key:b.social},{tab:"\u4F01\u4E1A\u8BA4\u8BC1\u6E90",key:b.enterprise}],children:[b.social===A&&(0,n.jsx)(Le,{category:b.social}),b.enterprise===A&&(0,n.jsx)(Le,{category:b.enterprise})]})})},pt=ft,ht=pt},15457:function(de,q,s){var z=s(29268),S=s(79685),J=s(43865);function p(Q,B){function O(P){return(0,J.mf)(P[Symbol.asyncIterator])}(0,S.useEffect)(()=>{const P=Q();let se=!1;function oe(){return(0,z.mG)(this,void 0,void 0,function*(){if(O(P))for(;!((yield P.next()).done||se););else yield P})}return oe(),()=>{se=!0}},B)}q.Z=p},78035:function(de,q,s){var z=s(79685),S=s(43865),J=s(15035);const p=Q=>{J.Z&&((0,S.mf)(Q)||console.error(`useMount: parameter \`fn\` expected to be a function, but got "${typeof Q}".`)),(0,z.useEffect)(()=>{Q==null||Q()},[])};q.Z=p},43865:function(de,q,s){s.d(q,{mf:function(){return S}});const z=O=>O!==null&&typeof O=="object",S=O=>typeof O=="function",J=O=>typeof O=="string",p=O=>typeof O=="boolean",Q=O=>typeof O=="number",B=O=>typeof O=="undefined"},15035:function(de,q){q.Z=!1},29268:function(de,q,s){s.d(q,{CR:function(){return fe},Jh:function(){return le},XA:function(){return ve},ZT:function(){return S},_T:function(){return p},ev:function(){return xe},mG:function(){return he},pi:function(){return J},pr:function(){return me}});var z=function(e,t){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,u){r.__proto__=u}||function(r,u){for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(r[i]=u[i])},z(e,t)};function S(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");z(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var J=function(){return J=Object.assign||function(t){for(var r,u=1,i=arguments.length;u<i;u++){r=arguments[u];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},J.apply(this,arguments)};function p(e,t){var r={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&t.indexOf(u)<0&&(r[u]=e[u]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,u=Object.getOwnPropertySymbols(e);i<u.length;i++)t.indexOf(u[i])<0&&Object.prototype.propertyIsEnumerable.call(e,u[i])&&(r[u[i]]=e[u[i]]);return r}function Q(e,t,r,u){var i=arguments.length,a=i<3?t:u===null?u=Object.getOwnPropertyDescriptor(t,r):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,u);else for(var m=e.length-1;m>=0;m--)(f=e[m])&&(a=(i<3?f(a):i>3?f(t,r,a):f(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function B(e,t){return function(r,u){t(r,u,e)}}function O(e,t,r,u,i,a){function f(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var m=u.kind,N=m==="getter"?"get":m==="setter"?"set":"value",o=!t&&e?u.static?e:e.prototype:null,x=t||(o?Object.getOwnPropertyDescriptor(o,u.name):{}),Z,D=!1,Y=r.length-1;Y>=0;Y--){var ee={};for(var te in u)ee[te]=te==="access"?{}:u[te];for(var te in u.access)ee.access[te]=u.access[te];ee.addInitializer=function(g){if(D)throw new TypeError("Cannot add initializers after decoration has completed");a.push(f(g||null))};var b=(0,r[Y])(m==="accessor"?{get:x.get,set:x.set}:x[N],ee);if(m==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(Z=f(b.get))&&(x.get=Z),(Z=f(b.set))&&(x.set=Z),(Z=f(b.init))&&i.push(Z)}else(Z=f(b))&&(m==="field"?i.push(Z):x[N]=Z)}o&&Object.defineProperty(o,u.name,x),D=!0}function P(e,t,r){for(var u=arguments.length>2,i=0;i<t.length;i++)r=u?t[i].call(e,r):t[i].call(e);return u?r:void 0}function se(e){return typeof e=="symbol"?e:"".concat(e)}function oe(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function _(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function he(e,t,r,u){function i(a){return a instanceof r?a:new r(function(f){f(a)})}return new(r||(r=Promise))(function(a,f){function m(x){try{o(u.next(x))}catch(Z){f(Z)}}function N(x){try{o(u.throw(x))}catch(Z){f(Z)}}function o(x){x.done?a(x.value):i(x.value).then(m,N)}o((u=u.apply(e,t||[])).next())})}function le(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},u,i,a,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(o){return function(x){return N([o,x])}}function N(o){if(u)throw new TypeError("Generator is already executing.");for(;f&&(f=0,o[0]&&(r=0)),r;)try{if(u=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(x){o=[6,x],i=0}finally{u=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var ce=Object.create?function(e,t,r,u){u===void 0&&(u=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,u,i)}:function(e,t,r,u){u===void 0&&(u=r),e[u]=t[r]};function ge(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ce(t,e,r)}function ve(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],u=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&u>=e.length&&(e=void 0),{value:e&&e[u++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var u=r.call(e),i,a=[],f;try{for(;(t===void 0||t-- >0)&&!(i=u.next()).done;)a.push(i.value)}catch(m){f={error:m}}finally{try{i&&!i.done&&(r=u.return)&&r.call(u)}finally{if(f)throw f.error}}return a}function Be(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fe(arguments[t]));return e}function me(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var u=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],f=0,m=a.length;f<m;f++,i++)u[i]=a[f];return u}function xe(e,t,r){if(r||arguments.length===2)for(var u=0,i=t.length,a;u<i;u++)(a||!(u in t))&&(a||(a=Array.prototype.slice.call(t,0,u)),a[u]=t[u]);return e.concat(a||Array.prototype.slice.call(t))}function ue(e){return this instanceof ue?(this.v=e,this):new ue(e)}function Pe(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=r.apply(e,t||[]),i,a=[];return i={},f("next"),f("throw"),f("return"),i[Symbol.asyncIterator]=function(){return this},i;function f(D){u[D]&&(i[D]=function(Y){return new Promise(function(ee,te){a.push([D,Y,ee,te])>1||m(D,Y)})})}function m(D,Y){try{N(u[D](Y))}catch(ee){Z(a[0][3],ee)}}function N(D){D.value instanceof ue?Promise.resolve(D.value.v).then(o,x):Z(a[0][2],D)}function o(D){m("next",D)}function x(D){m("throw",D)}function Z(D,Y){D(Y),a.shift(),a.length&&m(a[0][0],a[0][1])}}function Ee(e){var t,r;return t={},u("next"),u("throw",function(i){throw i}),u("return"),t[Symbol.iterator]=function(){return this},t;function u(i,a){t[i]=e[i]?function(f){return(r=!r)?{value:ue(e[i](f)),done:!1}:a?a(f):f}:a}}function De(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ve=="function"?ve(e):e[Symbol.iterator](),r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r);function u(a){r[a]=e[a]&&function(f){return new Promise(function(m,N){f=e[a](f),i(m,N,f.done,f.value)})}}function i(a,f,m,N){Promise.resolve(N).then(function(o){a({value:o,done:m})},f)}}function Ce(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var be=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function Se(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ce(t,e,r);return be(t,e),t}function Ae(e){return e&&e.__esModule?e:{default:e}}function Oe(e,t,r,u){if(r==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!u:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?u:r==="a"?u.call(e):u?u.value:t.get(e)}function Ze(e,t,r,u,i){if(u==="m")throw new TypeError("Private method is not writable");if(u==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return u==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function Ie(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}}}]);
