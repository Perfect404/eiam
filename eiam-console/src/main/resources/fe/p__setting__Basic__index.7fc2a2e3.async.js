/*
 * eiam-console - Employee Identity and Access Management Program
 * Copyright Â© 2020-2023 TopIAM (support@topiam.cn)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
"use strict";(self.webpackChunktopiam_console=self.webpackChunktopiam_console||[]).push([[8083],{76593:function(Ue,Ae,s){s.d(Ae,{W:function(){return Pe}});var ye=s(94184),f=s.n(ye),ge=s(11281),Ce=s.n(ge),m=s(12812),Ee=s.n(m),a=s(14855),v=s(46986),I=s(67294),Me=v.ZP.ConfigContext,Z=function(ie){var oe=ie.prefixCls;return Ee()({},"".concat(oe),{margin:"0 auto"})};function Be(ve){var ie=(0,I.useContext)(Me),oe=ie.getPrefixCls,he=".".concat(oe());return(0,a.Xj)("ContainerComponent",function(ce){var Fe=Ce()(Ce()({},ce),{},{prefixCls:".".concat(ve),antCls:he});return[Z(Fe)]})}var ae=s(85893),$="topiam-container",Pe=function(ie){var oe=ie.children,he=oe===void 0?null:oe,ce=ie.maxWidth,Fe=ce===void 0?1e3:ce,z=Be($),Se=z.wrapSSR,le=z.hashId;return Se((0,ae.jsx)("div",{className:f()("".concat($),le),style:{maxWidth:Fe},children:he}))}},11911:function(Ue,Ae,s){s.d(Ae,{Gh:function(){return Ee},SC:function(){return a},Zw:function(){return f},b$:function(){return m},n6:function(){return ge},pR:function(){return Ce},rD:function(){return ye}});var ye;(function(v){v.EX900005="EX900005",v.EX000102="EX000102",v.EX000202="EX000202",v.SUCCESS="200"})(ye||(ye={}));var f;(function(v){v.ALIYUN="aliyun",v.QI_NIU="qiniu",v.TENCENT="tencent",v.NET_EASE="netease",v.MAXMIND="maxmind"})(f||(f={}));var ge;(function(v){v.ALIYUN="aliyun",v.TENCENT="tencent",v.GEE_TEST="geetest",v.HCAPTCHA="hcaptcha",v.RECAPTCHA="recaptcha"})(ge||(ge={}));var Ce;(function(v){v.STANDARD="standard",v.CUSTOM_MADE="custom_made"})(Ce||(Ce={}));var m;(function(v){v.SAML2="saml2",v.OIDC="oidc",v.CAS="cas",v.JWT="jwt",v.FORM="form",v.OAUTH2="oauth2"})(m||(m={}));var Ee;(function(v){v.ALLOW="ALLOW",v.DENY="DENY"})(Ee||(Ee={}));var a;(function(v){v.ROLE="ROLE",v.RESOURCE="RESOURCE",v.USER="USER",v.ORGANIZATION="ORGANIZATION",v.USER_GROUP="USER_GROUP"})(a||(a={}))},18980:function(Ue,Ae,s){s.r(Ae),s.d(Ae,{default:function(){return Lr}});var ye=s(12741),f=s.n(ye),ge=s(84865),Ce=s(14459),m=s(67294),Ee=s(97983),a=s.n(Ee),v=s(11281),I=s.n(v),Me=s(40794),Z=s.n(Me),Be=s(76593),ae=s(11911),$=s(62387),Pe=s(28058),ve=s(38345),ie=s(52688),oe=s(97269),he=s(64317),ce=s(2093),Fe=s(69400),z=s(43825),Se=s(57953),le=s(2453),De=s(26713),F=s(5966),e=s(85893),He=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(F.Z.Password,{name:["config","sessionKey"],label:"\u6CE8\u518C\u7801",placeholder:"\u8BF7\u8F93\u5165MaxMind\u6CE8\u518C\u7801",rules:[{required:!0,message:"MaxMind\u6CE8\u518C\u7801\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"new-password"}})})},Ye=Fe.Z.confirm,We={labelCol:{xs:{span:24},sm:{span:7},md:{span:6}},wrapperCol:{xs:{span:24},sm:{span:13},md:{span:14}}},Xe={wrapperCol:{xs:{span:24,offset:0},sm:{span:17,offset:7},md:{span:18,offset:6}}},$e=ae.Zw.MAXMIND,Qe=function(l){var g=l.visible,p=z.Z.useForm(),i=f()(p,1),o=i[0],L=(0,m.useState)(!1),E=f()(L,2),B=E[0],C=E[1],H=(0,m.useState)(!1),Y=f()(H,2),K=Y[0],w=Y[1],fe=(0,m.useState)($e),J=f()(fe,2),N=J[0],M=J[1];return(0,ce.Z)(Z()(a()().mark(function S(){var d,c,t;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!g){n.next=11;break}return o.resetFields(),C(!0),n.next=5,(0,$.t9)();case 5:return d=n.sent,c=d.success,t=d.result,c&&t&&t.enabled?(w(t.enabled),M(t.provider),o.setFieldsValue(I()({},t))):o.setFieldsValue({provider:N}),C(!1),n.abrupt("return");case 11:w(!1);case 12:case"end":return n.stop()}},S)})),[g]),(0,e.jsx)(Se.Z,{spinning:B,children:(0,e.jsx)(ve.Z,{title:"IP\u5730\u7406\u4F4D\u7F6E",headerBordered:!0,bordered:!1,collapsed:!K,style:{marginBottom:"24px"},extra:(0,e.jsx)(ie.Z,{noStyle:!0,labelAlign:"right",fieldProps:{checked:K,onChange:function(){var S=Z()(a()().mark(function c(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t?w(t):Ye({title:"\u8B66\u544A",icon:(0,e.jsx)(Pe.Z,{}),content:"\u5173\u95ED\u6B64\u529F\u80FD\u5C06\u65E0\u6CD5\u4F7F\u7528\u5730\u7406\u4F4D\u7F6E\u670D\u52A1\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5173\u95ED\u3002",okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",centered:!0,onOk:function(){var r=Z()(a()().mark(function A(){var X,q;return a()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return C(!0),j.next=3,(0,$.Y7)().finally(function(){C(!1)});case 3:if(X=j.sent,q=X.success,!q){j.next=12;break}return w(t),le.ZP.success("\u64CD\u4F5C\u6210\u529F"),M($e),o.resetFields(),o.setFieldsValue({provider:$e}),j.abrupt("return");case 12:case"end":return j.stop()}},A)}));function W(){return r.apply(this,arguments)}return W}()});case 1:case"end":return n.stop()}},c)}));function d(c){return S.apply(this,arguments)}return d}()}}),children:(0,e.jsx)(Be.W,{children:(0,e.jsx)(oe.A,I()(I()({form:o,scrollToFirstError:!0,layout:"horizontal",labelAlign:"right"},We),{},{initialValues:{provider:$e},onReset:function(){o.resetFields(),o.setFieldsValue({enabled:K,provider:N})},submitter:{render:function(d,c){return(0,e.jsx)(z.Z.Item,I()(I()({},Xe),{},{children:(0,e.jsx)(De.Z,{children:c})}))},submitButtonProps:{style:{display:K?"":"none"}},resetButtonProps:{style:{display:K?"":"none"}}},onFinish:function(){var S=Z()(a()().mark(function d(c){var t,b;return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return C(!0),r.prev=1,r.next=4,(0,$.S4)({provider:c.provider,config:c.config});case 4:if(t=r.sent,b=t.success,!b){r.next=9;break}return le.ZP.success("\u4FDD\u5B58\u6210\u529F"),r.abrupt("return",Promise.resolve(!0));case 9:r.next=14;break;case 11:return r.prev=11,r.t0=r.catch(1),r.abrupt("return",Promise.reject());case 14:return r.prev=14,C(!1),r.finish(14);case 17:case"end":return r.stop()}},d,null,[[1,11,14,17]])}));return function(d){return S.apply(this,arguments)}}(),children:K&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(he.Z,{name:"provider",label:"\u670D\u52A1\u5546",rules:[{required:!0}],fieldProps:{onChange:function(){var S=Z()(a()().mark(function c(t){var b,n,r;return a()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return C(!0),M(t),o.resetFields(),o.setFieldsValue({provider:t}),A.next=6,(0,$.t9)();case 6:b=A.sent,n=b.success,r=b.result,n&&r&&r.enabled&&t===r.provider&&(w(r.enabled),o.setFieldsValue(I()({},r))),C(!1);case 11:case"end":return A.stop()}},c)}));function d(c){return S.apply(this,arguments)}return d}()},options:[{value:ae.Zw.MAXMIND,label:"MaxMind"}]}),N===ae.Zw.MAXMIND&&(0,e.jsx)(He,{})]})}))})})})},be=s(51444),je=s(90420),Je=s(31199),qe=s(86615),_e=Fe.Z.confirm,er={labelCol:{xs:{span:24},sm:{span:7},md:{span:6}},wrapperCol:{xs:{span:24},sm:{span:13},md:{span:14}}},rr={wrapperCol:{xs:{span:24,offset:0},sm:{span:17,offset:7},md:{span:18,offset:6}}},xe="customize",sr=function(l){var g=z.Z.useForm(),p=f()(g,1),i=p[0],o=l.visible,L=(0,m.useState)(xe),E=f()(L,2),B=E[0],C=E[1],H=(0,m.useState)(!1),Y=f()(H,2),K=Y[0],w=Y[1],fe=(0,m.useState)(!1),J=f()(fe,2),N=J[0],M=J[1];return(0,ce.Z)(Z()(a()().mark(function S(){var d,c,t;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!o){n.next=11;break}return i.resetFields(),w(!0),n.next=5,(0,$.cB)();case 5:return d=n.sent,c=d.success,t=d.result,c&&t&&t.enabled?(M(t.enabled),C(t.provider),i.setFieldsValue(I()({},t))):i.setFieldsValue({provider:B}),w(!1),n.abrupt("return");case 11:M(!1);case 12:case"end":return n.stop()}},S)})),[o]),(0,e.jsx)(Se.Z,{spinning:K,children:(0,e.jsx)(ve.Z,{title:"\u90AE\u4EF6\u63D0\u4F9B\u5546",headerBordered:!0,bordered:!1,collapsed:!N,style:{marginBottom:"24px"},extra:(0,e.jsx)(ie.Z,{labelAlign:"right",noStyle:!0,fieldProps:{checked:N,onChange:function(){var S=Z()(a()().mark(function c(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t?M(t):_e({title:"\u8B66\u544A",icon:(0,e.jsx)(Pe.Z,{}),content:"\u5173\u95ED\u6B64\u529F\u80FD\u5C06\u65E0\u6CD5\u4F7F\u7528\u90AE\u4EF6\u670D\u52A1\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5173\u95ED\u3002",okText:"\u786E\u5B9A",okType:"danger",centered:!0,cancelText:"\u53D6\u6D88",onOk:function(){var r=Z()(a()().mark(function A(){var X,q;return a()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return w(!0),j.next=3,(0,$.iV)().finally(function(){w(!1)});case 3:if(X=j.sent,q=X.success,!q){j.next=12;break}return M(t),le.ZP.success("\u64CD\u4F5C\u6210\u529F"),C(xe),i.resetFields(),i.setFieldsValue({provider:xe}),j.abrupt("return");case 12:case"end":return j.stop()}},A)}));function W(){return r.apply(this,arguments)}return W}()});case 1:case"end":return n.stop()}},c)}));function d(c){return S.apply(this,arguments)}return d}()},label:"\u5F00\u542F\u90AE\u4EF6\u670D\u52A1"}),children:(0,e.jsx)(Be.W,{children:(0,e.jsxs)(oe.A,I()(I()({form:i,scrollToFirstError:!0,initialValues:{safetyType:"ssl",provider:xe},onReset:function(){i.resetFields(),i.setFieldsValue({provider:B})}},er),{},{layout:"horizontal",labelAlign:"right",submitter:{render:function(d,c){return(0,e.jsx)(z.Z.Item,I()(I()({},rr),{},{children:(0,e.jsx)(De.Z,{children:c})}))},submitButtonProps:{style:{display:N?"inline":"none"}},resetButtonProps:{style:{display:N?"inline":"none"}}},onFinish:function(){var S=Z()(a()().mark(function d(c){var t,b;return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return w(!0),r.prev=1,r.next=4,(0,$.$N)(c);case 4:return t=r.sent,b=t.success,b&&le.ZP.success("\u4FDD\u5B58\u6210\u529F"),w(!1),r.abrupt("return",Promise.reject());case 11:return r.prev=11,r.t0=r.catch(1),r.abrupt("return",Promise.reject());case 14:return r.prev=14,w(!1),r.finish(14);case 17:case"end":return r.stop()}},d,null,[[1,11,14,17]])}));return function(d){return S.apply(this,arguments)}}(),children:[(0,e.jsx)(he.Z,{name:"provider",label:"\u670D\u52A1\u63D0\u4F9B\u5546",rules:[{required:!0}],fieldProps:{onChange:function(){var S=Z()(a()().mark(function c(t){var b,n,r;return a()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return w(!0),C(t),i.resetFields(),i.setFieldsValue({provider:t}),A.next=6,(0,$.cB)();case 6:b=A.sent,n=b.success,r=b.result,n&&r&&r.enabled&&t===r.provider&&(M(r.enabled),i.setFieldsValue(I()({},r))),w(!1);case 11:case"end":return A.stop()}},c)}));function d(c){return S.apply(this,arguments)}return d}()},options:[{value:"customize",label:"\u81EA\u5B9A\u4E49"},{value:ae.Zw.ALIYUN,label:"\u963F\u91CC\u4E91\u4F01\u4E1A\u90AE"},{value:ae.Zw.TENCENT,label:"\u817E\u8BAF\u4E91\u4F01\u4E1A\u90AE"},{value:ae.Zw.NET_EASE,label:"\u7F51\u6613\u4F01\u4E1A\u90AE"}]}),B==="customize"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(F.Z,{name:"smtpUrl",label:"SMTP\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165SMTP\u5730\u5740",rules:[{required:!0,message:"\u8BF7\u8F93\u5165SMTP\u5730\u5740"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(Je.Z,{label:"\u7AEF\u53E3\u53F7",name:"port",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7AEF\u53E3\u53F7"}],fieldProps:{autoComplete:"off"},min:0,placeholder:"\u8BF7\u8F93\u5165\u7AEF\u53E3\u53F7"}),(0,e.jsx)(qe.Z.Group,{name:"safetyType",label:"\u5B89\u5168\u9A8C\u8BC1",rules:[{required:!0}],options:[{label:"None",value:"none"},{label:"SSL",value:"ssl"}]})]}),(0,e.jsx)(F.Z,{name:"username",label:B===xe?"\u7528\u6237\u540D":"\u53D1\u4EF6\u4EBA\u90AE\u7BB1",placeholder:B===xe?"\u8BF7\u8F93\u5165\u7528\u6237\u540D":"\u8BF7\u8F93\u5165\u53D1\u4EF6\u4EBA\u90AE\u7BB1",rules:B===xe?[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}]:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u4EF6\u4EBA\u90AE\u7BB1"},{type:"email",message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u53D1\u4EF6\u4EBA\u90AE\u7BB1"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z.Password,{name:"secret",label:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}],placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",fieldProps:{autoComplete:"new-password",iconRender:function(d){return d?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}})]}))})})})},ar=s(96495),nr=s(51904),Ge=function(l){var g=l.title,p=l.visible,i=l.onCancel,o=l.content;return(0,e.jsx)(Fe.Z,{title:g,open:p,closable:!0,destroyOnClose:!0,width:"800px",onCancel:i,onOk:i,children:(0,e.jsx)("div",{dangerouslySetInnerHTML:{__html:o}})})},tr=s(58455),ze=s(71577),ur=s(72269),Ke=s(69677),Vr=s(58177),Ur=s(99762),Gr=s(33160),zr=s(79820),Hr=s(96876),Yr=s(3814),lr=s(29656),ir=function(l){var g=l.visible,p=l.type,i=l.title,o=l.onClose,L=l.onSubmit,E=z.Z.useForm(),B=f()(E,1),C=B[0],H=(0,m.useState)(!1),Y=f()(H,2),K=Y[0],w=Y[1],fe=(0,m.useState)(!1),J=f()(fe,2),N=J[0],M=J[1],S=(0,m.useState)(!1),d=f()(S,2),c=d[0],t=d[1],b=(0,m.useState)(""),n=f()(b,2),r=n[0],W=n[1],A=(0,m.useState)(!1),X=f()(A,2),q=X[0],pe=X[1];(0,ce.Z)(Z()(a()().mark(function _(){var ne,ee,Q;return a()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(!g){te.next=9;break}return M(!0),te.next=4,(0,$.Up)({type:p});case 4:ne=te.sent,ee=ne.success,Q=ne.result,ee&&(C.setFieldsValue(I()({},Q)),pe(Q.custom),W(Q.content)),M(!1);case 9:case"end":return te.stop()}},_)})),[p,g]);function j(){o(),t(!1),C.resetFields()}return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(tr.Z,{onClose:j,destroyOnClose:!0,width:"600px",title:i,placement:"right",closable:!0,open:g,footer:(0,e.jsxs)("div",{style:{textAlign:"right"},children:[(0,e.jsx)(ze.Z,{onClick:function(){W(r),w(!0)},style:{marginRight:8},children:"\u9884\u89C8"}),q&&(0,e.jsx)(ze.Z,{loading:c,onClick:function(){C.submit()},type:"primary",children:"\u4FDD\u5B58"})]}),children:(0,e.jsx)(z.Z,{form:C,scrollToFirstError:!0,requiredMark:!0,onFinish:function(){var _=Z()(a()().mark(function ne(ee){return a()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return t(!0),V.prev=1,V.next=4,(0,$.P0)(I()(I()({type:p},ee),{},{content:r})).then(function(te){te.success&&te.result===!0&&(le.ZP.success("\u4FDD\u5B58\u6210\u529F"),j(),L&&L())});case 4:V.next=8;break;case 6:V.prev=6,V.t0=V.catch(1);case 8:return V.prev=8,t(!1),V.finish(8);case 11:case"end":return V.stop()}},ne,null,[[1,6,8,11]])}));return function(ne){return _.apply(this,arguments)}}(),layout:"vertical",children:(0,e.jsxs)(Se.Z,{spinning:N,size:"large",children:[(0,e.jsx)(z.Z.Item,{label:"\u81EA\u5B9A\u4E49\u90AE\u4EF6",name:"custom",valuePropName:"checked",extra:"\u5F00\u5173\u5F00\u542F\u65F6\uFF0C\u4F60\u53EF\u4EE5\u81EA\u5B9A\u4E49\u6B22\u8FCE\u90AE\u4EF6\uFF0C\u5BC6\u7801\u9A8C\u8BC1\u548C\u8D26\u6237\u6CE8\u518C\u9A8C\u8BC1\u7684\u5177\u4F53\u5185\u5BB9\uFF0C\u4FDD\u5B58\u540E\u751F\u6548\uFF0C\u5F00\u5173\u5173\u95ED\u65F6\uFF0C\u7CFB\u7EDF\u5C06\u542F\u7528\u9ED8\u8BA4\u6A21\u7248\u3002",children:(0,e.jsx)(ur.Z,{onChange:function(){var _=Z()(a()().mark(function ne(ee){var Q,V;return a()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(M(!0),ee){ue.next=9;break}return ue.next=4,(0,$.ms)(p).finally(function(){M(!1)});case 4:Q=ue.sent,V=Q.success,V&&pe(ee),ue.next=10;break;case 9:pe(ee);case 10:case"end":return ue.stop()}},ne)}));return function(ne){return _.apply(this,arguments)}}()})}),q&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(z.Z.Item,{label:"\u53D1\u9001\u4EBA",name:"sender",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u4EF6\u53D1\u9001\u4EBA"}],extra:"\u4F60\u53EF\u4EE5\u5305\u62EC\u4EE5\u4E0B\u53D8\u91CF\uFF1A${client_name}\uFF0C${time}\uFF0C${user_email}\uFF0C${client_description}\uFF0C${password}\u3002 \u4F8B\u5982\uFF1A${client_name} <support@yourcompany.com>\u3002${password} \u662F\u7528\u6237\u6CE8\u518C\u6210\u529F\u540E\u7684\u5BC6\u7801\uFF0C\u7531\u4E8E\u5B89\u5168\u539F\u56E0\uFF0C\u6B64\u5BC6\u7801\u4E0D\u4F1A\u660E\u6587\u6570\u636E\u5E93\u4E2D\u7559\u5B58\uFF0C\u4EC5\u4EC5\u4F1A\u5728\u521D\u6B21\u6CE8\u518C\u65F6\u901A\u8FC7\u90AE\u4EF6\u4F20\u8F93\u4E00\u6B21\u3002",children:(0,e.jsx)(Ke.Z,{autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165\u90AE\u4EF6\u53D1\u9001\u4EBA"})}),(0,e.jsx)(z.Z.Item,{label:"\u4E3B\u9898",name:"subject",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u4EF6\u4E3B\u9898"}],extra:"\u4F60\u53EF\u4EE5\u5305\u62EC\u4EE5\u4E0B\u53D8\u91CF\uFF1A${client_name}\uFF0C${time}\uFF0C${client_description}\uFF0C${user_email}\u3002 \u4F8B\u5982\uFF1A\u6B22\u8FCE\u6765\u5230 ${client_name}\uFF01",children:(0,e.jsx)(Ke.Z,{autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165\u90AE\u4EF6\u4E3B\u9898"})}),(0,e.jsx)(z.Z.Item,{hidden:!0,name:"content",children:(0,e.jsx)(Ke.Z,{hidden:!0,value:r})}),!N&&(0,e.jsx)(z.Z.Item,{label:"\u5185\u5BB9",children:(0,e.jsx)(lr.Rt,{options:{mode:"htmlembedded",theme:"material",lineNumbers:!1,smartIndent:!1,fullScreen:!1},onChange:function(ne,ee,Q){W(Q)},value:r})})]})]})})}),(0,e.jsx)(Ge,{content:r,title:i,visible:K,onCancel:function(){w(!1)}})]})},or=s(12812),T=s.n(or),cr=s(38755),dr=s(46986),fr=dr.ZP.ConfigContext;function pr(l){var g=(0,m.useContext)(fr),p=g.getPrefixCls,i=".".concat(p()),o=(0,cr.l)(function(L){var E,B,C=L.token;return B={},T()(B,".".concat(l),(E={},T()(E,"&-title",{marginTop:0,marginBottom:"0",fontSize:"16px"}),T()(E,"".concat(i,"-avatar > img"),{objectFit:"fill"}),T()(E,"".concat(i,"-card-head"),{borderBottom:"none"}),T()(E,"".concat(i,"-card-head-title"),{padding:"24px 0",lineHeight:"32px"}),T()(E,"".concat(i,"-card-extra"),{padding:"24px 0"}),T()(E,"".concat(i,"-list-pagination"),{marginTop:"24px"}),T()(E,"".concat(i,"-avatar-lg"),{width:"48px",height:"48px",lineHeight:"48px"}),T()(E,"".concat(i,"-list-item-action"),{marginInlineStart:"15px"}),E)),T()(B,"@media  (max-width: ".concat(C.screenXS,"px)"),T()({},".".concat(l,"-list"),{})),T()(B,"@media  (max-width: ".concat(C.screenSM,"px)"),T()({},".".concat(l,"-list"),{})),T()(B,"@media  (max-width: ".concat(C.screenMD,"px)"),T()({},".".concat(l,"-list"),{})),T()(B,"@media  (max-width: ".concat(C.screenLG,"px) and @media (min-width: ").concat(C.screenMD,"px)"),T()({},".".concat(l,"-list"),{})),T()(B,"@media  (max-width: ".concat(C.screenXL,"px)"),T()({},".".concat(l,"-list"),{})),T()(B,"@media  (max-width: 1400px)",T()({},".".concat(l,"-list"),{})),B});return{className:o}}var mr=s(94184),vr=s.n(mr),Re="setting-mail-template",hr=function(l){var g=l.visible,p=(0,m.useState)(!1),i=f()(p,2),o=i[0],L=i[1],E=(0,m.useState)(),B=f()(E,2),C=B[0],H=B[1],Y=(0,m.useState)(""),K=f()(Y,2),w=K[0],fe=K[1],J=(0,m.useState)(""),N=f()(J,2),M=N[0],S=N[1],d=(0,m.useState)(!1),c=f()(d,2),t=c[0],b=c[1],n=(0,m.useState)([]),r=f()(n,2),W=r[0],A=r[1],X=(0,m.useState)(!1),q=f()(X,2),pe=q[0],j=q[1],_=(0,m.useState)(!0),ne=f()(_,2),ee=ne[0],Q=ne[1],V=pr(Re),te=V.className;function ue(){return we.apply(this,arguments)}function we(){return we=Z()(a()().mark(function k(){var O,u,P;return a()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return b(!0),x.next=3,(0,$._4)();case 3:O=x.sent,u=O.success,P=O.result,u&&A(P),b(!1);case 8:case"end":return x.stop()}},k)})),we.apply(this,arguments)}(0,ce.Z)(Z()(a()().mark(function k(){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!g){u.next=3;break}return u.next=3,ue();case 3:case"end":return u.stop()}},k)})),[g]);var Ne=function(O,u){H((0,e.jsx)("span",{children:"".concat(O)})),L(!0),S(u)},Ve=function(O,u){H((0,e.jsx)("span",{children:"".concat(O)})),j(!0),fe(u)};return(0,e.jsx)("div",{className:te,children:(0,e.jsx)(Se.Z,{spinning:t,children:(0,e.jsxs)(ve.Z,{title:"\u90AE\u4EF6\u6A21\u677F",headerBordered:!0,className:"".concat(Re),bordered:!1,collapsed:ee,extra:(0,e.jsx)("a",{onClick:function(){Q(!ee)},children:ee?"\u5C55\u5F00":"\u6536\u8D77"}),children:[(0,e.jsx)(ar.Rs,{rowKey:"type",split:!0,cardProps:{bodyStyle:{padding:0}},showActions:"always",dataSource:W,metas:{title:{render:function(O,u){return[(0,e.jsx)("p",{onClick:function(){Ne(u.name,u.code)},className:vr()("".concat(Re,"-title")),children:u.name},u.name)]}},description:{},subTitle:{render:function(O,u){return(0,e.jsx)(De.Z,{size:0,children:u.custom&&(0,e.jsx)(nr.Z,{color:"#108ee9",children:"\u81EA\u5B9A\u4E49"},"customize")})}},actions:{render:function(O,u){return[(0,e.jsx)("a",{onClick:function(){Ne(u.name,u.code)},children:"\u914D\u7F6E"},"config"),(0,e.jsx)("a",{onClick:function(){Ve(u.name,u.content)},children:"\u6D4F\u89C8"},"browse")]}}}}),(0,e.jsx)(ir,{visible:o,type:M,onClose:Z()(a()().mark(function k(){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return L(!1),u.next=3,ue();case 3:case"end":return u.stop()}},k)})),onSubmit:Z()(a()().mark(function k(){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,ue();case 2:case"end":return u.stop()}},k)})),title:C}),(0,e.jsx)(Ge,{content:w,title:C,visible:pe,onCancel:function(){j(!1)}})]})})})},Fr=hr,G;(function(l){l.MAIL="mail",l.SMS="sms",l.STORAGE="storage",l.LOCATION="location"})(G||(G={}));var de;(function(l){l.ALIYUN_OSS="aliyun_oss",l.TENCENT_COS="tencent_cos",l.QINIU_KODO="qiniu_kodo",l.LOCAL="local",l.MINIO="minio"})(de||(de={}));var Ze;(function(l){l.ZH="zh",l.EN="en"})(Ze||(Ze={}));var Ie;(function(l){l.BEIJING="ap-beijing",l.GUANGZHOU="ap-guangzhou",l.NANJING="ap-nanjing"})(Ie||(Ie={}));var gr=s(37476),Cr=s(2236),Sr=s(50727),yr=s(92783),Er=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(F.Z,{name:"accessKeyId",label:"AccessKey ID",placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91AccessKey ID",rules:[{required:!0,message:"\u963F\u91CC\u4E91AccessKey ID \u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z.Password,{name:"accessKeySecret",label:"AccessKey Secret",rules:[{required:!0,message:"\u963F\u91CC\u4E91AccessKey Secret\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91AccessKey Secret",fieldProps:{autoComplete:"new-password",iconRender:function(p){return p?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}}),(0,e.jsx)(F.Z,{name:"signName",label:"\u77ED\u4FE1\u7B7E\u540D",placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91\u77ED\u4FE1\u7B7E\u540D",rules:[{required:!0,message:"\u963F\u91CC\u4E91\u77ED\u4FE1\u7B7E\u540D\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}})]})},br=Er,jr=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(F.Z,{name:"accessKey",label:"AccessKey",placeholder:"\u8BF7\u8F93\u5165\u4E03\u725B\u4E91 AccessKey",rules:[{required:!0,message:"\u4E03\u725B\u4E91AccessKey\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z.Password,{name:"secretKey",label:"SecretKey",rules:[{required:!0,message:"\u4E03\u725B\u4E91SecretKey\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u8BF7\u8F93\u5165\u4E03\u725B\u4E91SecretKey",fieldProps:{autoComplete:"new-password",iconRender:function(p){return p?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}})]})},xr=jr,Zr=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(he.Z,{name:"region",label:"\u5730\u57DF",placeholder:"\u8BF7\u9009\u62E9\u5730\u57DF\u914D\u7F6E",initialValue:Ie.GUANGZHOU,rules:[{required:!0,message:"\u817E\u8BAF\u4E91\u5730\u57DF\u4E3A\u5FC5\u586B\u9879"}],options:[{label:"\u534E\u5317\u5730\u533A\uFF08\u5317\u4EAC\uFF09",value:Ie.BEIJING},{label:"\u534E\u5357\u5730\u533A\uFF08\u5E7F\u5DDE\uFF09 ",value:Ie.GUANGZHOU},{label:"\u534E\u4E1C\u5730\u533A\uFF08\u5357\u4EAC\uFF09",value:Ie.NANJING}]}),(0,e.jsx)(F.Z,{name:"secretId",label:"SecretId",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91SecretId",rules:[{required:!0,message:"\u817E\u8BAF\u4E91SecretId\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z.Password,{name:"secretKey",label:"SecretKey",rules:[{required:!0,message:"\u817E\u8BAF\u4E91SecretKey\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91SecretKey",fieldProps:{iconRender:function(p){return p?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}}),(0,e.jsx)(F.Z,{name:"sdkAppId",label:"\u77ED\u4FE1\u5E94\u7528ID",placeholder:"\u8BF7\u8F93\u5165\u77ED\u4FE1\u5E94\u7528ID",rules:[{required:!0,message:"\u817E\u8BAF\u4E91\u77ED\u4FE1\u5E94\u7528ID\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z,{name:"signName",label:"\u77ED\u4FE1\u7B7E\u540D",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91\u77ED\u4FE1\u7B7E\u540D",rules:[{required:!0,message:"\u817E\u8BAF\u4E91\u77ED\u4FE1\u7B7E\u540D\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}})]})},Ar=Zr,Br=Fe.Z.confirm,Pr={labelCol:{xs:{span:24},sm:{span:7},md:{span:6}},wrapperCol:{xs:{span:24},sm:{span:13},md:{span:14}}},ke=ae.Zw.ALIYUN,Ir=function(g){var p=g.data,i=g.visible,o=g.onCancel;return(0,e.jsxs)(gr.Y,{preserve:!1,width:600,open:i,layout:"horizontal",modalProps:{onCancel:o,destroyOnClose:!0},labelAlign:"left",labelCol:{span:4},wrapperCol:{span:19},title:"\u6D4B\u8BD5\u77ED\u4FE1\u53D1\u9001",initialValues:{type:p.type,name:p.name,content:p.content},onFinish:function(E){return console.log(p),alert("\u53D1\u9001\u77ED\u4FE1"+E.phone),Promise.reject(!1)},children:[(0,e.jsx)(F.Z,{name:"type",hidden:!0}),(0,e.jsx)(F.Z,{label:"\u624B\u673A\u53F7",name:"phone",rules:[{required:!0}]}),(0,e.jsx)(F.Z,{label:"\u573A\u666F",name:"name",readonly:!0}),(0,e.jsx)(F.Z,{label:"\u6A21\u677F\u5185\u5BB9",name:"content",readonly:!0})]},p.type)},wr=function(l){var g=z.Z.useForm(),p=f()(g,1),i=p[0],o=(0,m.useRef)(),L=(0,m.useRef)(),E=l.visible,B=(0,m.useState)(ke),C=f()(B,2),H=C[0],Y=C[1],K=(0,m.useState)(!1),w=f()(K,2),fe=w[0],J=w[1],N=(0,m.useState)({}),M=f()(N,2),S=M[0],d=M[1],c=(0,m.useState)(!1),t=f()(c,2),b=t[0],n=t[1],r=(0,m.useState)(!1),W=f()(r,2),A=W[0],X=W[1],q=(0,m.useState)(Ze.ZH),pe=f()(q,2),j=pe[0],_=pe[1],ne=(0,m.useState)(),ee=f()(ne,2),Q=ee[0],V=ee[1],te=(0,m.useState)(),ue=f()(te,2),we=ue[0],Ne=ue[1],Ve=[{dataIndex:"name",title:"\u6A21\u677F\u7C7B\u578B",fixed:"left",width:150,editable:!1},{dataIndex:"content",title:"\u6A21\u677F\u5185\u5BB9",copyable:!0,editable:!1},{dataIndex:"code",title:"\u6A21\u677FID/CODE",width:130,fixed:"right"},{title:"\u64CD\u4F5C",fixed:"right",align:"center",width:90,editable:!1,render:function(u,P){return[(0,e.jsx)("a",{onClick:Z()(a()().mark(function y(){var x,R;return a()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,i==null?void 0:i.validateFields();case 2:if(h.sent){h.next=4;break}return h.abrupt("return");case 4:if((x=o.current)!==null&&x!==void 0&&(R=x.getFieldValue(P.type))!==null&&R!==void 0&&R.code){h.next=8;break}return h.next=7,le.ZP.warning("\u8BF7\u914D\u7F6E\u77ED\u4FE1ID/CODE");case 7:return h.abrupt("return");case 8:J(!0),d(I()(I()({},P),{},{config:i.getFieldsValue()}));case 10:case"end":return h.stop()}},y)})),children:"\u6D4B\u8BD5"},P.type)]}}],k=function(){var O=Z()(a()().mark(function u(P){var y,x,R;return a()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,$.F8)({language:P});case 2:y=h.sent,x=y.result,R=y.success,R&&x&&(Ne(x),V(x.map(function(re){return re.type})));case 6:case"end":return h.stop()}},u)}));return function(P){return O.apply(this,arguments)}}();return(0,ce.Z)(Z()(a()().mark(function O(){var u,P,y,x;return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!E){D.next=24;break}return n(!0),D.next=4,(0,$.di)();case 4:if(u=D.sent,P=u.success,y=u.result,X(y.enabled),!(P&&y&&y.enabled)){D.next=18;break}return i.setFieldsValue(I()({},y.config)),Y(y.provider),_(y.language),D.next=14,k(y.language);case 14:(x=y.templates)===null||x===void 0||x.forEach(function(h){var re;(re=o.current)===null||re===void 0||re.setFieldsValue(T()({},h.type,{code:h.code}))}),n(!1),D.next=23;break;case 18:return D.next=20,k(j);case 20:return i.setFieldsValue({provider:H}),n(!1),D.abrupt("return");case 23:return D.abrupt("return");case 24:case"end":return D.stop()}},O)})),[E]),(0,e.jsxs)(Se.Z,{spinning:b,children:[S&&(0,e.jsx)(Ir,{data:S,visible:fe,onCancel:function(){J(!1)}}),(0,e.jsx)(ve.Z,{title:"\u77ED\u4FE1\u670D\u52A1",headerBordered:!0,bordered:!1,collapsed:!A,style:{marginBottom:"24px"},extra:(0,e.jsx)(ie.Z,{noStyle:!0,fieldProps:{checked:A,onChange:function(){var O=Z()(a()().mark(function P(y){return a()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:y?X(y):Br({title:"\u8B66\u544A",icon:(0,e.jsx)(Pe.Z,{}),content:"\u5173\u95ED\u6B64\u529F\u80FD\u5C06\u65E0\u6CD5\u4F7F\u7528\u77ED\u4FE1\u670D\u52A1\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5173\u95ED\u3002",okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",centered:!0,onOk:function(){var D=Z()(a()().mark(function re(){var U,se;return a()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return n(!0),me.next=3,(0,$.zS)().finally(function(){n(!1)});case 3:if(U=me.sent,se=U.success,!se){me.next=12;break}return X(y),le.ZP.success("\u64CD\u4F5C\u6210\u529F"),Y(ke),i.resetFields(),i.setFieldsValue({provider:ke}),me.abrupt("return");case 12:case"end":return me.stop()}},re)}));function h(){return D.apply(this,arguments)}return h}(),onCancel:function(){}});case 1:case"end":return R.stop()}},P)}));function u(P){return O.apply(this,arguments)}return u}()}}),children:(0,e.jsxs)(Be.W,{children:[(0,e.jsxs)(oe.A,I()(I()({form:i,scrollToFirstError:!0,layout:"horizontal"},Pr),{},{labelAlign:"right",onReset:Z()(a()().mark(function O(){var u;return a()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:i.resetFields(),i.setFieldsValue({provider:H}),(u=o.current)===null||u===void 0||u.resetFields();case 3:case"end":return y.stop()}},O)})),submitter:{render:function(u,P){return(0,e.jsx)(Cr.S,{children:P})},submitButtonProps:{style:{display:A?"":"none"}},resetButtonProps:{style:{display:A?"":"none"}}},onFinish:function(){var O=Z()(a()().mark(function u(P){var y,x,R,D,h;return a()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return x=(y=o.current)===null||y===void 0?void 0:y.getFieldsValue(),R=[],Q==null||Q.forEach(function(se){if(x[se].code!==void 0){var Oe={type:"".concat(se),code:x[se].code};R.push(Oe)}}),n(!0),U.prev=4,U.next=7,(0,$.sO)({provider:P.provider,config:P,templates:R,language:j});case 7:if(D=U.sent,h=D.success,!h){U.next=12;break}return le.ZP.success("\u4FDD\u5B58\u6210\u529F"),U.abrupt("return",Promise.resolve(!0));case 12:return U.abrupt("return",Promise.reject());case 15:return U.prev=15,U.t0=U.catch(4),U.abrupt("return",Promise.reject());case 18:return U.prev=18,n(!1),U.finish(18);case 21:case"end":return U.stop()}},u,null,[[4,15,18,21]])}));return function(u){return O.apply(this,arguments)}}(),children:[(0,e.jsx)(he.Z,{name:"provider",label:"\u670D\u52A1\u63D0\u4F9B\u5546",rules:[{required:!0}],fieldProps:{onChange:function(){var O=Z()(a()().mark(function P(y){var x,R,D,h,re;return a()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return n(!0),Y(y),i.resetFields(),i.setFieldsValue({provider:y}),(x=o.current)===null||x===void 0||x.resetFields(),se.next=7,(0,$.di)();case 7:if(R=se.sent,D=R.success,h=R.result,!(D&&h&&h.enabled&&h.provider===y)){se.next=16;break}return i.setFieldsValue(I()({},h.config)),_(h.language),se.next=15,k(h.language);case 15:(re=h.templates)===null||re===void 0||re.forEach(function(Oe){var me;(me=o.current)===null||me===void 0||me.setFieldsValue(T()({},Oe.type,{code:Oe.code}))});case 16:if(!(D&&h&&h.provider!==y)){se.next=20;break}return _(Ze.ZH),se.next=20,k(Ze.ZH);case 20:n(!1);case 21:case"end":return se.stop()}},P)}));function u(P){return O.apply(this,arguments)}return u}()},options:[{value:ae.Zw.ALIYUN,label:"\u963F\u91CC\u4E91"},{value:ae.Zw.TENCENT,label:"\u817E\u8BAF\u4E91"},{value:ae.Zw.QI_NIU,label:"\u4E03\u725B\u4E91"}]}),H===ae.Zw.ALIYUN&&(0,e.jsx)(br,{}),H===ae.Zw.TENCENT&&(0,e.jsx)(Ar,{}),H===ae.Zw.QI_NIU&&(0,e.jsx)(xr,{})]})),(0,e.jsx)("br",{}),(0,e.jsx)(ve.Z,{title:"\u53D1\u9001\u573A\u666F",bordered:!0,extra:(0,e.jsx)(yr.Z,{value:j,onChange:function(u){var P;_(u),n(!0),(P=o.current)===null||P===void 0||P.resetFields(),k(u).then(function(){(0,$.di)().then(function(y){var x=y.result,R=y.success;if(R&&x&&x.enabled&&x.provider===H&&x.language===u){var D;(D=x.templates)===null||D===void 0||D.forEach(function(h){var re;(re=o.current)===null||re===void 0||re.setFieldsValue(T()({},h.type,{code:h.code}))})}n(!1)})})},options:[{value:Ze.ZH,label:"\u4E2D\u6587"},{value:Ze.EN,label:"English"}]},"radio"),children:(0,e.jsx)(Sr.Z,{actionRef:L,columns:Ve,editableFormRef:o,scroll:{x:1200},cardProps:{bodyStyle:{padding:0}},value:we,rowKey:"type",pagination:!1,options:!1,editable:{type:"multiple",editableKeys:Q},recordCreatorProps:!1,search:!1})})]})})]})},Or=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(F.Z,{name:["config","domain"],label:"\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91OSS\u7ED1\u5B9A\u57DF\u540D",rules:[{required:!0,message:"\u963F\u91CC\u4E91OSS\u7ED1\u5B9A\u57DF\u540D\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z,{name:["config","accessKeyId"],label:"AccessKeyId",placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91OSS AccessKeyId",rules:[{required:!0,message:"\u963F\u91CC\u4E91OSS AccessKeyId\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z.Password,{name:["config","accessKeySecret"],label:"AccessKeySecret",rules:[{required:!0,message:"\u963F\u91CC\u4E91OSS AccessKeySecret\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91OSS AccessKeySecret",fieldProps:{autoComplete:"new-password",iconRender:function(g){return g?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}}),(0,e.jsx)(F.Z,{name:["config","endpoint"],label:"Endpoint",placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91OSS Endpoint",rules:[{required:!0,message:"\u963F\u91CC\u4E91OSS Endpoint\u4E3A\u5FC5\u586B\u9879"}]}),(0,e.jsx)(F.Z,{name:["config","bucket"],label:"Bucket",placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91OSS Bucket",rules:[{required:!0,message:"\u963F\u91CC\u4E91OSS Bucket\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}})]})},Dr=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(F.Z,{name:["config","accessKey"],label:"AccessKey",placeholder:"\u8BF7\u8F93\u5165MinIO  AccessKey",rules:[{required:!0,message:"MinIO  AccessKey\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z.Password,{name:["config","secretKey"],label:"SecretKey",rules:[{required:!0,message:"MinIO  SecretKey\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u8BF7\u8F93\u5165MinIO SecretKey",fieldProps:{autoComplete:"new-password",iconRender:function(g){return g?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}}),(0,e.jsx)(F.Z,{name:["config","domain"],label:"Domain",placeholder:"\u8BF7\u8F93\u5165MinIO Domain",rules:[{required:!0,message:"MinIO  Domain\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z,{name:["config","endpoint"],label:"Endpoint",placeholder:"\u8BF7\u8F93\u5165MinIO Endpoint",rules:[{required:!0,message:"MinIO  Endpoint\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z,{name:["config","bucket"],label:"Bucket",placeholder:"\u8BF7\u8F93\u5165MinIO  Bucket",rules:[{required:!0,message:"MinIO  Bucket\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}})]})},$r=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(F.Z,{name:["config","domain"],label:"\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u8BF7\u8F93\u5165\u4E03\u725B\u4E91Kodo\u7ED1\u5B9A\u57DF\u540D",rules:[{required:!0,message:"\u4E03\u725B\u4E91Kodo\u7ED1\u5B9A\u57DF\u540D\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z,{name:["config","accessKey"],label:"AccessKey",placeholder:"\u8BF7\u8F93\u5165\u4E03\u725B\u4E91Kodo AccessKey",rules:[{required:!0,message:"\u4E03\u725B\u4E91Kodo AccessKey\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z.Password,{name:["config","secretKey"],label:"SecretKey",rules:[{required:!0,message:"\u4E03\u725B\u4E91Kodo SecretKey\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u8BF7\u8F93\u5165\u4E03\u725B\u4E91Kodo SecretKey",fieldProps:{autoComplete:"new-password",iconRender:function(g){return g?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}}),(0,e.jsx)(F.Z,{name:["config","bucket"],label:"Bucket",placeholder:"\u8BF7\u8F93\u5165\u4E03\u725B\u4E91Kodo Bucket",rules:[{required:!0,message:"\u4E03\u725B\u4E91Kodo Bucket\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}})]})},Tr=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(F.Z,{name:["config","domain"],label:"\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91COS\u7ED1\u5B9A\u57DF\u540D",rules:[{required:!0,message:"\u817E\u8BAF\u4E91COS\u7ED1\u5B9A\u57DF\u540D\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z,{name:["config","appId"],label:"AppId",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91COS AppId",rules:[{required:!0,message:"\u817E\u8BAF\u4E91COS AppId\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z,{name:["config","secretId"],label:"SecretId",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91COS SecretId",rules:[{required:!0,message:"\u817E\u8BAF\u4E91COS SecretId\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"new-password"}}),(0,e.jsx)(F.Z.Password,{name:["config","secretKey"],label:"SecretKey",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91COS SecretKey",rules:[{required:!0,message:"\u817E\u8BAF\u4E91COS SecretKey\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z,{name:["config","region"],label:"Region",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91COS Region",rules:[{required:!0,message:"\u817E\u8BAF\u4E91COS Region\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(F.Z,{name:["config","bucket"],label:"Bucket",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91COS Bucket",rules:[{required:!0,message:"\u817E\u8BAF\u4E91COS Bucket\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}})]})},Nr=Fe.Z.confirm,Mr={labelCol:{xs:{span:24},sm:{span:7},md:{span:6}},wrapperCol:{xs:{span:24},sm:{span:13},md:{span:14}}},Kr={wrapperCol:{xs:{span:24,offset:0},sm:{span:17,offset:7},md:{span:18,offset:6}}},Te=de.ALIYUN_OSS,Rr=function(l){var g=l.visible,p=z.Z.useForm(),i=f()(p,1),o=i[0],L=(0,m.useState)(!1),E=f()(L,2),B=E[0],C=E[1],H=(0,m.useState)(!1),Y=f()(H,2),K=Y[0],w=Y[1],fe=(0,m.useState)(Te),J=f()(fe,2),N=J[0],M=J[1];return(0,ce.Z)(Z()(a()().mark(function S(){var d,c,t;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!g){n.next=11;break}return o.resetFields(),C(!0),n.next=5,(0,$.QH)();case 5:return d=n.sent,c=d.success,t=d.result,c&&t&&t.enabled?(w(t.enabled),M(t.provider),o.setFieldsValue(I()({},t))):o.setFieldsValue({provider:N}),C(!1),n.abrupt("return");case 11:w(!1);case 12:case"end":return n.stop()}},S)})),[g]),(0,e.jsx)(Se.Z,{spinning:B,children:g&&(0,e.jsx)(ve.Z,{title:"\u5B58\u50A8\u63D0\u4F9B\u5546",headerBordered:!0,bordered:!1,collapsed:!K,style:{marginBottom:"24px"},extra:(0,e.jsx)(ie.Z,{noStyle:!0,preserve:!1,labelAlign:"right",fieldProps:{checked:K,onChange:function(){var S=Z()(a()().mark(function c(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t?w(t):Nr({title:"\u8B66\u544A",icon:(0,e.jsx)(Pe.Z,{}),content:"\u5173\u95ED\u6B64\u529F\u80FD\u5C06\u65E0\u6CD5\u4F7F\u7528\u5B58\u50A8\u670D\u52A1\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5173\u95ED\u3002",okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",centered:!0,onOk:function(){var r=Z()(a()().mark(function A(){var X,q;return a()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return C(!0),j.next=3,(0,$.wi)().finally(function(){C(!1)});case 3:if(X=j.sent,q=X.success,!q){j.next=12;break}return w(t),le.ZP.success("\u64CD\u4F5C\u6210\u529F"),M(Te),o.resetFields(),o.setFieldsValue({provider:Te}),j.abrupt("return");case 12:case"end":return j.stop()}},A)}));function W(){return r.apply(this,arguments)}return W}(),onCancel:function(){}});case 1:case"end":return n.stop()}},c)}));function d(c){return S.apply(this,arguments)}return d}()}}),children:(0,e.jsx)(Be.W,{children:(0,e.jsx)(oe.A,I()(I()({form:o,scrollToFirstError:!0,layout:"horizontal",labelAlign:"right"},Mr),{},{initialValues:{provider:Te},onReset:function(){o.resetFields(),o.setFieldsValue({enabled:K,provider:N})},submitter:{render:function(d,c){return(0,e.jsx)(z.Z.Item,I()(I()({},Kr),{},{children:(0,e.jsx)(De.Z,{children:c})}))},submitButtonProps:{style:{display:K?"":"none"}},resetButtonProps:{style:{display:K?"":"none"}}},onFinish:function(){var S=Z()(a()().mark(function d(c){var t,b;return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,$.tF)(c);case 2:if(t=r.sent,b=t.success,!b){r.next=7;break}return le.ZP.success("\u4FDD\u5B58\u6210\u529F"),r.abrupt("return",Promise.resolve(!0));case 7:return r.abrupt("return",Promise.reject());case 8:case"end":return r.stop()}},d)}));return function(d){return S.apply(this,arguments)}}(),children:K&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(he.Z,{name:"provider",label:"\u5B58\u50A8\u670D\u52A1\u5546",rules:[{required:!0}],fieldProps:{onChange:function(){var S=Z()(a()().mark(function c(t){var b,n,r;return a()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return C(!0),M(t),o.resetFields(),o.setFieldsValue({provider:t}),A.next=6,(0,$.QH)();case 6:b=A.sent,n=b.success,r=b.result,n&&r&&r.enabled&&t===r.provider&&(w(r.enabled),o.setFieldsValue(I()({},r))),C(!1);case 11:case"end":return A.stop()}},c)}));function d(c){return S.apply(this,arguments)}return d}()},options:[{value:de.ALIYUN_OSS,label:"\u963F\u91CC\u4E91OSS"},{value:de.TENCENT_COS,label:"\u817E\u8BAF\u4E91COS"},{value:de.QINIU_KODO,label:"\u4E03\u725B\u4E91Kodo"},{value:de.MINIO,label:"MinIO"}]}),N===de.ALIYUN_OSS&&(0,e.jsx)(Or,{}),N===de.TENCENT_COS&&(0,e.jsx)(Tr,{}),N===de.QINIU_KODO&&(0,e.jsx)($r,{}),N===de.MINIO&&(0,e.jsx)(Dr,{})]})}))})})})},Le=s(67038),kr=s(98971),Lr=function(){var l=(0,m.useState)(),g=f()(l,2),p=g[0],i=g[1],o=(0,kr.useLocation)();return(0,m.useEffect)(function(){var L=(0,Le.parse)(o.search),E=L,B=E.tab;if(!B||!(B.toUpperCase()in G)){i(G.STORAGE),ge.m.replace({pathname:o.pathname,search:(0,Le.stringify)({tab:G.STORAGE})});return}i(B)},[p]),(0,e.jsxs)(Ce._z,{content:"\u7CFB\u7EDF\u57FA\u672C\u914D\u7F6E\uFF0C\u5982\u6587\u4EF6\u5B58\u50A8\u3001\u5730\u7406\u4F4D\u7F6E\u3001\u6D88\u606F\u670D\u52A1\u7B49\u3002",tabActiveKey:p,onTabChange:function(E){i(E),ge.m.replace({pathname:o.pathname,search:(0,Le.stringify)({tab:E})})},tabList:[{tab:"\u6587\u4EF6\u5B58\u50A8",key:G.STORAGE},{tab:"\u5730\u7406\u4F4D\u7F6E",key:G.LOCATION},{tab:"\u90AE\u4EF6\u670D\u52A1",key:G.MAIL},{tab:"\u77ED\u4FE1\u670D\u52A1",key:G.SMS}],children:[p===G.STORAGE&&(0,e.jsx)(Rr,{visible:p===G.STORAGE}),p===G.LOCATION&&(0,e.jsx)(Qe,{visible:p===G.LOCATION}),p===G.MAIL&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(sr,{visible:p===G.MAIL}),(0,e.jsx)(Fr,{visible:p===G.MAIL})]}),p===G.SMS&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(wr,{visible:p===G.SMS})})]})}}}]);
