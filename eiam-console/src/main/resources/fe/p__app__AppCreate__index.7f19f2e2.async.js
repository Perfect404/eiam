/*
 * eiam-console - Employee Identity and Access Management Program
 * Copyright Â© 2020-2023 TopIAM (support@topiam.cn)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
"use strict";(self.webpackChunktopiam_console=self.webpackChunktopiam_console||[]).push([[976],{5966:function(Z,C,o){var E=o(1413),v=o(91),F=o(85893),g=o(7772),w=["fieldProps","proFieldProps"],x=["fieldProps","proFieldProps"],l="text",i=function(b){var R=b.fieldProps,W=b.proFieldProps,L=(0,v.Z)(b,w);return(0,F.jsx)(g.Z,(0,E.Z)({valueType:l,fieldProps:R,filedConfig:{valueType:l},proFieldProps:W},L))},A=function(b){var R=b.fieldProps,W=b.proFieldProps,L=(0,v.Z)(b,x);return(0,F.jsx)(g.Z,(0,E.Z)({valueType:"password",fieldProps:R,proFieldProps:W,filedConfig:{valueType:l}},L))},j=i;j.Password=A,j.displayName="ProFormComponent",C.Z=j},90672:function(Z,C,o){var E=o(1413),v=o(91),F=o(85893),g=o(67294),w=o(7772),x=["fieldProps","proFieldProps"],l=function(A,j){var M=A.fieldProps,b=A.proFieldProps,R=(0,v.Z)(A,x);return(0,F.jsx)(w.Z,(0,E.Z)({ref:j,valueType:"textarea",fieldProps:M,proFieldProps:b},R))};C.Z=g.forwardRef(l)},11911:function(Z,C,o){o.d(C,{Gh:function(){return x},SC:function(){return l},Zw:function(){return v},b$:function(){return w},n6:function(){return F},pR:function(){return g},rD:function(){return E}});var E;(function(i){i.EX900005="EX900005",i.EX000102="EX000102",i.EX000202="EX000202",i.SUCCESS="200"})(E||(E={}));var v;(function(i){i.ALIYUN="aliyun",i.QI_NIU="qiniu",i.TENCENT="tencent",i.NET_EASE="netease",i.MAXMIND="maxmind"})(v||(v={}));var F;(function(i){i.ALIYUN="aliyun",i.TENCENT="tencent",i.GEE_TEST="geetest",i.HCAPTCHA="hcaptcha",i.RECAPTCHA="recaptcha"})(F||(F={}));var g;(function(i){i.STANDARD="standard",i.CUSTOM_MADE="custom_made"})(g||(g={}));var w;(function(i){i.SAML2="saml2",i.OIDC="oidc",i.CAS="cas",i.JWT="jwt",i.FORM="form",i.OAUTH2="oauth2"})(w||(w={}));var x;(function(i){i.ALLOW="ALLOW",i.DENY="DENY"})(x||(x={}));var l;(function(i){i.ROLE="ROLE",i.RESOURCE="RESOURCE",i.USER="USER",i.ORGANIZATION="ORGANIZATION",i.USER_GROUP="USER_GROUP"})(l||(l={}))},7859:function(Z,C,o){o.r(C),o.d(C,{default:function(){return S}});var E=o(97983),v=o.n(E),F=o(40794),g=o.n(F),w=o(12741),x=o.n(w),l=o(11911),i=o(56162),A=o(84865),j=o(37476),M=o(5966),b=o(90672),R=o(96495),W=o(14459),L=o(2093),H=o(69400),G=o(57953),Q=o(98293),V=o(88942),K=o(67294),k=o(12812),m=o.n(k),q=o(46986),tt=o(38755),et=q.ZP.ConfigContext;function nt(c){var p=(0,K.useContext)(et),P=p.getPrefixCls,f=".".concat(P()),O=".".concat(c),B=(0,tt.l)(function(_){var D,h,y=_.token;return h={},m()(h,"".concat(O),(D={},m()(D,"".concat(f,"-avatar > img"),{objectFit:"fill"}),m()(D,"".concat(f,"-card-head"),{borderBottom:"none"}),m()(D,"".concat(f,"-card-head-title"),{padding:"24px 0",lineHeight:"32px"}),m()(D,"".concat(f,"-card-extra"),{padding:"24px 0"}),m()(D,"".concat(f,"-list-pagination"),{marginTop:"24px"}),m()(D,"".concat(f,"-avatar-lg"),{width:"48px",height:"48px",lineHeight:"48px"}),m()(D,"".concat(f,"-list-item-action"),{marginInlineStart:"15px"}),m()(D,".ant-pro-list .ant-pro-list-row",{paddingLeft:"10px",paddingRight:"10px"}),D)),m()(h,"@media  (max-width: ".concat(y.screenXS,"px)"),m()({},"".concat(c,"-list"),{})),m()(h,"@media  (max-width: ".concat(y.screenSM,"px)"),m()({},"".concat(c,"-list"),{})),m()(h,"@media  (max-width: ".concat(y.screenMD,"px)"),m()({},"".concat(c,"-list"),{})),m()(h,"@media  (max-width: ".concat(y.screenLG,"px) and @media (min-width: ").concat(y.screenMD,"px)"),m()({},"".concat(c,"-list"),{})),m()(h,"@media  (max-width: ".concat(y.screenXL,"px)"),m()({},"".concat(c,"-list"),{})),m()(h,"@media  (max-width: 1400px)",m()({},"".concat(c,"-list"),{})),h});return{className:B}}var z=o(67038),t=o(98971),e=o(94184),r=o.n(e),n=o(85893),u=function(p){return p===l.pR.STANDARD?"\u6807\u51C6\u534F\u8BAE":p===l.pR.CUSTOM_MADE?"\u5B9A\u5236\u6A21\u677F":"\u5168\u90E8"},a=function(p){var P=p.name,f=p.code,O=(0,V.Z)(),B=x()(O,1),_=B[0],D=(0,K.useState)(!1),h=x()(D,2),y=h[0],T=h[1];return(0,n.jsx)(j.Y,{title:"\u6DFB\u52A0\u5E94\u7528",trigger:(0,n.jsx)("a",{children:"\u6DFB\u52A0\u5E94\u7528"},"add"),width:500,form:_,scrollToFirstError:!0,initialValues:{template:f},autoFocusFirstInput:!0,layout:"horizontal",labelAlign:"left",labelCol:{span:4},wrapperCol:{span:20},requiredMark:!0,preserve:!1,modalProps:{onCancel:function(){_.resetFields()}},onFinish:function(){var X=g()(v()().mark(function $(U){var Y,I,J,rt;return v()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return T(!0),N.next=3,(0,i.ri)(U).finally(function(){T(!1)});case 3:if(Y=N.sent,I=Y.success,J=Y.result,!(I&&J)){N.next=9;break}return rt=H.Z.success({title:"\u6DFB\u52A0\u6210\u529F",content:"\u8BF7\u8FDB\u5165\u5E94\u7528\u7BA1\u7406\u9875\u9762\u5B8C\u5584\u914D\u7F6E\u5E76\u67E5\u770B\u4FE1\u606F",okText:"\u5B8C\u5584\u914D\u7F6E",onOk:function(){rt.destroy(),A.m.push("/app/config?id=".concat(J.id,"&name=").concat(U.name))}}),N.abrupt("return",!0);case 9:return N.abrupt("return",!1);case 10:case"end":return N.stop()}},$)}));return function($){return X.apply(this,arguments)}}(),children:(0,n.jsxs)(G.Z,{spinning:y,children:[(0,n.jsx)(M.Z,{name:"template",hidden:!0}),(0,n.jsx)(M.Z,{initialValue:"".concat(P),name:"name",preserve:!1,label:"\u5E94\u7528\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D\u79F0",rules:[{required:!0,message:"\u5E94\u7528\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"}]}),(0,n.jsx)(b.Z,{name:"remark",preserve:!1,fieldProps:{rows:2,maxLength:20,showCount:!1},placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",label:"\u5907\u6CE8"})]})})},s="app-create",d=function(){var c=(0,K.useState)(l.pR.STANDARD),p=x()(c,2),P=p[0],f=p[1],O=(0,t.useLocation)(),B=(0,K.useRef)(),_=nt(s),D=_.className;return(0,L.Z)(g()(v()().mark(function h(){var y,T,X,$,U;return v()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(X=(0,z.parse)(O.search),$=X,U=$.tab,!(!U||!(U.toUpperCase()in l.pR))){I.next=6;break}return f(l.pR.STANDARD),A.m.replace({pathname:O.pathname,search:(0,z.stringify)({tab:l.pR.STANDARD})}),I.abrupt("return");case 6:(y=B.current)===null||y===void 0||(T=y.reset)===null||T===void 0||T.call(y),f(U);case 8:case"end":return I.stop()}},h)})),[P]),(0,n.jsx)("div",{className:D,children:(0,n.jsx)(W._z,{onBack:function(){A.m.push("/app")},className:r()("".concat(s)),content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"\u672C\u9875\u9762\u5305\u542B\u4E86\u6240\u6709\u5DF2\u652F\u6301\u7684\u53EF\u6DFB\u52A0\u5E94\u7528\u5217\u8868\uFF0C\u7BA1\u7406\u5458\u53EF\u4EE5\u9009\u62E9\u9700\u8981\u4F7F\u7528\u7684\u5E94\u7528\u8FDB\u884C\u521D\u59CB\u5316\u914D\u7F6E\uFF0C\u5E76\u5F00\u59CB\u540E\u7EED\u4F7F\u7528\u3002"}),(0,n.jsx)("span",{children:"\u5E94\u7528\u5206\u4E3A\u4E24\u79CD\uFF1A\u4E00\u79CD\u662F\u652F\u6301\u6807\u51C6\u7684 OIDC\u3001SAML\u3001JWT\u3001CAS \u7B49\u6A21\u677F\u7684\u5E94\u7528\uFF0C\u5728\u8FD9\u91CC\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u5BF9\u5E94\u7684\u6807\u51C6\u5E94\u7528\u6A21\u677F\u6765\u5B9E\u73B0\u5355\u70B9\u767B\u5F55\u529F\u80FD\uFF1B\u53E6\u4E00\u79CD\u662F\u5B9A\u5236\u5E94\u7528\uFF0C\u672C\u7C7B\u5E94\u7528\u5DF2\u7ECF\u63D0\u4F9B\u4E86\u5BF9\u63A5\u5176\u5355\u70B9\u767B\u5F55\u6216\u7528\u6237\u540C\u6B65\u7684\u63A5\u53E3\uFF0C\u7531 TopIAM \u4E3A\u5176\u63D0\u4F9B\u5B9A\u5236\u5316\u6A21\u677F\u8FDB\u884C\u5BF9\u63A5\u3002"})]}),tabActiveKey:P,onTabChange:function(y){f(y),A.m.replace({pathname:O.pathname,search:(0,z.stringify)({tab:y})})},tabProps:{size:"small"},tabList:[{tab:"\u6807\u51C6\u534F\u8BAE",key:l.pR.STANDARD},{tab:"\u5B9A\u5236\u6A21\u677F",key:l.pR.CUSTOM_MADE}],children:(0,n.jsx)(R.Rs,{split:!0,rowKey:"code",showActions:"always",headerTitle:u(P),search:{},actionRef:B,request:i.LB,pagination:{defaultPageSize:5,size:"small"},params:{type:P},metas:{title:{dataIndex:"name",title:"\u6A21\u7248\u540D\u79F0"},avatar:{search:!1,render:function(y,T){return(0,n.jsx)(Q.C,{shape:"square",size:45,src:T.icon},T.code)}},description:{search:!1,dataIndex:"desc"},actions:{render:function(y,T){return[(0,n.jsx)(a,{code:T.code,name:P===l.pR.STANDARD?"".concat(T.name," \u5E94\u7528"):T.name},T.code)]}}}})})})},S=d},2093:function(Z,C,o){var E=o(70655),v=o(67294),F=o(92770);function g(w,x){function l(i){return(0,F.mf)(i[Symbol.asyncIterator])}(0,v.useEffect)(()=>{const i=w();let A=!1;function j(){return(0,E.mG)(this,void 0,void 0,function*(){if(l(i))for(;!((yield i.next()).done||A););else yield i})}return j(),()=>{A=!0}},x)}C.Z=g},92770:function(Z,C,o){o.d(C,{mf:function(){return v}});const E=l=>l!==null&&typeof l=="object",v=l=>typeof l=="function",F=l=>typeof l=="string",g=l=>typeof l=="boolean",w=l=>typeof l=="number",x=l=>typeof l=="undefined"},70655:function(Z,C,o){o.d(C,{CR:function(){return R},Jh:function(){return A},XA:function(){return b},ZT:function(){return v},_T:function(){return g},ev:function(){return H},mG:function(){return i},pi:function(){return F},pr:function(){return L}});var E=function(t,e){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])},E(t,e)};function v(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");E(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var F=function(){return F=Object.assign||function(e){for(var r,n=1,u=arguments.length;n<u;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},F.apply(this,arguments)};function g(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,n=Object.getOwnPropertySymbols(t);u<n.length;u++)e.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(t,n[u])&&(r[n[u]]=t[n[u]]);return r}function w(t,e,r,n){var u=arguments.length,a=u<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var d=t.length-1;d>=0;d--)(s=t[d])&&(a=(u<3?s(a):u>3?s(e,r,a):s(e,r))||a);return u>3&&a&&Object.defineProperty(e,r,a),a}function x(t,e){return function(r,n){e(r,n,t)}}function l(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function i(t,e,r,n){function u(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function d(p){try{c(n.next(p))}catch(P){s(P)}}function S(p){try{c(n.throw(p))}catch(P){s(P)}}function c(p){p.done?a(p.value):u(p.value).then(d,S)}c((n=n.apply(t,e||[])).next())})}function A(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,u,a,s;return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(c){return function(p){return S([c,p])}}function S(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,u&&(a=c[0]&2?u.return:c[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,c[1])).done)return a;switch(u=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,u=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(p){c=[6,p],u=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var j=Object.create?function(t,e,r,n){n===void 0&&(n=r);var u=Object.getOwnPropertyDescriptor(e,r);(!u||("get"in u?!e.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,u)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function M(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&j(e,t,r)}function b(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),u,a=[],s;try{for(;(e===void 0||e-- >0)&&!(u=n.next()).done;)a.push(u.value)}catch(d){s={error:d}}finally{try{u&&!u.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function W(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(R(arguments[e]));return t}function L(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),u=0,e=0;e<r;e++)for(var a=arguments[e],s=0,d=a.length;s<d;s++,u++)n[u]=a[s];return n}function H(t,e,r){if(r||arguments.length===2)for(var n=0,u=e.length,a;n<u;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function G(t){return this instanceof G?(this.v=t,this):new G(t)}function Q(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),u,a=[];return u={},s("next"),s("throw"),s("return"),u[Symbol.asyncIterator]=function(){return this},u;function s(f){n[f]&&(u[f]=function(O){return new Promise(function(B,_){a.push([f,O,B,_])>1||d(f,O)})})}function d(f,O){try{S(n[f](O))}catch(B){P(a[0][3],B)}}function S(f){f.value instanceof G?Promise.resolve(f.value.v).then(c,p):P(a[0][2],f)}function c(f){d("next",f)}function p(f){d("throw",f)}function P(f,O){f(O),a.shift(),a.length&&d(a[0][0],a[0][1])}}function V(t){var e,r;return e={},n("next"),n("throw",function(u){throw u}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(u,a){e[u]=t[u]?function(s){return(r=!r)?{value:G(t[u](s)),done:u==="return"}:a?a(s):s}:a}}function K(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof b=="function"?b(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(d,S){s=t[a](s),u(d,S,s.done,s.value)})}}function u(a,s,d,S){Promise.resolve(S).then(function(c){a({value:c,done:d})},s)}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var m=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function q(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&j(e,t,r);return m(e,t),e}function tt(t){return t&&t.__esModule?t:{default:t}}function et(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function nt(t,e,r,n,u){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!u:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?u.call(t,r):u?u.value=r:e.set(t,r),r}function z(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}}}]);
