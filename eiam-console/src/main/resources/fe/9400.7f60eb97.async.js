/*
 * eiam-console - Employee Identity and Access Management Program
 * Copyright Â© 2020-2022 TopIAM (support@topiam.cn)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
"use strict";(self.webpackChunktopiam_console=self.webpackChunktopiam_console||[]).push([[9400],{86743:function(Te,_,l){var B=l(87462),s=l(97685),V=l(30470),o=l(67294),X=l(71577),z=l(5214);function J(K){return!!(K&&!!K.then)}var ee=function(O){var D=o.useRef(!1),L=o.useRef(null),Q=(0,V.Z)(!1),Y=(0,s.Z)(Q,2),U=Y[0],b=Y[1],j=O.close,w=function(){j==null||j.apply(void 0,arguments)};o.useEffect(function(){var R=null;return O.autoFocus&&(R=setTimeout(function(){var T;(T=L.current)===null||T===void 0||T.focus()})),function(){R&&clearTimeout(R)}},[]);var te=function(T){!J(T)||(b(!0),T.then(function(){b(!1,!0),w.apply(void 0,arguments),D.current=!1},function(S){console.error(S),b(!1,!0),D.current=!1}))},ne=function(T){var S=O.actionFn;if(!D.current){if(D.current=!0,!S){w();return}var A;if(O.emitEvent){if(A=S(T),O.quitOnNullishReturnValue&&!J(A)){D.current=!1,w(T);return}}else if(S.length)A=S(j),D.current=!1;else if(A=S(),!A){w();return}te(A)}},oe=O.type,re=O.children,q=O.prefixCls,ae=O.buttonProps;return o.createElement(X.Z,(0,B.Z)({},(0,z.n)(oe),{onClick:ne,loading:U,prefixCls:q},ae,{ref:L}),re)};_.Z=ee},69400:function(Te,_,l){l.d(_,{Z:function(){return $e}});var B=l(74902),s=l(87462),V=l(38135),o=l(67294),X=l(46986),z=l(4942),J=l(89739),ee=l(4340),K=l(21640),O=l(78860),D=l(94184),L=l.n(D),Q=l(77667),Y=l(86743),U=l(33603),b=l(97685),j=l(38425),w=l(53124),te=l(65223),ne=l(4173),oe=l(31808),re=l(97937),q=l(71577),ae=l(5214),R=l(83008),T=l(71194),S=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};function A(e,t){return o.createElement("span",{className:e+"-close-x"},t||o.createElement(re.Z,{className:e+"-close-icon"}))}function fe(e){var t=e.okText,a=e.okType,n=a===void 0?"primary":a,r=e.cancelText,d=e.confirmLoading,v=e.onOk,y=e.onCancel,u=e.okButtonProps,m=e.cancelButtonProps,f=e.footer;return f===void 0?o.createElement(Q.Z,{componentName:"Modal",defaultLocale:(0,R.A)()},function(c){return o.createElement(o.Fragment,null,o.createElement(q.Z,(0,s.Z)({onClick:y},m),r||c.cancelText),o.createElement(q.Z,(0,s.Z)({},(0,ae.n)(n),{loading:d,onClick:v},u),t||c.okText))}):f}function Oe(e){var t=e.prefixCls,a=e.className,n=e.closeIcon,r=e.closable,d=e.type,v=e.title,y=e.children,u=S(e,["prefixCls","className","closeIcon","closable","type","title","children"]),m=o.useContext(w.E_),f=m.getPrefixCls,c=f(),i=t||f("modal"),h=(0,T.Z)(i),C=(0,b.Z)(h,2),E=C[1],x=i+"-confirm",g={};return d?g={closable:r!=null?r:!1,title:"",footer:"",children:o.createElement(me,(0,s.Z)({},e,{confirmPrefixCls:x,rootPrefixCls:c,content:y}))}:g={closable:r!=null?r:!0,title:v,footer:fe(e),children:y},o.createElement(j.s,(0,s.Z)({prefixCls:i,className:L()(E,i+"-pure-panel",d&&x,d&&x+"-"+d,a)},u,{closeIcon:A(i,n),closable:r},g))}var be=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a},le,ke=function(t){le={x:t.pageX,y:t.pageY},setTimeout(function(){le=null},100)};(0,oe.jD)()&&document.documentElement.addEventListener("click",ke,!0);var Ne=function(t){var a,n,r=o.useContext(w.E_),d=r.getPopupContainer,v=r.getPrefixCls,y=r.direction,u=function(ue){var W=t.onCancel;W==null||W(ue)},m=function(ue){var W=t.onOk;W==null||W(ue)},f=t.prefixCls,c=t.className,i=t.open,h=t.wrapClassName,C=t.centered,E=t.getContainer,x=t.closeIcon,g=t.focusTriggerAfterClose,I=g===void 0?!0:g,P=t.visible,N=t.width,F=N===void 0?520:N,Z=be(t,["prefixCls","className","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","visible","width"]),M=v("modal",f),$=v(),ce=(0,T.Z)(M),p=(0,b.Z)(ce,2),ie=p[0],se=p[1],We=L()(h,(a={},(0,z.Z)(a,M+"-centered",!!C),(0,z.Z)(a,M+"-wrap-rtl",y==="rtl"),a));return ie(o.createElement(ne.BR,null,o.createElement(te.Ux,{status:!0,override:!0},o.createElement(j.Z,(0,s.Z)({width:F},Z,{getContainer:E===void 0?d:E,prefixCls:M,rootClassName:se,wrapClassName:We,footer:fe((0,s.Z)((0,s.Z)({},t),{onOk:m,onCancel:u})),visible:i!=null?i:P,mousePosition:(n=Z.mousePosition)!==null&&n!==void 0?n:le,onClose:u,closeIcon:A(M,x),focusTriggerAfterClose:I,transitionName:(0,U.mL)($,"zoom",t.transitionName),maskTransitionName:(0,U.mL)($,"fade",t.maskTransitionName),className:L()(se,c)})))))},de=Ne;function me(e){var t=e.icon,a=e.onCancel,n=e.onOk,r=e.close,d=e.okText,v=e.okButtonProps,y=e.cancelText,u=e.cancelButtonProps,m=e.confirmPrefixCls,f=e.rootPrefixCls,c=e.type,i=e.okCancel,h=e.locale,C=t;if(!t&&t!==null)switch(c){case"info":C=o.createElement(O.Z,null);break;case"success":C=o.createElement(J.Z,null);break;case"error":C=o.createElement(ee.Z,null);break;default:C=o.createElement(K.Z,null)}var E=e.okType||"primary",x=i!=null?i:c==="confirm",g=e.autoFocusButton===null?!1:e.autoFocusButton||"ok";return o.createElement(Q.Z,{componentName:"Modal"},function(I){var P=h||I,N=x&&o.createElement(Y.Z,{actionFn:a,close:r,autoFocus:g==="cancel",buttonProps:u,prefixCls:f+"-btn"},y||(P==null?void 0:P.cancelText));return o.createElement("div",{className:m+"-body-wrapper"},o.createElement("div",{className:m+"-body"},C,e.title===void 0?null:o.createElement("span",{className:m+"-title"},e.title),o.createElement("div",{className:m+"-content"},e.content)),o.createElement("div",{className:m+"-btns"},N,o.createElement(Y.Z,{type:E,actionFn:n,close:r,autoFocus:g==="ok",buttonProps:v,prefixCls:f+"-btn"},d||(x?P==null?void 0:P.okText:P==null?void 0:P.justOkText))))})}var Ie=function(t){var a=t.close,n=t.zIndex,r=t.afterClose,d=t.visible,v=t.open,y=t.keyboard,u=t.centered,m=t.getContainer,f=t.maskStyle,c=t.direction,i=t.prefixCls,h=t.wrapClassName,C=t.rootPrefixCls,E=t.iconPrefixCls,x=t.bodyStyle,g=t.closable,I=g===void 0?!1:g,P=t.closeIcon,N=t.modalRender,F=t.focusTriggerAfterClose,Z=i+"-confirm",M=t.width||416,$=t.style||{},ce=t.mask===void 0?!0:t.mask,p=t.maskClosable===void 0?!1:t.maskClosable,ie=L()(Z,Z+"-"+t.type,(0,z.Z)({},Z+"-rtl",c==="rtl"),t.className);return o.createElement(X.ZP,{prefixCls:C,iconPrefixCls:E,direction:c},o.createElement(de,{prefixCls:i,className:ie,wrapClassName:L()((0,z.Z)({},Z+"-centered",!!t.centered),h),onCancel:function(){return a==null?void 0:a({triggerCancel:!0})},open:v,title:"",footer:"",transitionName:(0,U.mL)(C,"zoom",t.transitionName),maskTransitionName:(0,U.mL)(C,"fade",t.maskTransitionName),mask:ce,maskClosable:p,maskStyle:f,style:$,bodyStyle:x,width:M,zIndex:n,afterClose:r,keyboard:y,centered:u,getContainer:m,closable:I,closeIcon:P,modalRender:N,focusTriggerAfterClose:F},o.createElement(me,(0,s.Z)({},t,{confirmPrefixCls:Z}))))},ve=Ie,Re=[],H=Re,Se=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a},Ce="";function Ae(){return Ce}function G(e){var t=document.createDocumentFragment(),a=(0,s.Z)((0,s.Z)({},e),{close:v,open:!0}),n;function r(){for(var u=arguments.length,m=new Array(u),f=0;f<u;f++)m[f]=arguments[f];var c=m.some(function(C){return C&&C.triggerCancel});e.onCancel&&c&&e.onCancel.apply(e,[function(){}].concat((0,B.Z)(m.slice(1))));for(var i=0;i<H.length;i++){var h=H[i];if(h===v){H.splice(i,1);break}}(0,V.v)(t)}function d(u){var m=u.okText,f=u.cancelText,c=u.prefixCls,i=Se(u,["okText","cancelText","prefixCls"]);clearTimeout(n),n=setTimeout(function(){var h=(0,R.A)(),C=(0,X.w6)(),E=C.getPrefixCls,x=C.getIconPrefixCls,g=E(void 0,Ae()),I=c||g+"-modal",P=x();(0,V.s)(o.createElement(ve,(0,s.Z)({},i,{prefixCls:I,rootPrefixCls:g,iconPrefixCls:P,okText:m,locale:h,cancelText:f||h.cancelText})),t)})}function v(){for(var u=this,m=arguments.length,f=new Array(m),c=0;c<m;c++)f[c]=arguments[c];a=(0,s.Z)((0,s.Z)({},a),{open:!1,afterClose:function(){typeof e.afterClose=="function"&&e.afterClose(),r.apply(u,f)}}),a.visible&&delete a.visible,d(a)}function y(u){typeof u=="function"?a=u(a):a=(0,s.Z)((0,s.Z)({},a),u),d(a)}return d(a),H.push(v),{destroy:v,update:y}}function xe(e){return(0,s.Z)((0,s.Z)({},e),{type:"warning"})}function ge(e){return(0,s.Z)((0,s.Z)({},e),{type:"info"})}function Pe(e){return(0,s.Z)((0,s.Z)({},e),{type:"success"})}function ye(e){return(0,s.Z)((0,s.Z)({},e),{type:"error"})}function Ee(e){return(0,s.Z)((0,s.Z)({},e),{type:"confirm"})}function Fe(e){var t=e.rootPrefixCls;Ce=t}function Me(){var e=o.useState([]),t=(0,b.Z)(e,2),a=t[0],n=t[1],r=o.useCallback(function(d){return n(function(v){return[].concat((0,B.Z)(v),[d])}),function(){n(function(v){return v.filter(function(y){return y!==d})})}},[]);return[a,r]}var Be=l(24457),De=function(t,a){var n=t.afterClose,r=t.config,d=o.useState(!0),v=(0,b.Z)(d,2),y=v[0],u=v[1],m=o.useState(r),f=(0,b.Z)(m,2),c=f[0],i=f[1],h=o.useContext(w.E_),C=h.direction,E=h.getPrefixCls,x=E("modal"),g=E(),I=function(){u(!1);for(var N=arguments.length,F=new Array(N),Z=0;Z<N;Z++)F[Z]=arguments[Z];var M=F.some(function($){return $&&$.triggerCancel});c.onCancel&&M&&c.onCancel.apply(c,[function(){}].concat((0,B.Z)(F.slice(1))))};return o.useImperativeHandle(a,function(){return{destroy:I,update:function(N){i(function(F){return(0,s.Z)((0,s.Z)({},F),N)})}}}),o.createElement(Q.Z,{componentName:"Modal",defaultLocale:Be.Z.Modal},function(P){return o.createElement(ve,(0,s.Z)({prefixCls:x,rootPrefixCls:g},c,{close:I,open:y,afterClose:n,okText:c.okText||(c.okCancel?P.okText:P.justOkText),direction:C,cancelText:c.cancelText||P.cancelText}))})},Le=o.forwardRef(De),he=0,we=o.memo(o.forwardRef(function(e,t){var a=Me(),n=(0,b.Z)(a,2),r=n[0],d=n[1];return o.useImperativeHandle(t,function(){return{patchElement:d}},[]),o.createElement(o.Fragment,null,r)}));function je(){var e=o.useRef(null),t=o.useState([]),a=(0,b.Z)(t,2),n=a[0],r=a[1];o.useEffect(function(){if(n.length){var y=(0,B.Z)(n);y.forEach(function(u){u()}),r([])}},[n]);var d=o.useCallback(function(y){return function(m){var f;he+=1;var c=o.createRef(),i,h=o.createElement(Le,{key:"modal-"+he,config:y(m),ref:c,afterClose:function(){i==null||i()}});return i=(f=e.current)===null||f===void 0?void 0:f.patchElement(h),{destroy:function(){function E(){var x;(x=c.current)===null||x===void 0||x.destroy()}c.current?E():r(function(x){return[].concat((0,B.Z)(x),[E])})},update:function(E){function x(){var g;(g=c.current)===null||g===void 0||g.update(E)}c.current?x():r(function(g){return[].concat((0,B.Z)(g),[x])})}}}},[]),v=o.useMemo(function(){return{info:d(ge),success:d(Pe),error:d(ye),warning:d(xe),confirm:d(Ee)}},[]);return[v,o.createElement(we,{ref:e})]}function Ze(e){return G(xe(e))}var k=de;k.useModal=je,k.info=function(t){return G(ge(t))},k.success=function(t){return G(Pe(t))},k.error=function(t){return G(ye(t))},k.warning=Ze,k.warn=Ze,k.confirm=function(t){return G(Ee(t))},k.destroyAll=function(){for(;H.length;){var t=H.pop();t&&t()}},k.config=Fe,k._InternalPanelDoNotUseOrYouWillBeFired=Oe;var $e=k}}]);
