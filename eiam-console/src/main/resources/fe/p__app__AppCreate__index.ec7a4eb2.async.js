/*
 * eiam-console - Employee Identity and Access Management Program
 * Copyright Â© 2020-2022 TopIAM (support@topiam.cn)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
"use strict";(self.webpackChunktopiam_console=self.webpackChunktopiam_console||[]).push([[976],{5966:function(j,D,n){var F=n(1413),p=n(91),A=n(85893),m=n(7772),y=["fieldProps","proFieldProps"],l=["fieldProps","proFieldProps"],r="text",e=function(o){var c=o.fieldProps,g=o.proFieldProps,a=(0,p.Z)(o,y);return(0,A.jsx)(m.Z,(0,F.Z)({valueType:r,fieldProps:c,filedConfig:{valueType:r},proFieldProps:g},a))},u=function(o){var c=o.fieldProps,g=o.proFieldProps,a=(0,p.Z)(o,l);return(0,A.jsx)(m.Z,(0,F.Z)({valueType:"password",fieldProps:c,proFieldProps:g,filedConfig:{valueType:r}},a))},s=e;s.Password=u,s.displayName="ProFormComponent",D.Z=s},90672:function(j,D,n){var F=n(1413),p=n(91),A=n(85893),m=n(67294),y=n(7772),l=["fieldProps","proFieldProps"],r=function(u,s){var t=u.fieldProps,o=u.proFieldProps,c=(0,p.Z)(u,l);return(0,A.jsx)(y.Z,(0,F.Z)({ref:s,valueType:"textarea",fieldProps:t,proFieldProps:o},c))};D.Z=m.forwardRef(r)},11911:function(j,D,n){n.d(D,{Gh:function(){return l},SC:function(){return r},Zw:function(){return p},b$:function(){return y},n6:function(){return A},pR:function(){return m},rD:function(){return F}});var F;(function(e){e.EX900005="EX900005",e.EX000102="EX000102",e.EX000202="EX000202",e.SUCCESS="200"})(F||(F={}));var p;(function(e){e.ALIYUN="aliyun",e.QI_NIU="qiniu",e.TENCENT="tencent",e.NET_EASE="netease",e.MAXMIND="maxmind"})(p||(p={}));var A;(function(e){e.ALIYUN="aliyun",e.TENCENT="tencent",e.GEE_TEST="geetest",e.HCAPTCHA="hcaptcha",e.RECAPTCHA="recaptcha"})(A||(A={}));var m;(function(e){e.STANDARD="standard",e.CUSTOM_MADE="custom_made"})(m||(m={}));var y;(function(e){e.SAML2="saml2",e.OIDC="oidc",e.CAS="cas",e.JWT="jwt",e.FORM="form",e.OAUTH2="oauth2"})(y||(y={}));var l;(function(e){e.ALLOW="ALLOW",e.DENY="DENY"})(l||(l={}));var r;(function(e){e.ROLE="ROLE",e.RESOURCE="RESOURCE",e.USER="USER",e.ORGANIZATION="ORGANIZATION",e.USER_GROUP="USER_GROUP"})(r||(r={}))},7859:function(j,D,n){n.r(D),n.d(D,{default:function(){return ae}});var F=n(97983),p=n.n(F),A=n(40794),m=n.n(A),y=n(12741),l=n.n(y),r=n(11911),e=n(56162),u=n(84865),s=n(37476),t=n(5966),o=n(90672),c=n(96495),g=n(14459),a=n(2093),C=n(69400),U=n(57953),w=n(98293),z=n(88942),I=n(67294),Y=n(12812),i=n.n(Y),H=n(46986),J=n(38755),Q=H.ZP.ConfigContext;function V(P){var T=(0,I.useContext)(Q),B=T.getPrefixCls,x=".".concat(B()),M=".".concat(P),N=(0,J.l)(function(b){var E,d,f=b.token;return d={},i()(d,"".concat(M),(E={},i()(E,"".concat(x,"-avatar > img"),{objectFit:"fill"}),i()(E,"".concat(x,"-card-head"),{borderBottom:"none"}),i()(E,"".concat(x,"-card-head-title"),{padding:"24px 0",lineHeight:"32px"}),i()(E,"".concat(x,"-card-extra"),{padding:"24px 0"}),i()(E,"".concat(x,"-list-pagination"),{marginTop:"24px"}),i()(E,"".concat(x,"-avatar-lg"),{width:"48px",height:"48px",lineHeight:"48px"}),i()(E,"".concat(x,"-list-item-action"),{marginInlineStart:"15px"}),i()(E,".ant-pro-list .ant-pro-list-row",{paddingLeft:"10px",paddingRight:"10px"}),E)),i()(d,"@media  (max-width: ".concat(f.screenXS,"px)"),i()({},"".concat(P,"-list"),{})),i()(d,"@media  (max-width: ".concat(f.screenSM,"px)"),i()({},"".concat(P,"-list"),{})),i()(d,"@media  (max-width: ".concat(f.screenMD,"px)"),i()({},"".concat(P,"-list"),{})),i()(d,"@media  (max-width: ".concat(f.screenLG,"px) and @media (min-width: ").concat(f.screenMD,"px)"),i()({},"".concat(P,"-list"),{})),i()(d,"@media  (max-width: ".concat(f.screenXL,"px)"),i()({},"".concat(P,"-list"),{})),i()(d,"@media  (max-width: 1400px)",i()({},"".concat(P,"-list"),{})),d});return{className:N}}var K=n(67038),k=n(98971),q=n(94184),_=n.n(q),v=n(85893),ee=function(T){return T===r.pR.STANDARD?"\u6807\u51C6\u534F\u8BAE":T===r.pR.CUSTOM_MADE?"\u5B9A\u5236\u6A21\u677F":"\u5168\u90E8"},ne=function(T){var B=T.name,x=T.code,M=(0,z.Z)(),N=l()(M,1),b=N[0],E=(0,I.useState)(!1),d=l()(E,2),f=d[0],h=d[1];return(0,v.jsx)(s.Y,{title:"\u6DFB\u52A0\u5E94\u7528",trigger:(0,v.jsx)("a",{children:"\u6DFB\u52A0\u5E94\u7528"},"add"),width:500,form:b,scrollToFirstError:!0,initialValues:{template:x},autoFocusFirstInput:!0,layout:"horizontal",labelAlign:"left",labelCol:{span:4},wrapperCol:{span:20},requiredMark:!0,preserve:!1,modalProps:{onCancel:function(){b.resetFields()}},onFinish:function(){var L=m()(p()().mark(function Z(S){var W,R,G,$;return p()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return h(!0),O.next=3,(0,e.ri)(S).finally(function(){h(!1)});case 3:if(W=O.sent,R=W.success,G=W.result,!(R&&G)){O.next=9;break}return $=C.Z.success({title:"\u6DFB\u52A0\u6210\u529F",content:"\u8BF7\u8FDB\u5165\u5E94\u7528\u7BA1\u7406\u9875\u9762\u5B8C\u5584\u914D\u7F6E\u5E76\u67E5\u770B\u4FE1\u606F",okText:"\u5B8C\u5584\u914D\u7F6E",onOk:function(){$.destroy(),u.m.push("/app/config?id=".concat(G.id,"&name=").concat(S.name))}}),O.abrupt("return",!0);case 9:return O.abrupt("return",!1);case 10:case"end":return O.stop()}},Z)}));return function(Z){return L.apply(this,arguments)}}(),children:(0,v.jsxs)(U.Z,{spinning:f,children:[(0,v.jsx)(t.Z,{name:"template",hidden:!0}),(0,v.jsx)(t.Z,{initialValue:"".concat(B),name:"name",preserve:!1,label:"\u5E94\u7528\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D\u79F0",rules:[{required:!0,message:"\u5E94\u7528\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"}]}),(0,v.jsx)(o.Z,{name:"remark",preserve:!1,fieldProps:{rows:2,maxLength:20,showCount:!1},placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",label:"\u5907\u6CE8"})]})})},X="app-create",te=function(){var P=(0,I.useState)(r.pR.STANDARD),T=l()(P,2),B=T[0],x=T[1],M=(0,k.useLocation)(),N=(0,I.useRef)(),b=V(X),E=b.className;return(0,a.Z)(m()(p()().mark(function d(){var f,h,L,Z,S;return p()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(L=(0,K.parse)(M.search),Z=L,S=Z.tab,!(!S||!(S.toUpperCase()in r.pR))){R.next=6;break}return x(r.pR.STANDARD),u.m.replace({pathname:M.pathname,search:(0,K.stringify)({tab:r.pR.STANDARD})}),R.abrupt("return");case 6:(f=N.current)===null||f===void 0||(h=f.reset)===null||h===void 0||h.call(f),x(S);case 8:case"end":return R.stop()}},d)})),[B]),(0,v.jsx)("div",{className:E,children:(0,v.jsx)(g._z,{onBack:function(){u.m.push("/app")},className:_()("".concat(X)),content:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{children:"\u672C\u9875\u9762\u5305\u542B\u4E86\u6240\u6709\u5DF2\u652F\u6301\u7684\u53EF\u6DFB\u52A0\u5E94\u7528\u5217\u8868\uFF0C\u7BA1\u7406\u5458\u53EF\u4EE5\u9009\u62E9\u9700\u8981\u4F7F\u7528\u7684\u5E94\u7528\u8FDB\u884C\u521D\u59CB\u5316\u914D\u7F6E\uFF0C\u5E76\u5F00\u59CB\u540E\u7EED\u4F7F\u7528\u3002"}),(0,v.jsx)("span",{children:"\u5E94\u7528\u5206\u4E3A\u4E24\u79CD\uFF1A\u4E00\u79CD\u662F\u652F\u6301\u6807\u51C6\u7684 OIDC\u3001SAML\u3001JWT\u3001CAS \u7B49\u6A21\u677F\u7684\u5E94\u7528\uFF0C\u5728\u8FD9\u91CC\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u5BF9\u5E94\u7684\u6807\u51C6\u5E94\u7528\u6A21\u677F\u6765\u5B9E\u73B0\u5355\u70B9\u767B\u5F55\u529F\u80FD\uFF1B\u53E6\u4E00\u79CD\u662F\u5B9A\u5236\u5E94\u7528\uFF0C\u672C\u7C7B\u5E94\u7528\u5DF2\u7ECF\u63D0\u4F9B\u4E86\u5BF9\u63A5\u5176\u5355\u70B9\u767B\u5F55\u6216\u7528\u6237\u540C\u6B65\u7684\u63A5\u53E3\uFF0C\u7531 TopIAM \u4E3A\u5176\u63D0\u4F9B\u5B9A\u5236\u5316\u6A21\u677F\u8FDB\u884C\u5BF9\u63A5\u3002"})]}),tabActiveKey:B,onTabChange:function(f){x(f),u.m.replace({pathname:M.pathname,search:(0,K.stringify)({tab:f})})},tabProps:{size:"small"},tabList:[{tab:"\u6807\u51C6\u534F\u8BAE",key:r.pR.STANDARD},{tab:"\u5B9A\u5236\u6A21\u677F",key:r.pR.CUSTOM_MADE}],children:(0,v.jsx)(c.Rs,{split:!0,rowKey:"code",showActions:"always",headerTitle:ee(B),search:{},actionRef:N,request:e.LB,pagination:{defaultPageSize:5,size:"small"},params:{type:B},metas:{title:{dataIndex:"name",title:"\u6A21\u7248\u540D\u79F0"},avatar:{search:!1,render:function(f,h){return(0,v.jsx)(w.C,{shape:"square",size:45,src:h.icon},h.code)}},description:{search:!1,dataIndex:"desc"},actions:{render:function(f,h){return[(0,v.jsx)(ne,{code:h.code,name:B===r.pR.STANDARD?"".concat(h.name," \u5E94\u7528"):h.name},h.code)]}}}})})})},ae=te},2093:function(j,D,n){var F=n(67294),p=n(92770),A=function(l,r,e,u){function s(t){return t instanceof e?t:new e(function(o){o(t)})}return new(e||(e=Promise))(function(t,o){function c(C){try{a(u.next(C))}catch(U){o(U)}}function g(C){try{a(u.throw(C))}catch(U){o(U)}}function a(C){C.done?t(C.value):s(C.value).then(c,g)}a((u=u.apply(l,r||[])).next())})},m=function(l,r){var e={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},u,s,t,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(a){return function(C){return g([a,C])}}function g(a){if(u)throw new TypeError("Generator is already executing.");for(;e;)try{if(u=1,s&&(t=a[0]&2?s.return:a[0]?s.throw||((t=s.return)&&t.call(s),0):s.next)&&!(t=t.call(s,a[1])).done)return t;switch(s=0,t&&(a=[a[0]&2,t.value]),a[0]){case 0:case 1:t=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,s=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(t=e.trys,!(t=t.length>0&&t[t.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!t||a[1]>t[0]&&a[1]<t[3])){e.label=a[1];break}if(a[0]===6&&e.label<t[1]){e.label=t[1],t=a;break}if(t&&e.label<t[2]){e.label=t[2],e.ops.push(a);break}t[2]&&e.ops.pop(),e.trys.pop();continue}a=r.call(l,e)}catch(C){a=[6,C],s=0}finally{u=t=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};function y(l,r){function e(u){return(0,p.mf)(u[Symbol.asyncIterator])}(0,F.useEffect)(function(){var u=l(),s=!1;function t(){return A(this,void 0,void 0,function(){var o;return m(this,function(c){switch(c.label){case 0:if(!e(u))return[3,4];c.label=1;case 1:return[4,u.next()];case 2:return o=c.sent(),o.done||s?[3,3]:[3,1];case 3:return[3,6];case 4:return[4,u];case 5:c.sent(),c.label=6;case 6:return[2]}})})}return t(),function(){s=!0}},r)}D.Z=y},92770:function(j,D,n){n.d(D,{mf:function(){return p}});var F=function(e){return e!==null&&typeof e=="object"},p=function(e){return typeof e=="function"},A=function(e){return typeof e=="string"},m=function(e){return typeof e=="boolean"},y=function(e){return typeof e=="number"},l=function(e){return typeof e=="undefined"}}}]);
