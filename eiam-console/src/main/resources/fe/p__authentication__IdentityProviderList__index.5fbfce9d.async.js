/*
 * eiam-console - Employee Identity and Access Management Program
 * Copyright Â© 2020-2023 TopIAM (support@topiam.cn)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
"use strict";(self.webpackChunktopiam_console=self.webpackChunktopiam_console||[]).push([[6462],{49456:function(hu,ae,t){t.r(ae),t.d(ae,{default:function(){return fu}});var Ee=t(11281),$=t.n(Ee),ge=t(97983),l=t.n(ge),Ae=t(40794),x=t.n(Ae),xe=t(12741),L=t.n(xe),ye=t(60918),re=t(25191),O=t(98971);function Be(a,r,n){return z.apply(this,arguments)}function z(){return z=x()(l()().mark(function a(r,n,u){return l()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",(0,O.request)("/api/authentication/idp/list",{params:$()($()($()({},r),(0,re.YE)(n)),(0,re.oH)(u))}).then(function(c){var s,E,h,g,Z={data:c!=null&&(s=c.result)!==null&&s!==void 0&&s.list?c==null||(E=c.result)===null||E===void 0?void 0:E.list:[],success:c==null?void 0:c.success,total:c!=null&&(h=c.result)!==null&&h!==void 0&&h.pagination?c==null||(g=c.result)===null||g===void 0?void 0:g.pagination.total:0};return Promise.resolve(Z)}));case 1:case"end":return B.stop()}},a)})),z.apply(this,arguments)}function te(a){return Q.apply(this,arguments)}function Q(){return Q=x()(l()().mark(function a(r){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,O.request)("/api/authentication/idp/get/".concat(r)));case 1:case"end":return u.stop()}},a)})),Q.apply(this,arguments)}function je(a){return Y.apply(this,arguments)}function Y(){return Y=x()(l()().mark(function a(r){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,O.request)("/api/authentication/idp/update",{data:r,method:"PUT",requestType:"json"}));case 1:case"end":return u.stop()}},a)})),Y.apply(this,arguments)}function Se(a){return G.apply(this,arguments)}function G(){return G=x()(l()().mark(function a(r){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,O.request)("/api/authentication/idp/create",{data:r,method:"POST",requestType:"json"}));case 1:case"end":return u.stop()}},a)})),G.apply(this,arguments)}function De(a){return X.apply(this,arguments)}function X(){return X=x()(l()().mark(function a(r){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,O.request)("/api/authentication/idp/enable/".concat(r),{method:"PUT"}));case 1:case"end":return u.stop()}},a)})),X.apply(this,arguments)}function be(a){return J.apply(this,arguments)}function J(){return J=x()(l()().mark(function a(r){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,O.request)("/api/authentication/idp/disable/".concat(r),{method:"PUT"}));case 1:case"end":return u.stop()}},a)})),J.apply(this,arguments)}function we(a){return q.apply(this,arguments)}function q(){return q=x()(l()().mark(function a(r){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,O.request)("/api/authentication/idp/delete/".concat(r),{method:"DELETE"}));case 1:case"end":return u.stop()}},a)})),q.apply(this,arguments)}var ne=t(84865),Pe=t(24969),_=t(25035),Ze=t(96495),Ie=t(14459),ke=t(78234),se=t(17057),$e=t(69400),K=t(2453),ie=t(51904),Te=t(71577),Le=t(98293),ee=t(86738),R=t(67294),le=t(37476),v=t(5966),oe=t(64317),ce=t(97462),de=t(90672),pe=t(2093),fe=t(57953),he=t(88942),y;(function(a){a.social="social",a.enterprise="enterprise"})(y||(y={}));var F;(function(a){a.wechatwork_scan_code="wechatwork_scan_code",a.dingtalk_scan_code="dingtalk_scan_code",a.feishu_scan_code="feishu_scan_code",a.dingtalk_oauth="dingtalk_oauth",a.feishu_oauth="feishu_oauth",a.ldap="ldap",a.qq="qq_oauth",a.wechat_scan_code="wechat_scan_code"})(F||(F={}));var Re=[F.wechatwork_scan_code,F.dingtalk_scan_code,F.dingtalk_oauth,F.wechat_scan_code,F.qq,F.feishu_oauth,F.feishu_scan_code],Fe={labelCol:{span:4},wrapperCol:{span:19}},Oe=t(52688),e=t(85893),Ue=se.Z.Paragraph,W=function(){return(0,e.jsx)(v.Z,{label:"\u56DE\u8C03\u5730\u5740",name:"redirectUri",proFieldProps:{render:function(r){return r&&(0,e.jsx)(Ue,{copyable:{text:r},style:{marginBottom:"0"},children:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:"<span>".concat(r,"</span>")}})})}},readonly:!0,fieldProps:{autoComplete:"off"}})},Ne=function(r){var n=r.isCreate;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{name:["config","appKey"],label:"AppId",rules:[{required:!0}],extra:"\u5728\u9489\u9489\u5F00\u653E\u5E73\u53F0\uFF0C\u5E94\u7528\u5F00\u53D1 -> \u4F01\u4E1A\u5185\u90E8\u5F00\u53D1\uFF0C\u6DFB\u52A0\u5C0F\u7A0B\u5E8F\u6216H5\u5FAE\u5E94\u7528\u540E\u83B7\u53D6",fieldProps:{autoComplete:"off"},placeholder:"\u8BF7\u586B\u5199AppId"}),(0,e.jsx)(v.Z.Password,{rules:[{required:!0}],name:["config","appSecret"],label:"AppSecret",extra:"\u5728\u9489\u9489\u5F00\u653E\u5E73\u53F0\uFF0C\u5E94\u7528\u5F00\u53D1 -> \u4F01\u4E1A\u5185\u90E8\u5F00\u53D1\uFF0C\u6DFB\u52A0\u5C0F\u7A0B\u5E8F\u6216H5\u5FAE\u5E94\u7528\u540E\u83B7\u53D6",placeholder:"\u8BF7\u586B\u5199AppSecret",fieldProps:{autoComplete:"off"}}),!n&&(0,e.jsx)(W,{})]})},We=Ne,Ke=function(r){var n=r.isCreate;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{name:["config","appKey"],label:"AppId",rules:[{required:!0}],extra:"\u5728\u9489\u9489\u5F00\u653E\u5E73\u53F0\uFF0C\u5E94\u7528\u5F00\u53D1 -> \u4F01\u4E1A\u5185\u90E8\u5F00\u53D1\uFF0C\u6DFB\u52A0\u5C0F\u7A0B\u5E8F\u6216H5\u5FAE\u5E94\u7528\u540E\u83B7\u53D6",fieldProps:{autoComplete:"off"},placeholder:"\u8BF7\u586B\u5199AppId"}),(0,e.jsx)(v.Z.Password,{rules:[{required:!0}],name:["config","appSecret"],label:"AppSecret",extra:"\u5728\u9489\u9489\u5F00\u653E\u5E73\u53F0\uFF0C\u5E94\u7528\u5F00\u53D1 -> \u4F01\u4E1A\u5185\u90E8\u5F00\u53D1\uFF0C\u6DFB\u52A0\u5C0F\u7A0B\u5E8F\u6216H5\u5FAE\u5E94\u7528\u540E\u83B7\u53D6",placeholder:"\u8BF7\u586B\u5199AppSecret",fieldProps:{autoComplete:"off"}}),!n&&(0,e.jsx)(W,{})]})},Ve=Ke,He=function(r){var n=r.isCreate;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{name:["config","appId"],label:"AppId",rules:[{required:!0}],extra:"\u5728\u98DE\u4E66\u5F00\u653E\u5E73\u53F0\uFF0C\u5F00\u53D1\u8005\u540E\u53F0 -> \u4F01\u4E1A\u81EA\u5EFA\u5E94\u7528\uFF0C\u521B\u5EFA\u4F01\u4E1A\u81EA\u5EFA\u5E94\u7528",fieldProps:{autoComplete:"off"},placeholder:"\u8BF7\u586B\u5199AppId"}),(0,e.jsx)(v.Z.Password,{rules:[{required:!0}],name:["config","appSecret"],label:"AppSecret",extra:"\u5728\u98DE\u4E66\u5F00\u653E\u5E73\u53F0\uFF0C\u5F00\u53D1\u8005\u540E\u53F0 -> \u4F01\u4E1A\u81EA\u5EFA\u5E94\u7528\uFF0C\u521B\u5EFA\u4F01\u4E1A\u81EA\u5EFA\u5E94\u7528",placeholder:"\u8BF7\u586B\u5199AppSecret",fieldProps:{autoComplete:"off"}}),!n&&(0,e.jsx)(W,{})]})},Me=He,ze=function(r){var n=r.isCreate;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{name:["config","appId"],label:"AppId",rules:[{required:!0}],fieldProps:{autoComplete:"off"},placeholder:"\u8BF7\u586B\u5199appId"}),(0,e.jsx)(v.Z.Password,{rules:[{required:!0}],name:["config","appKey"],label:"AppSecret",placeholder:"\u8BF7\u586B\u5199appKey",fieldProps:{autoComplete:"off"}}),!n&&(0,e.jsx)(W,{})]})},Qe=ze,Ye=function(r){var n=r.isCreate;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{name:["config","appId"],label:"AppId",rules:[{required:!0}],extra:"\u5FAE\u4FE1\u626B\u7801\u767B\u5F55\u5F00\u53D1\u7533\u8BF7\u83B7\u53D6\u7684AppId",placeholder:"\u8BF7\u586B\u5199\u83B7\u53D6\u7684AppId",fieldProps:{autoComplete:"off"}}),(0,e.jsx)(v.Z.Password,{name:["config","appSecret"],label:"AppSecret",rules:[{required:!0}],extra:"\u5FAE\u4FE1\u626B\u7801\u767B\u5F55\u5F00\u53D1\u7533\u8BF7\u83B7\u53D6\u7684AppSecret",placeholder:"\u8BF7\u8F93\u5165\u83B7\u53D6\u7684AppSecret",fieldProps:{autoComplete:"new-password"}}),!n&&(0,e.jsx)(W,{})]})},Ge=Ye,ve=t(69677),Xe=function(r){var n=r.isCreate;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{name:["config","corpId"],label:"\u4F01\u4E1AID",rules:[{required:!0}],extra:"\u4F01\u4E1A\u5FAE\u4FE1\u7BA1\u7406\u540E\u53F0->\u6211\u7684\u4F01\u4E1A->\u4F01\u4E1A\u4FE1\u606F->\u4F01\u4E1AID",children:(0,e.jsx)(ve.Z,{autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165\u83B7\u53D6\u7684CorpID"})}),(0,e.jsx)(v.Z,{name:["config","agentId"],label:"AgentId",rules:[{required:!0}],extra:"\u4F01\u4E1A\u5FAE\u4FE1\u7BA1\u7406\u540E\u53F0->\u5E94\u7528\u7BA1\u7406->\u81EA\u5EFA\u5E94\u7528->\u9009\u62E9\u5E94\u7528->AgentId",children:(0,e.jsx)(ve.Z,{autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165AgentId"})}),(0,e.jsx)(v.Z.Password,{name:["config","appSecret"],label:"Secret",rules:[{required:!0}],extra:"\u4F01\u4E1A\u5FAE\u4FE1\u7BA1\u7406\u540E\u53F0->\u5E94\u7528\u7BA1\u7406->\u81EA\u5EFA\u5E94\u7528->\u9009\u62E9\u5E94\u7528->Secret",fieldProps:{autoComplete:"new-password"},placeholder:"\u8BF7\u8F93\u5165\u83B7\u53D6\u7684Secret"}),!n&&(0,e.jsx)(W,{})]})},Je=Xe,qe=function(r){var n=r.type,u=r.isCreate,p=u===void 0?!1:u;return(0,e.jsxs)(e.Fragment,{children:[n===F.wechat_scan_code&&(0,e.jsx)(Ge,{isCreate:p}),n===F.wechatwork_scan_code&&(0,e.jsx)(Je,{isCreate:p}),n===F.dingtalk_scan_code&&(0,e.jsx)(Ve,{isCreate:p}),n===F.dingtalk_oauth&&(0,e.jsx)(We,{isCreate:p}),n===F.qq&&(0,e.jsx)(Qe,{isCreate:p}),n===F.feishu_scan_code&&(0,e.jsx)(Me,{isCreate:p}),(0,e.jsx)(Oe.Z,{name:["displayed"],extra:"\u5728\u767B\u5F55\u9875\u5C55\u793A\u8BA4\u8BC1\u6E90\u56FE\u6807 ",label:"\u662F\u5426\u663E\u793A"})]})},me=qe,_e=function(a){var r=a.visible,n=a.category,u=a.onCancel,p=a.onFinish,B=(0,he.Z)(),c=L()(B,1),s=c[0],E=(0,R.useState)(!1),h=L()(E,2),g=h[0],Z=h[1];return(0,pe.Z)(x()(l()().mark(function I(){return l()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:r&&(n===y.enterprise&&(s==null||s.setFieldsValue({displayed:!0,type:F.dingtalk_scan_code})),n===y.social&&(s==null||s.setFieldsValue({displayed:!0,type:F.wechat_scan_code})));case 1:case"end":return k.stop()}},I)})),[r,n]),(0,e.jsx)(le.Y,$()($()({title:"\u521B\u5EFA\u8BA4\u8BC1\u6E90",width:600,modalProps:{forceRender:!0,onCancel:function(){u(),s==null||s.resetFields()},destroyOnClose:!0},open:r,form:s,scrollToFirstError:!0,layout:"horizontal"},Fe),{},{onFinish:function(){var I=x()(l()().mark(function j(k){var T;return l()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return Z(!0),S.next=3,p(k);case 3:return T=S.sent,Z(!1),S.abrupt("return",!!T);case 6:case"end":return S.stop()}},j)}));return function(j){return I.apply(this,arguments)}}(),children:(0,e.jsxs)(fe.Z,{spinning:g,children:[n===y.social&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{hidden:!0,name:"category",initialValue:y.social}),(0,e.jsx)(oe.Z,{label:"\u8BA4\u8BC1\u63D0\u4F9B\u5546",name:"type",placeholder:"\u8BF7\u9009\u62E9\u8BA4\u8BC1\u63D0\u4F9B\u5546",rules:[{message:"\u8BF7\u9009\u62E9\u8BA4\u8BC1\u63D0\u4F9B\u5546",required:!0}],options:[{value:F.wechat_scan_code,label:"\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\u626B\u7801\u8BA4\u8BC1"},{value:F.qq,label:"QQ\u8BA4\u8BC1"}]})]}),n===y.enterprise&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{hidden:!0,name:"category",initialValue:y.enterprise}),(0,e.jsx)(oe.Z,{label:"\u8BA4\u8BC1\u63D0\u4F9B\u5546",name:"type",placeholder:"\u8BF7\u9009\u62E9\u8BA4\u8BC1\u63D0\u4F9B\u5546",rules:[{message:"\u8BF7\u9009\u62E9\u8BA4\u8BC1\u63D0\u4F9B\u5546",required:!0}],options:[{value:F.dingtalk_oauth,label:"\u9489\u9489\u8BA4\u8BC1"},{value:F.dingtalk_scan_code,label:"\u9489\u9489\u626B\u7801\u8BA4\u8BC1"},{value:F.feishu_scan_code,label:"\u98DE\u4E66\u626B\u7801\u8BA4\u8BC1"},{value:F.wechatwork_scan_code,label:"\u4F01\u4E1A\u5FAE\u4FE1\u626B\u7801\u8BA4\u8BC1"}]})]}),(0,e.jsx)(v.Z,{label:"\u8BA4\u8BC1\u6E90\u540D\u79F0",name:"name",placeholder:"\u8BF7\u8F93\u5165\u8BA4\u8BC1\u6E90\u540D\u79F0",rules:[{message:"\u8BA4\u8BC1\u6E90\u540D\u79F0\u4E3A\u5FC5\u586B\u9879",required:!0}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(ce.Z,{name:["type"],children:function(j){var k=j.type;return(0,e.jsx)(me,{type:k,isCreate:!0})}}),(0,e.jsx)(de.Z,{name:"remark",fieldProps:{rows:2,maxLength:20,showCount:!1},placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",label:"\u5907\u6CE8"})]})}))},eu=_e,uu=t(21687),au=function(a){var r=a.visible,n=a.id,u=a.onCancel,p=a.onFinish,B=(0,he.Z)(),c=L()(B,1),s=c[0],E=(0,R.useState)(!1),h=L()(E,2),g=h[0],Z=h[1],I=(0,R.useState)(!1),j=L()(I,2),k=j[0],T=j[1];return(0,pe.Z)(x()(l()().mark(function U(){var S,N,m;return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!r){i.next=8;break}return Z(!0),i.next=4,te(n);case 4:S=i.sent,N=S.success,m=S.result,N&&m&&(s==null||s.setFieldsValue($()({},m)),Z(!1));case 8:case"end":return i.stop()}},U)})),[r,n]),(0,e.jsx)(le.Y,$()($()({title:"\u4FEE\u6539\u8BA4\u8BC1\u6E90",width:600,layout:"horizontal"},Fe),{},{modalProps:{forceRender:!0,onCancel:function(){u(),s==null||s.resetFields()},destroyOnClose:!0},form:s,scrollToFirstError:!0,onFinish:function(){var U=x()(l()().mark(function S(N){var m;return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return T(!0),i.next=3,p(N);case 3:return m=i.sent,T(!1),i.abrupt("return",!!m);case 6:case"end":return i.stop()}},S)}));return function(S){return U.apply(this,arguments)}}(),open:r,children:(0,e.jsx)(uu.Z,{loading:g,active:!0,children:(0,e.jsxs)(fe.Z,{spinning:k,children:[(0,e.jsx)(v.Z,{name:"id",hidden:!0}),(0,e.jsx)(v.Z,{name:"type",hidden:!0}),(0,e.jsx)(v.Z,{label:"\u8BA4\u8BC1\u6E90\u540D\u79F0",name:"name",placeholder:"\u8BF7\u8F93\u5165\u8BA4\u8BC1\u6E90\u540D\u79F0",rules:[{message:"\u8BA4\u8BC1\u6E90\u540D\u79F0\u4E3A\u5FC5\u586B\u9879",required:!0}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(ce.Z,{name:["type"],children:function(S){var N=S.type;return(0,e.jsx)(me,{type:N,isCreate:!1})}}),(0,e.jsx)(de.Z,{name:"remark",fieldProps:{rows:2,maxLength:20,showCount:!1},placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",label:"\u5907\u6CE8"})]})})}))},ru=au,tu=t(12812),o=t.n(tu),nu=t(46986),su=t(38755),iu=nu.ZP.ConfigContext;function lu(a){var r=(0,R.useContext)(iu),n=r.getPrefixCls,u=".".concat(n()),p=".".concat(a),B=(0,su.l)(function(c){var s,E,h,g=c.token;return h={},o()(h,"".concat(p),(s={},o()(s,"&-content",{marginInlineStart:"15px","& > div":{marginInlineStart:"0"}}),o()(s,"&-item-content",{display:"block",flex:"none",width:"100%"}),o()(s,"".concat(u,"-avatar > img"),{objectFit:"fill"}),o()(s,"".concat(u,"-card-head"),{borderBottom:"none"}),o()(s,"".concat(u,"-card-head-title"),{padding:"24px 0",lineHeight:"32px"}),o()(s,"".concat(u,"-card-extra"),{padding:"24px 0"}),o()(s,"".concat(u,"-list-pagination"),{marginTop:"24px"}),o()(s,"".concat(u,"-avatar-lg"),{width:"48px",height:"48px",lineHeight:"48px"}),o()(s,"".concat(u,"-list-item-action"),{marginInlineStart:"15px"}),o()(s,".ant-pro-list .ant-pro-list-row-content",{flex:0,margin:"0"}),o()(s,".ant-pro-list .ant-pro-list-row",{paddingLeft:"10px",paddingRight:"10px"}),s)),o()(h,"@media  (max-width: ".concat(g.screenXS,"px)"),o()({},"".concat(p),(E={},o()(E,"&-content",{marginInlineStart:"0","& > div":{marginInlineStart:"0"}}),o()(E,"&-item-content",{display:"block",flex:"none",width:"100%"}),E))),o()(h,"@media  (max-width: ".concat(g.screenSM,"px)"),o()({},"".concat(p),{})),o()(h,"@media  (max-width: ".concat(g.screenMD,"px)"),o()({},"".concat(p),o()({},"&-content",{"& > div":{display:"block","&:last-child":{top:"0",width:"100%"}}}))),o()(h,"@media  (max-width: ".concat(g.screenLG,"px) and @media (min-width: ").concat(g.screenMD,"px)"),o()({},"".concat(p),o()({},"&-content",{"& > div":{display:"block","&:last-child":{top:"0",width:"100%"}}}))),o()(h,"@media  (max-width: ".concat(g.screenXL,"px)"),o()({},"".concat(p),o()({},"&-content",{"& > div":{marginInlineStart:"24px","&:last-child":{top:"0"}}}))),o()(h,"@media  (max-width: 1400px)",o()({},"".concat(p),o()({},"&-content",{"& > div":{"&:last-child":{top:"0"}}}))),h});return{className:B}}var ou=t(94184),M=t.n(ou),ue=t(67038),V="identity-source-list",cu=se.Z.Paragraph,Ce=function(r){var n=r.category,u=(0,R.useRef)(),p=(0,R.useState)(),B=L()(p,2),c=B[0],s=B[1],E=(0,R.useState)(!1),h=L()(E,2),g=h[0],Z=h[1],I=(0,R.useState)(!1),j=L()(I,2),k=j[0],T=j[1],U=function(){var m=x()(l()().mark(function w(i){var C,A,P,d,D,H;return l()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,Se(i);case 3:if(C=b.sent,A=C.success,P=C.result,!(P&&A)){b.next=18;break}if(!(P.id&&Re.includes(P.type))){b.next=14;break}return b.next=10,te(P.id);case 10:D=b.sent,D.success&&D.result&&(H=$e.Z.success({title:"\u6DFB\u52A0\u6210\u529F",content:(0,e.jsxs)(e.Fragment,{children:["\u8BF7\u524D\u5F80\u63D0\u4F9B\u5546\u5F00\u53D1\u540E\u53F0\u914D\u7F6E\u56DE\u8C03\u5730\u5740\uFF1A",(0,e.jsx)(cu,{copyable:{text:D.result.redirectUri},children:(0,e.jsx)("a",{href:"javascript:void(0);",children:D.result.redirectUri})})]}),okText:"\u786E\u8BA4",onOk:function(){H.destroy()}})),b.next=15;break;case 14:K.ZP.success("\u6DFB\u52A0\u6210\u529F");case 15:return Z(!1),(d=u.current)===null||d===void 0||d.reload(),b.abrupt("return",!0);case 18:return b.abrupt("return",!1);case 21:return b.prev=21,b.t0=b.catch(0),b.abrupt("return",!1);case 24:case"end":return b.stop()}},w,null,[[0,21]])}));return function(i){return m.apply(this,arguments)}}(),S=function(){var m=x()(l()().mark(function w(i){var C,A;return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,je($()({},i));case 3:if(C=d.sent,!(C!=null&&C.result&&C!==null&&C!==void 0&&C.success)){d.next=9;break}return K.ZP.success("\u64CD\u4F5C\u6210\u529F").then(),T(!1),(A=u.current)===null||A===void 0||A.reload(),d.abrupt("return",!0);case 9:return d.abrupt("return",!1);case 12:return d.prev=12,d.t0=d.catch(0),d.abrupt("return",!1);case 15:case"end":return d.stop()}},w,null,[[0,12]])}));return function(i){return m.apply(this,arguments)}}(),N=function(w){return(0,e.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"flex-end"},children:(0,e.jsx)("div",{className:M()("".concat(V,"-content")),children:(0,e.jsx)("div",{className:M()("".concat(V,"-item-content")),children:w.enabled?(0,e.jsx)(ie.Z,{color:"#5BD8A6",children:"\u5DF2\u5F00\u542F"}):(0,e.jsx)(ie.Z,{color:"#e54545",children:"\u672A\u542F\u7528"})})})})};return(0,e.jsxs)("div",{className:M()("".concat(V)),children:[(0,e.jsx)(Ze.Rs,{actionRef:u,rowKey:"id",split:!0,pagination:{showQuickJumper:!1,defaultPageSize:5,size:"small"},showActions:"always",headerTitle:"\u63D0\u4F9B\u5546\u5217\u8868",toolBarRender:function(){return[(0,e.jsx)(Te.Z,{icon:(0,e.jsx)(Pe.Z,{}),type:"primary",onClick:function(){Z(!0)},children:"\u6DFB\u52A0\u8BA4\u8BC1\u6E90"},"add")]},request:Be,params:{category:n},search:{},metas:{title:{dataIndex:"name",title:"\u8BA4\u8BC1\u6E90\u540D\u79F0",render:function(w,i){return(0,e.jsx)("span",{onClick:function(){T(!0),s(i.id)},children:i.name})}},avatar:{search:!1,render:function(w,i){return(0,e.jsx)(Le.C,{shape:"square",size:50,src:ye.Y[i.type]},i.id)}},description:{search:!1,render:function(w,i){return i.remark?(0,e.jsx)("span",{children:i.remark}):(0,e.jsx)("span",{children:i.desc})}},content:{search:!1,render:function(w,i){return[(0,e.jsx)(N,$()({},i),"context")]}},actions:{render:function(w,i){return[i.enabled?(0,e.jsx)(ee.Z,{title:"\u60A8\u662F\u5426\u8981\u7981\u7528\u8BA4\u8BC1\u6E90\u5417\uFF1F",placement:"bottomRight",icon:(0,e.jsx)(_.Z,{style:{color:"red"}}),onConfirm:x()(l()().mark(function C(){var A,P,d,D;return l()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,be(i.id);case 2:if(A=f.sent,P=A.success,d=A.result,!(P&&d)){f.next=9;break}return K.ZP.success("\u64CD\u4F5C\u6210\u529F"),(D=u.current)===null||D===void 0||D.reload(),f.abrupt("return");case 9:case"end":return f.stop()}},C)})),okText:"\u662F",cancelText:"\u5426",children:(0,e.jsx)("a",{children:"\u7981\u7528"},"disabled")},"disabled"):(0,e.jsx)(ee.Z,{title:"\u60A8\u662F\u5426\u8981\u542F\u7528\u8EAB\u4EFD\u6E90\u5417\uFF1F",placement:"bottomRight",icon:(0,e.jsx)(_.Z,{}),onConfirm:x()(l()().mark(function C(){var A,P,d,D;return l()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,De(i.id);case 2:if(A=f.sent,P=A.success,d=A.result,!(P&&d)){f.next=9;break}return K.ZP.success("\u64CD\u4F5C\u6210\u529F"),(D=u.current)===null||D===void 0||D.reload(),f.abrupt("return");case 9:case"end":return f.stop()}},C)})),okText:"\u662F",cancelText:"\u5426",children:(0,e.jsx)("a",{children:"\u542F\u7528"},"enabled")},"disabled"),(0,e.jsx)("a",{onClick:function(){s(i.id),T(!0)},children:"\u914D\u7F6E"},"config"),(0,e.jsx)(ee.Z,{title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BA4\u8BC1\u6E90\u5417\uFF1F",placement:"bottomRight",icon:(0,e.jsx)(_.Z,{style:{color:"red"}}),onConfirm:x()(l()().mark(function C(){var A,P,d,D;return l()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,we(i.id);case 2:if(A=f.sent,P=A.success,d=A.result,!(P&&d)){f.next=10;break}return K.ZP.success("\u64CD\u4F5C\u6210\u529F"),f.next=9,(D=u.current)===null||D===void 0?void 0:D.reload();case 9:return f.abrupt("return");case 10:case"end":return f.stop()}},C)})),okText:"\u662F",cancelText:"\u5426",children:(0,e.jsx)("a",{target:"_blank",style:{color:"red"},children:"\u5220\u9664"},"remove")},"delete")]}}}}),(0,e.jsx)(eu,{category:n,visible:g,onCancel:function(){Z(!1)},onFinish:U}),c&&(0,e.jsx)(ru,{visible:k,id:c,onFinish:S,onCancel:function(){T(!1)}})]})},du=function(){var r=(0,O.useLocation)(),n=(0,R.useState)(),u=L()(n,2),p=u[0],B=u[1],c=(0,ue.parse)(r.search),s=c,E=s.tab,h=lu(V),g=h.className;return(0,ke.Z)(x()(l()().mark(function Z(){return l()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(!E||!(E.toUpperCase()in y))){j.next=4;break}return B(y.social),ne.m.push({pathname:r.pathname,search:(0,ue.stringify)({tab:y.social})}),j.abrupt("return");case 4:B(E);case 5:case"end":return j.stop()}},Z)}))),(0,e.jsx)("div",{className:g,children:(0,e.jsxs)(Ie._z,{content:"\u652F\u6301\u8BBE\u7F6E\u591A\u79CD\u8BA4\u8BC1\u6E90\uFF0C\u4F01\u4E1A\u7528\u6237\u5373\u53EF\u901A\u8FC7\u4E0D\u540C\u65B9\u5F0F\u767B\u5F55\u95E8\u6237\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u7684\u8BA4\u8BC1\u6E90\u4E3A\u7528\u6237\u5BC6\u7801\u548C\u77ED\u4FE1\u5FEB\u6377\u8BA4\u8BC1\uFF0C\u60A8\u8FD8\u53EF\u6DFB\u52A0\u9489\u9489\u626B\u7801\u3001\u5FAE\u4FE1\u626B\u7801\u3001\u4F01\u4E1A\u5FAE\u4FE1\u3001LDAP\u548CCAS\u534F\u8BAE\u8BA4\u8BC1\u6E90\u4F5C\u4E3A\u8BA4\u8BC1\u6E90\u3002",tabActiveKey:p,onTabChange:function(I){B(I),ne.m.replace({pathname:r.pathname,search:(0,ue.stringify)({tab:I})})},tabProps:{size:"small"},className:M()("".concat(V)),tabList:[{tab:"\u793E\u4EA4\u8BA4\u8BC1\u6E90",key:y.social},{tab:"\u4F01\u4E1A\u8BA4\u8BC1\u6E90",key:y.enterprise}],children:[y.social===p&&(0,e.jsx)(Ce,{category:y.social}),y.enterprise===p&&(0,e.jsx)(Ce,{category:y.enterprise})]})})},pu=du,fu=pu}}]);
